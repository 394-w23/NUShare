var IC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var xU=IC((OU,hl)=>{function NC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Iv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var go={},xC={get exports(){return go},set exports(t){go=t}},wu={},g={},RC={get exports(){return g},set exports(t){g=t}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),OC=Symbol.for("react.portal"),DC=Symbol.for("react.fragment"),PC=Symbol.for("react.strict_mode"),MC=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),AC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),FC=Symbol.for("react.suspense"),UC=Symbol.for("react.memo"),WC=Symbol.for("react.lazy"),Wm=Symbol.iterator;function $C(t){return t===null||typeof t!="object"?null:(t=Wm&&t[Wm]||t["@@iterator"],typeof t=="function"?t:null)}var Nv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xv=Object.assign,Rv={};function Ss(t,e,n){this.props=t,this.context=e,this.refs=Rv,this.updater=n||Nv}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ss.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ov(){}Ov.prototype=Ss.prototype;function Kh(t,e,n){this.props=t,this.context=e,this.refs=Rv,this.updater=n||Nv}var qh=Kh.prototype=new Ov;qh.constructor=Kh;xv(qh,Ss.prototype);qh.isPureReactComponent=!0;var $m=Array.isArray,Dv=Object.prototype.hasOwnProperty,Qh={current:null},Pv={key:!0,ref:!0,__self:!0,__source:!0};function Mv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Dv.call(e,r)&&!Pv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qo,type:t,key:s,ref:o,props:i,_owner:Qh.current}}function zC(t,e){return{$$typeof:Qo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qo}function BC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zm=/\/+/g;function gc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BC(""+t.key):e.toString(36)}function Ga(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qo:case OC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gc(o,0):r,$m(i)?(n="",t!=null&&(n=t.replace(zm,"$&/")+"/"),Ga(i,e,n,"",function(u){return u})):i!=null&&(Xh(i)&&(i=zC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$m(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gc(s,a);o+=Ga(s,e,n,l,i)}else if(l=$C(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gc(s,a++),o+=Ga(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sa(t,e,n){if(t==null)return t;var r=[],i=0;return Ga(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Ka={transition:null},HC={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:Qh};G.Children={map:Sa,forEach:function(t,e,n){Sa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sa(t,function(){e++}),e},toArray:function(t){return Sa(t,function(e){return e})||[]},only:function(t){if(!Xh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Ss;G.Fragment=DC;G.Profiler=MC;G.PureComponent=Kh;G.StrictMode=PC;G.Suspense=FC;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HC;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Dv.call(e,l)&&!Pv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qo,type:t.type,key:i,ref:s,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:AC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bC,_context:t},t.Consumer=t};G.createElement=Mv;G.createFactory=function(t){var e=Mv.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:LC,render:t}};G.isValidElement=Xh;G.lazy=function(t){return{$$typeof:WC,_payload:{_status:-1,_result:t},_init:jC}};G.memo=function(t,e){return{$$typeof:UC,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Ka.transition;Ka.transition={};try{t()}finally{Ka.transition=e}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(t,e){return st.current.useCallback(t,e)};G.useContext=function(t){return st.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return st.current.useDeferredValue(t)};G.useEffect=function(t,e){return st.current.useEffect(t,e)};G.useId=function(){return st.current.useId()};G.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return st.current.useMemo(t,e)};G.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};G.useRef=function(t){return st.current.useRef(t)};G.useState=function(t){return st.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return st.current.useTransition()};G.version="18.2.0";(function(t){t.exports=G})(RC);const Fe=Iv(g),pd=NC({__proto__:null,default:Fe},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=g,VC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),KC=Object.prototype.hasOwnProperty,qC=YC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QC={key:!0,ref:!0,__self:!0,__source:!0};function bv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KC.call(e,r)&&!QC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VC,type:t,key:s,ref:o,props:i,_owner:qC.current}}wu.Fragment=GC;wu.jsx=bv;wu.jsxs=bv;(function(t){t.exports=wu})(xC);const Rt=go.Fragment,f=go.jsx,A=go.jsxs;var md={},fl={},XC={get exports(){return fl},set exports(t){fl=t}},Et={},gd={},JC={get exports(){return gd},set exports(t){gd=t}},Av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var U=O.length;O.push(F);e:for(;0<U;){var oe=U-1>>>1,me=O[oe];if(0<i(me,F))O[oe]=F,O[U]=me,U=oe;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],U=O.pop();if(U!==F){O[0]=U;e:for(var oe=0,me=O.length,Jn=me>>>1;oe<Jn;){var Tt=2*(oe+1)-1,Ve=O[Tt],nt=Tt+1,Zn=O[nt];if(0>i(Ve,U))nt<me&&0>i(Zn,Ve)?(O[oe]=Zn,O[nt]=U,oe=nt):(O[oe]=Ve,O[Tt]=U,oe=Tt);else if(nt<me&&0>i(Zn,U))O[oe]=Zn,O[nt]=U,oe=nt;else break e}}return F}function i(O,F){var U=O.sortIndex-F.sortIndex;return U!==0?U:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,_=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=O)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function S(O){if(w=!1,v(O),!y)if(n(l)!==null)y=!0,Ur(x);else{var F=n(u);F!==null&&Xn(S,F.startTime-O)}}function x(O,F){y=!1,w&&(w=!1,m(R),R=-1),_=!0;var U=h;try{for(v(F),d=n(l);d!==null&&(!(d.expirationTime>F)||O&&!tt());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var me=oe(d.expirationTime<=F);F=t.unstable_now(),typeof me=="function"?d.callback=me:d===n(l)&&r(l),v(F)}else r(l);d=n(l)}if(d!==null)var Jn=!0;else{var Tt=n(u);Tt!==null&&Xn(S,Tt.startTime-F),Jn=!1}return Jn}finally{d=null,h=U,_=!1}}var I=!1,C=null,R=-1,B=5,$=-1;function tt(){return!(t.unstable_now()-$<B)}function _n(){if(C!==null){var O=t.unstable_now();$=O;var F=!0;try{F=C(!0,O)}finally{F?Ut():(I=!1,C=null)}}else I=!1}var Ut;if(typeof p=="function")Ut=function(){p(_n)};else if(typeof MessageChannel<"u"){var nn=new MessageChannel,xe=nn.port2;nn.port1.onmessage=_n,Ut=function(){xe.postMessage(null)}}else Ut=function(){E(_n,0)};function Ur(O){C=O,I||(I=!0,Ut())}function Xn(O,F){R=E(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||_||(y=!0,Ur(x))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var U=h;h=F;try{return O()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=h;h=O;try{return F()}finally{h=U}},t.unstable_scheduleCallback=function(O,F,U){var oe=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?oe+U:oe):U=oe,O){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=U+me,O={id:c++,callback:F,priorityLevel:O,startTime:U,expirationTime:me,sortIndex:-1},U>oe?(O.sortIndex=U,e(u,O),n(l)===null&&O===n(u)&&(w?(m(R),R=-1):w=!0,Xn(S,U-oe))):(O.sortIndex=me,e(l,O),y||_||(y=!0,Ur(x))),O},t.unstable_shouldYield=tt,t.unstable_wrapCallback=function(O){var F=h;return function(){var U=h;h=F;try{return O.apply(this,arguments)}finally{h=U}}}})(Av);(function(t){t.exports=Av})(JC);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=g,St=gd;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fv=new Set,_o={};function gi(t,e){as(t,e),as(t+"Capture",e)}function as(t,e){for(_o[t]=e,t=0;t<e.length;t++)Fv.add(e[t])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=Object.prototype.hasOwnProperty,ZC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bm={},jm={};function e1(t){return _d.call(jm,t)?!0:_d.call(Bm,t)?!1:ZC.test(t)?jm[t]=!0:(Bm[t]=!0,!1)}function t1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n1(t,e,n,r){if(e===null||typeof e>"u"||t1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jh=/[\-:]([a-z])/g;function Zh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jh,Zh);He[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jh,Zh);He[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jh,Zh);He[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function ef(t,e,n,r){var i=He.hasOwnProperty(e)?He[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n1(e,n,i,r)&&(n=null),r||i===null?e1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yn=Lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),Di=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),Wv=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),wd=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),$v=Symbol.for("react.offscreen"),Hm=Symbol.iterator;function Ms(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,_c;function Ks(t){if(_c===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_c=e&&e[1]||""}return`
`+_c+t}var vc=!1;function yc(t,e){if(!t||vc)return"";vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ks(t):""}function r1(t){switch(t.tag){case 5:return Ks(t.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return t=yc(t.type,!1),t;case 11:return t=yc(t.type.render,!1),t;case 1:return t=yc(t.type,!0),t;default:return""}}function Sd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pi:return"Fragment";case Di:return"Portal";case vd:return"Profiler";case tf:return"StrictMode";case yd:return"Suspense";case wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wv:return(t.displayName||"Context")+".Consumer";case Uv:return(t._context.displayName||"Context")+".Provider";case nf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rf:return e=t.displayName||null,e!==null?e:Sd(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Sd(t(e))}catch{}}return null}function i1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sd(e);case 8:return e===tf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s1(t){var e=zv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ca(t){t._valueTracker||(t._valueTracker=s1(t))}function Bv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ed(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ym(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jv(t,e){e=e.checked,e!=null&&ef(t,"checked",e,!1)}function Cd(t,e){jv(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kd(t,e.type,n):e.hasOwnProperty("defaultValue")&&kd(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kd(t,e,n){(e!=="number"||pl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qs=Array.isArray;function Vi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Td(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(qs(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function Hv(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Km(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Id(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ka,Vv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o1=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(t){o1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zs[e]=Zs[t]})});function Gv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zs.hasOwnProperty(t)&&Zs[t]?(""+e).trim():e+"px"}function Kv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var a1=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nd(t,e){if(e){if(a1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function xd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=null;function sf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Od=null,Gi=null,Ki=null;function qm(t){if(t=Zo(t)){if(typeof Od!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Tu(e),Od(t.stateNode,t.type,e))}}function qv(t){Gi?Ki?Ki.push(t):Ki=[t]:Gi=t}function Qv(){if(Gi){var t=Gi,e=Ki;if(Ki=Gi=null,qm(t),e)for(t=0;t<e.length;t++)qm(e[t])}}function Xv(t,e){return t(e)}function Jv(){}var wc=!1;function Zv(t,e,n){if(wc)return t(e,n);wc=!0;try{return Xv(t,e,n)}finally{wc=!1,(Gi!==null||Ki!==null)&&(Jv(),Qv())}}function yo(t,e){var n=t.stateNode;if(n===null)return null;var r=Tu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var Dd=!1;if(Ln)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Dd=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Dd=!1}function l1(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var eo=!1,ml=null,gl=!1,Pd=null,u1={onError:function(t){eo=!0,ml=t}};function c1(t,e,n,r,i,s,o,a,l){eo=!1,ml=null,l1.apply(u1,arguments)}function d1(t,e,n,r,i,s,o,a,l){if(c1.apply(this,arguments),eo){if(eo){var u=ml;eo=!1,ml=null}else throw Error(k(198));gl||(gl=!0,Pd=u)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ey(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qm(t){if(_i(t)!==t)throw Error(k(188))}function h1(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qm(i),t;if(s===r)return Qm(i),e;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function ty(t){return t=h1(t),t!==null?ny(t):null}function ny(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ny(t);if(e!==null)return e;t=t.sibling}return null}var ry=St.unstable_scheduleCallback,Xm=St.unstable_cancelCallback,f1=St.unstable_shouldYield,p1=St.unstable_requestPaint,Ie=St.unstable_now,m1=St.unstable_getCurrentPriorityLevel,of=St.unstable_ImmediatePriority,iy=St.unstable_UserBlockingPriority,_l=St.unstable_NormalPriority,g1=St.unstable_LowPriority,sy=St.unstable_IdlePriority,Su=null,ln=null;function _1(t){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Su,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:w1,v1=Math.log,y1=Math.LN2;function w1(t){return t>>>=0,t===0?32:31-(v1(t)/y1|0)|0}var Ta=64,Ia=4194304;function Qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qs(a):(s&=o,s!==0&&(r=Qs(s)))}else o=n&~i,o!==0?r=Qs(o):s!==0&&(r=Qs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kt(e),i=1<<n,r|=t[n],e&=~i;return r}function S1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Kt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=S1(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Md(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oy(){var t=Ta;return Ta<<=1,!(Ta&4194240)&&(Ta=64),t}function Sc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kt(e),t[e]=n}function C1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function af(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var te=0;function ay(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ly,lf,uy,cy,dy,bd=!1,Na=[],mr=null,gr=null,_r=null,wo=new Map,So=new Map,sr=[],k1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jm(t,e){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":wo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function As(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zo(e),e!==null&&lf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function T1(t,e,n,r,i){switch(e){case"focusin":return mr=As(mr,t,e,n,r,i),!0;case"dragenter":return gr=As(gr,t,e,n,r,i),!0;case"mouseover":return _r=As(_r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wo.set(s,As(wo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,So.set(s,As(So.get(s)||null,t,e,n,r,i)),!0}return!1}function hy(t){var e=Yr(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=ey(n),e!==null){t.blockedOn=e,dy(t.priority,function(){uy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ad(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rd=r,n.target.dispatchEvent(r),Rd=null}else return e=Zo(n),e!==null&&lf(e),t.blockedOn=n,!1;e.shift()}return!0}function Zm(t,e,n){qa(t)&&n.delete(e)}function I1(){bd=!1,mr!==null&&qa(mr)&&(mr=null),gr!==null&&qa(gr)&&(gr=null),_r!==null&&qa(_r)&&(_r=null),wo.forEach(Zm),So.forEach(Zm)}function Ls(t,e){t.blockedOn===e&&(t.blockedOn=null,bd||(bd=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,I1)))}function Eo(t){function e(i){return Ls(i,t)}if(0<Na.length){Ls(Na[0],t);for(var n=1;n<Na.length;n++){var r=Na[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mr!==null&&Ls(mr,t),gr!==null&&Ls(gr,t),_r!==null&&Ls(_r,t),wo.forEach(e),So.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)hy(n),n.blockedOn===null&&sr.shift()}var qi=Yn.ReactCurrentBatchConfig,yl=!0;function N1(t,e,n,r){var i=te,s=qi.transition;qi.transition=null;try{te=1,uf(t,e,n,r)}finally{te=i,qi.transition=s}}function x1(t,e,n,r){var i=te,s=qi.transition;qi.transition=null;try{te=4,uf(t,e,n,r)}finally{te=i,qi.transition=s}}function uf(t,e,n,r){if(yl){var i=Ad(t,e,n,r);if(i===null)Dc(t,e,r,wl,n),Jm(t,r);else if(T1(i,t,e,n,r))r.stopPropagation();else if(Jm(t,r),e&4&&-1<k1.indexOf(t)){for(;i!==null;){var s=Zo(i);if(s!==null&&ly(s),s=Ad(t,e,n,r),s===null&&Dc(t,e,r,wl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dc(t,e,r,null,n)}}var wl=null;function Ad(t,e,n,r){if(wl=null,t=sf(r),t=Yr(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ey(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wl=t,null}function fy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m1()){case of:return 1;case iy:return 4;case _l:case g1:return 16;case sy:return 536870912;default:return 16}default:return 16}}var cr=null,cf=null,Qa=null;function py(){if(Qa)return Qa;var t,e=cf,n=e.length,r,i="value"in cr?cr.value:cr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qa=i.slice(t,1<r?1-r:void 0)}function Xa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xa(){return!0}function eg(){return!1}function Ct(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xa:eg,this.isPropagationStopped=eg,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=Ct(Es),Jo=Se({},Es,{view:0,detail:0}),R1=Ct(Jo),Ec,Cc,Fs,Eu=Se({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fs&&(Fs&&t.type==="mousemove"?(Ec=t.screenX-Fs.screenX,Cc=t.screenY-Fs.screenY):Cc=Ec=0,Fs=t),Ec)},movementY:function(t){return"movementY"in t?t.movementY:Cc}}),tg=Ct(Eu),O1=Se({},Eu,{dataTransfer:0}),D1=Ct(O1),P1=Se({},Jo,{relatedTarget:0}),kc=Ct(P1),M1=Se({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),b1=Ct(M1),A1=Se({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L1=Ct(A1),F1=Se({},Es,{data:0}),ng=Ct(F1),U1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$1[t])?!!e[t]:!1}function hf(){return z1}var B1=Se({},Jo,{key:function(t){if(t.key){var e=U1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hf,charCode:function(t){return t.type==="keypress"?Xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j1=Ct(B1),H1=Se({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rg=Ct(H1),Y1=Se({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hf}),V1=Ct(Y1),G1=Se({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),K1=Ct(G1),q1=Se({},Eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q1=Ct(q1),X1=[9,13,27,32],ff=Ln&&"CompositionEvent"in window,to=null;Ln&&"documentMode"in document&&(to=document.documentMode);var J1=Ln&&"TextEvent"in window&&!to,my=Ln&&(!ff||to&&8<to&&11>=to),ig=String.fromCharCode(32),sg=!1;function gy(t,e){switch(t){case"keyup":return X1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _y(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mi=!1;function Z1(t,e){switch(t){case"compositionend":return _y(e);case"keypress":return e.which!==32?null:(sg=!0,ig);case"textInput":return t=e.data,t===ig&&sg?null:t;default:return null}}function ek(t,e){if(Mi)return t==="compositionend"||!ff&&gy(t,e)?(t=py(),Qa=cf=cr=null,Mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return my&&e.locale!=="ko"?null:e.data;default:return null}}var tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tk[t.type]:e==="textarea"}function vy(t,e,n,r){qv(r),e=Sl(e,"onChange"),0<e.length&&(n=new df("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var no=null,Co=null;function nk(t){Ry(t,0)}function Cu(t){var e=Li(t);if(Bv(e))return t}function rk(t,e){if(t==="change")return e}var yy=!1;if(Ln){var Tc;if(Ln){var Ic="oninput"in document;if(!Ic){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),Ic=typeof ag.oninput=="function"}Tc=Ic}else Tc=!1;yy=Tc&&(!document.documentMode||9<document.documentMode)}function lg(){no&&(no.detachEvent("onpropertychange",wy),Co=no=null)}function wy(t){if(t.propertyName==="value"&&Cu(Co)){var e=[];vy(e,Co,t,sf(t)),Zv(nk,e)}}function ik(t,e,n){t==="focusin"?(lg(),no=e,Co=n,no.attachEvent("onpropertychange",wy)):t==="focusout"&&lg()}function sk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Co)}function ok(t,e){if(t==="click")return Cu(e)}function ak(t,e){if(t==="input"||t==="change")return Cu(e)}function lk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:lk;function ko(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_d.call(e,i)||!Jt(t[i],e[i]))return!1}return!0}function ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cg(t,e){var n=ug(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ug(n)}}function Sy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ey(){for(var t=window,e=pl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pl(t.document)}return e}function pf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uk(t){var e=Ey(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sy(n.ownerDocument.documentElement,n)){if(r!==null&&pf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cg(n,s);var o=cg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ck=Ln&&"documentMode"in document&&11>=document.documentMode,bi=null,Ld=null,ro=null,Fd=!1;function dg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||bi==null||bi!==pl(r)||(r=bi,"selectionStart"in r&&pf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ro&&ko(ro,r)||(ro=r,r=Sl(Ld,"onSelect"),0<r.length&&(e=new df("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bi)))}function Ra(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},Nc={},Cy={};Ln&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function ku(t){if(Nc[t])return Nc[t];if(!Ai[t])return t;var e=Ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cy)return Nc[t]=e[n];return t}var ky=ku("animationend"),Ty=ku("animationiteration"),Iy=ku("animationstart"),Ny=ku("transitionend"),xy=new Map,hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){xy.set(t,e),gi(e,[t])}for(var xc=0;xc<hg.length;xc++){var Rc=hg[xc],dk=Rc.toLowerCase(),hk=Rc[0].toUpperCase()+Rc.slice(1);br(dk,"on"+hk)}br(ky,"onAnimationEnd");br(Ty,"onAnimationIteration");br(Iy,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(Ny,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function fg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d1(r,e,void 0,t),t.currentTarget=null}function Ry(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fg(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fg(i,a,u),s=l}}}if(gl)throw t=Pd,gl=!1,Pd=null,t}function de(t,e){var n=e[Bd];n===void 0&&(n=e[Bd]=new Set);var r=t+"__bubble";n.has(r)||(Oy(e,t,2,!1),n.add(r))}function Oc(t,e,n){var r=0;e&&(r|=4),Oy(n,t,r,e)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Oa]){t[Oa]=!0,Fv.forEach(function(n){n!=="selectionchange"&&(fk.has(n)||Oc(n,!1,t),Oc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oa]||(e[Oa]=!0,Oc("selectionchange",!1,e))}}function Oy(t,e,n,r){switch(fy(e)){case 1:var i=N1;break;case 4:i=x1;break;default:i=uf}n=i.bind(null,e,n,t),i=void 0,!Dd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Zv(function(){var u=s,c=sf(n),d=[];e:{var h=xy.get(t);if(h!==void 0){var _=df,y=t;switch(t){case"keypress":if(Xa(n)===0)break e;case"keydown":case"keyup":_=j1;break;case"focusin":y="focus",_=kc;break;case"focusout":y="blur",_=kc;break;case"beforeblur":case"afterblur":_=kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=D1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=V1;break;case ky:case Ty:case Iy:_=b1;break;case Ny:_=K1;break;case"scroll":_=R1;break;case"wheel":_=Q1;break;case"copy":case"cut":case"paste":_=L1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=rg}var w=(e&4)!==0,E=!w&&t==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,v;p!==null;){v=p;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,m!==null&&(S=yo(p,m),S!=null&&w.push(Io(p,S,v)))),E)break;p=p.return}0<w.length&&(h=new _(h,y,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==Rd&&(y=n.relatedTarget||n.fromElement)&&(Yr(y)||y[Fn]))break e;if((_||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,_?(y=n.relatedTarget||n.toElement,_=u,y=y?Yr(y):null,y!==null&&(E=_i(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(_=null,y=u),_!==y)){if(w=tg,S="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=rg,S="onPointerLeave",m="onPointerEnter",p="pointer"),E=_==null?h:Li(_),v=y==null?h:Li(y),h=new w(S,p+"leave",_,n,c),h.target=E,h.relatedTarget=v,S=null,Yr(c)===u&&(w=new w(m,p+"enter",y,n,c),w.target=v,w.relatedTarget=E,S=w),E=S,_&&y)t:{for(w=_,m=y,p=0,v=w;v;v=ki(v))p++;for(v=0,S=m;S;S=ki(S))v++;for(;0<p-v;)w=ki(w),p--;for(;0<v-p;)m=ki(m),v--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=ki(w),m=ki(m)}w=null}else w=null;_!==null&&pg(d,h,_,w,!1),y!==null&&E!==null&&pg(d,E,y,w,!0)}}e:{if(h=u?Li(u):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var x=rk;else if(og(h))if(yy)x=ak;else{x=sk;var I=ik}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=ok);if(x&&(x=x(t,u))){vy(d,x,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&kd(h,"number",h.value)}switch(I=u?Li(u):window,t){case"focusin":(og(I)||I.contentEditable==="true")&&(bi=I,Ld=u,ro=null);break;case"focusout":ro=Ld=bi=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,dg(d,n,c);break;case"selectionchange":if(ck)break;case"keydown":case"keyup":dg(d,n,c)}var C;if(ff)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Mi?gy(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(my&&n.locale!=="ko"&&(Mi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Mi&&(C=py()):(cr=c,cf="value"in cr?cr.value:cr.textContent,Mi=!0)),I=Sl(u,R),0<I.length&&(R=new ng(R,t,null,n,c),d.push({event:R,listeners:I}),C?R.data=C:(C=_y(n),C!==null&&(R.data=C)))),(C=J1?Z1(t,n):ek(t,n))&&(u=Sl(u,"onBeforeInput"),0<u.length&&(c=new ng("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}Ry(d,e)})}function Io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yo(t,n),s!=null&&r.unshift(Io(t,s,i)),s=yo(t,e),s!=null&&r.push(Io(t,s,i))),t=t.return}return r}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=yo(n,s),l!=null&&o.unshift(Io(n,l,a))):i||(l=yo(n,s),l!=null&&o.push(Io(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pk=/\r\n?/g,mk=/\u0000|\uFFFD/g;function mg(t){return(typeof t=="string"?t:""+t).replace(pk,`
`).replace(mk,"")}function Da(t,e,n){if(e=mg(e),mg(t)!==e&&n)throw Error(k(425))}function El(){}var Ud=null,Wd=null;function $d(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,gk=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,_k=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(t){return gg.resolve(null).then(t).catch(vk)}:zd;function vk(t){setTimeout(function(){throw t})}function Pc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Eo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Eo(e)}function vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _g(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),on="__reactFiber$"+Cs,No="__reactProps$"+Cs,Fn="__reactContainer$"+Cs,Bd="__reactEvents$"+Cs,yk="__reactListeners$"+Cs,wk="__reactHandles$"+Cs;function Yr(t){var e=t[on];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fn]||n[on]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_g(t);t!==null;){if(n=t[on])return n;t=_g(t)}return e}t=n,n=t.parentNode}return null}function Zo(t){return t=t[on]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Tu(t){return t[No]||null}var jd=[],Fi=-1;function Ar(t){return{current:t}}function he(t){0>Fi||(t.current=jd[Fi],jd[Fi]=null,Fi--)}function ue(t,e){Fi++,jd[Fi]=t.current,t.current=e}var Dr={},Xe=Ar(Dr),ft=Ar(!1),ii=Dr;function ls(t,e){var n=t.type.contextTypes;if(!n)return Dr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pt(t){return t=t.childContextTypes,t!=null}function Cl(){he(ft),he(Xe)}function vg(t,e,n){if(Xe.current!==Dr)throw Error(k(168));ue(Xe,e),ue(ft,n)}function Dy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(k(108,i1(t)||"Unknown",i));return Se({},n,r)}function kl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,ii=Xe.current,ue(Xe,t),ue(ft,ft.current),!0}function yg(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=Dy(t,e,ii),r.__reactInternalMemoizedMergedChildContext=t,he(ft),he(Xe),ue(Xe,t)):he(ft),ue(ft,n)}var Sn=null,Iu=!1,Mc=!1;function Py(t){Sn===null?Sn=[t]:Sn.push(t)}function Sk(t){Iu=!0,Py(t)}function Lr(){if(!Mc&&Sn!==null){Mc=!0;var t=0,e=te;try{var n=Sn;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sn=null,Iu=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(t+1)),ry(of,Lr),i}finally{te=e,Mc=!1}}return null}var Ui=[],Wi=0,Tl=null,Il=0,It=[],Nt=0,si=null,kn=1,Tn="";function $r(t,e){Ui[Wi++]=Il,Ui[Wi++]=Tl,Tl=t,Il=e}function My(t,e,n){It[Nt++]=kn,It[Nt++]=Tn,It[Nt++]=si,si=t;var r=kn;t=Tn;var i=32-Kt(r)-1;r&=~(1<<i),n+=1;var s=32-Kt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,kn=1<<32-Kt(e)+i|n<<i|r,Tn=s+t}else kn=1<<s|n<<i|r,Tn=t}function mf(t){t.return!==null&&($r(t,1),My(t,1,0))}function gf(t){for(;t===Tl;)Tl=Ui[--Wi],Ui[Wi]=null,Il=Ui[--Wi],Ui[Wi]=null;for(;t===si;)si=It[--Nt],It[Nt]=null,Tn=It[--Nt],It[Nt]=null,kn=It[--Nt],It[Nt]=null}var wt=null,yt=null,ve=!1,Bt=null;function by(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wt=t,yt=vr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wt=t,yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:kn,overflow:Tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wt=t,yt=null,!0):!1;default:return!1}}function Hd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yd(t){if(ve){var e=yt;if(e){var n=e;if(!wg(t,e)){if(Hd(t))throw Error(k(418));e=vr(n.nextSibling);var r=wt;e&&wg(t,e)?by(r,n):(t.flags=t.flags&-4097|2,ve=!1,wt=t)}}else{if(Hd(t))throw Error(k(418));t.flags=t.flags&-4097|2,ve=!1,wt=t}}}function Sg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function Pa(t){if(t!==wt)return!1;if(!ve)return Sg(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$d(t.type,t.memoizedProps)),e&&(e=yt)){if(Hd(t))throw Ay(),Error(k(418));for(;e;)by(t,e),e=vr(e.nextSibling)}if(Sg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yt=vr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yt=null}}else yt=wt?vr(t.stateNode.nextSibling):null;return!0}function Ay(){for(var t=yt;t;)t=vr(t.nextSibling)}function us(){yt=wt=null,ve=!1}function _f(t){Bt===null?Bt=[t]:Bt.push(t)}var Ek=Yn.ReactCurrentBatchConfig;function $t(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nl=Ar(null),xl=null,$i=null,vf=null;function yf(){vf=$i=xl=null}function wf(t){var e=Nl.current;he(Nl),t._currentValue=e}function Vd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qi(t,e){xl=t,vf=$i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ct=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(vf!==t)if(t={context:t,memoizedValue:e,next:null},$i===null){if(xl===null)throw Error(k(308));$i=t,xl.dependencies={lanes:0,firstContext:t}}else $i=$i.next=t;return e}var Vr=null;function Sf(t){Vr===null?Vr=[t]:Vr.push(t)}function Ly(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Un(t,n)}return i=r.interleaved,i===null?(e.next=e,Sf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Un(t,n)}function Ja(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,af(t,n)}}function Eg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rl(t,e,n,r){var i=t.updateQueue;rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,_=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,_=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(_,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(_,d,h):y,h==null)break e;d=Se({},d,h);break e;case 2:rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else _={eventTime:_,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=_,l=d):c=c.next=_,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=d}}function Cg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var Uy=new Lv.Component().refs;function Gd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nu={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),i=Sr(t),s=Dn(r,i);s.payload=e,n!=null&&(s.callback=n),e=yr(t,s,i),e!==null&&(qt(e,t,i,r),Ja(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),i=Sr(t),s=Dn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yr(t,s,i),e!==null&&(qt(e,t,i,r),Ja(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=Sr(t),i=Dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=yr(t,i,r),e!==null&&(qt(e,t,r,n),Ja(e,t,r))}};function kg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ko(n,r)||!ko(i,s):!0}function Wy(t,e,n){var r=!1,i=Dr,s=e.contextType;return typeof s=="object"&&s!==null?s=Mt(s):(i=pt(e)?ii:Xe.current,r=e.contextTypes,s=(r=r!=null)?ls(t,i):Dr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nu.enqueueReplaceState(e,e.state,null)}function Kd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Uy,Ef(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mt(s):(s=pt(e)?ii:Xe.current,i.context=ls(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nu.enqueueReplaceState(i,i.state,null),Rl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Us(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Uy&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function Ma(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ig(t){var e=t._init;return e(t._payload)}function $y(t){function e(m,p){if(t){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Er(m,p),m.index=0,m.sibling=null,m}function s(m,p,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,S){return p===null||p.tag!==6?(p=$c(v,m.mode,S),p.return=m,p):(p=i(p,v),p.return=m,p)}function l(m,p,v,S){var x=v.type;return x===Pi?c(m,p,v.props.children,S,v.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&Ig(x)===p.type)?(S=i(p,v.props),S.ref=Us(m,p,v),S.return=m,S):(S=il(v.type,v.key,v.props,null,m.mode,S),S.ref=Us(m,p,v),S.return=m,S)}function u(m,p,v,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=zc(v,m.mode,S),p.return=m,p):(p=i(p,v.children||[]),p.return=m,p)}function c(m,p,v,S,x){return p===null||p.tag!==7?(p=Zr(v,m.mode,S,x),p.return=m,p):(p=i(p,v),p.return=m,p)}function d(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=$c(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ea:return v=il(p.type,p.key,p.props,null,m.mode,v),v.ref=Us(m,null,p),v.return=m,v;case Di:return p=zc(p,m.mode,v),p.return=m,p;case nr:var S=p._init;return d(m,S(p._payload),v)}if(qs(p)||Ms(p))return p=Zr(p,m.mode,v,null),p.return=m,p;Ma(m,p)}return null}function h(m,p,v,S){var x=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(m,p,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ea:return v.key===x?l(m,p,v,S):null;case Di:return v.key===x?u(m,p,v,S):null;case nr:return x=v._init,h(m,p,x(v._payload),S)}if(qs(v)||Ms(v))return x!==null?null:c(m,p,v,S,null);Ma(m,v)}return null}function _(m,p,v,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(v)||null,a(p,m,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ea:return m=m.get(S.key===null?v:S.key)||null,l(p,m,S,x);case Di:return m=m.get(S.key===null?v:S.key)||null,u(p,m,S,x);case nr:var I=S._init;return _(m,p,v,I(S._payload),x)}if(qs(S)||Ms(S))return m=m.get(v)||null,c(p,m,S,x,null);Ma(p,S)}return null}function y(m,p,v,S){for(var x=null,I=null,C=p,R=p=0,B=null;C!==null&&R<v.length;R++){C.index>R?(B=C,C=null):B=C.sibling;var $=h(m,C,v[R],S);if($===null){C===null&&(C=B);break}t&&C&&$.alternate===null&&e(m,C),p=s($,p,R),I===null?x=$:I.sibling=$,I=$,C=B}if(R===v.length)return n(m,C),ve&&$r(m,R),x;if(C===null){for(;R<v.length;R++)C=d(m,v[R],S),C!==null&&(p=s(C,p,R),I===null?x=C:I.sibling=C,I=C);return ve&&$r(m,R),x}for(C=r(m,C);R<v.length;R++)B=_(C,m,R,v[R],S),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?R:B.key),p=s(B,p,R),I===null?x=B:I.sibling=B,I=B);return t&&C.forEach(function(tt){return e(m,tt)}),ve&&$r(m,R),x}function w(m,p,v,S){var x=Ms(v);if(typeof x!="function")throw Error(k(150));if(v=x.call(v),v==null)throw Error(k(151));for(var I=x=null,C=p,R=p=0,B=null,$=v.next();C!==null&&!$.done;R++,$=v.next()){C.index>R?(B=C,C=null):B=C.sibling;var tt=h(m,C,$.value,S);if(tt===null){C===null&&(C=B);break}t&&C&&tt.alternate===null&&e(m,C),p=s(tt,p,R),I===null?x=tt:I.sibling=tt,I=tt,C=B}if($.done)return n(m,C),ve&&$r(m,R),x;if(C===null){for(;!$.done;R++,$=v.next())$=d(m,$.value,S),$!==null&&(p=s($,p,R),I===null?x=$:I.sibling=$,I=$);return ve&&$r(m,R),x}for(C=r(m,C);!$.done;R++,$=v.next())$=_(C,m,R,$.value,S),$!==null&&(t&&$.alternate!==null&&C.delete($.key===null?R:$.key),p=s($,p,R),I===null?x=$:I.sibling=$,I=$);return t&&C.forEach(function(_n){return e(m,_n)}),ve&&$r(m,R),x}function E(m,p,v,S){if(typeof v=="object"&&v!==null&&v.type===Pi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ea:e:{for(var x=v.key,I=p;I!==null;){if(I.key===x){if(x=v.type,x===Pi){if(I.tag===7){n(m,I.sibling),p=i(I,v.props.children),p.return=m,m=p;break e}}else if(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&Ig(x)===I.type){n(m,I.sibling),p=i(I,v.props),p.ref=Us(m,I,v),p.return=m,m=p;break e}n(m,I);break}else e(m,I);I=I.sibling}v.type===Pi?(p=Zr(v.props.children,m.mode,S,v.key),p.return=m,m=p):(S=il(v.type,v.key,v.props,null,m.mode,S),S.ref=Us(m,p,v),S.return=m,m=S)}return o(m);case Di:e:{for(I=v.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=i(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=zc(v,m.mode,S),p.return=m,m=p}return o(m);case nr:return I=v._init,E(m,p,I(v._payload),S)}if(qs(v))return y(m,p,v,S);if(Ms(v))return w(m,p,v,S);Ma(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,v),p.return=m,m=p):(n(m,p),p=$c(v,m.mode,S),p.return=m,m=p),o(m)):n(m,p)}return E}var cs=$y(!0),zy=$y(!1),ea={},un=Ar(ea),xo=Ar(ea),Ro=Ar(ea);function Gr(t){if(t===ea)throw Error(k(174));return t}function Cf(t,e){switch(ue(Ro,e),ue(xo,t),ue(un,ea),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Id(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Id(e,t)}he(un),ue(un,e)}function ds(){he(un),he(xo),he(Ro)}function By(t){Gr(Ro.current);var e=Gr(un.current),n=Id(e,t.type);e!==n&&(ue(xo,t),ue(un,n))}function kf(t){xo.current===t&&(he(un),he(xo))}var ye=Ar(0);function Ol(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bc=[];function Tf(){for(var t=0;t<bc.length;t++)bc[t]._workInProgressVersionPrimary=null;bc.length=0}var Za=Yn.ReactCurrentDispatcher,Ac=Yn.ReactCurrentBatchConfig,oi=0,we=null,Re=null,be=null,Dl=!1,io=!1,Oo=0,Ck=0;function Ge(){throw Error(k(321))}function If(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function Nf(t,e,n,r,i,s){if(oi=s,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Za.current=t===null||t.memoizedState===null?Nk:xk,t=n(r,i),io){s=0;do{if(io=!1,Oo=0,25<=s)throw Error(k(301));s+=1,be=Re=null,e.updateQueue=null,Za.current=Rk,t=n(r,i)}while(io)}if(Za.current=Pl,e=Re!==null&&Re.next!==null,oi=0,be=Re=we=null,Dl=!1,e)throw Error(k(300));return t}function xf(){var t=Oo!==0;return Oo=0,t}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?we.memoizedState=be=t:be=be.next=t,be}function bt(){if(Re===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=be===null?we.memoizedState:be.next;if(e!==null)be=e,Re=t;else{if(t===null)throw Error(k(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},be===null?we.memoizedState=be=t:be=be.next=t}return be}function Do(t,e){return typeof e=="function"?e(t):e}function Lc(t){var e=bt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=Re,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((oi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,we.lanes|=c,ai|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Jt(r,e.memoizedState)||(ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,we.lanes|=s,ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fc(t){var e=bt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jt(s,e.memoizedState)||(ct=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jy(){}function Hy(t,e){var n=we,r=bt(),i=e(),s=!Jt(r.memoizedState,i);if(s&&(r.memoizedState=i,ct=!0),r=r.queue,Rf(Gy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Po(9,Vy.bind(null,n,r,i,e),void 0,null),Ue===null)throw Error(k(349));oi&30||Yy(n,e,i)}return i}function Yy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vy(t,e,n,r){e.value=n,e.getSnapshot=r,Ky(e)&&qy(t)}function Gy(t,e,n){return n(function(){Ky(e)&&qy(t)})}function Ky(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function qy(t){var e=Un(t,1);e!==null&&qt(e,t,1,-1)}function Ng(t){var e=sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},e.queue=t,t=t.dispatch=Ik.bind(null,we,t),[e.memoizedState,t]}function Po(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qy(){return bt().memoizedState}function el(t,e,n,r){var i=sn();we.flags|=t,i.memoizedState=Po(1|e,n,void 0,r===void 0?null:r)}function xu(t,e,n,r){var i=bt();r=r===void 0?null:r;var s=void 0;if(Re!==null){var o=Re.memoizedState;if(s=o.destroy,r!==null&&If(r,o.deps)){i.memoizedState=Po(e,n,s,r);return}}we.flags|=t,i.memoizedState=Po(1|e,n,s,r)}function xg(t,e){return el(8390656,8,t,e)}function Rf(t,e){return xu(2048,8,t,e)}function Xy(t,e){return xu(4,2,t,e)}function Jy(t,e){return xu(4,4,t,e)}function Zy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function e0(t,e,n){return n=n!=null?n.concat([t]):null,xu(4,4,Zy.bind(null,e,t),n)}function Of(){}function t0(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&If(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function n0(t,e){var n=bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&If(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function r0(t,e,n){return oi&21?(Jt(n,e)||(n=oy(),we.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ct=!0),t.memoizedState=n)}function kk(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Ac.transition;Ac.transition={};try{t(!1),e()}finally{te=n,Ac.transition=r}}function i0(){return bt().memoizedState}function Tk(t,e,n){var r=Sr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s0(t))o0(e,n);else if(n=Ly(t,e,n,r),n!==null){var i=it();qt(n,t,r,i),a0(n,e,r)}}function Ik(t,e,n){var r=Sr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s0(t))o0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jt(a,o)){var l=e.interleaved;l===null?(i.next=i,Sf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ly(t,e,i,r),n!==null&&(i=it(),qt(n,t,r,i),a0(n,e,r))}}function s0(t){var e=t.alternate;return t===we||e!==null&&e===we}function o0(t,e){io=Dl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function a0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,af(t,n)}}var Pl={readContext:Mt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Nk={readContext:Mt,useCallback:function(t,e){return sn().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:xg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,el(4194308,4,Zy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return el(4194308,4,t,e)},useInsertionEffect:function(t,e){return el(4,2,t,e)},useMemo:function(t,e){var n=sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tk.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=sn();return t={current:t},e.memoizedState=t},useState:Ng,useDebugValue:Of,useDeferredValue:function(t){return sn().memoizedState=t},useTransition:function(){var t=Ng(!1),e=t[0];return t=kk.bind(null,t[1]),sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,i=sn();if(ve){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),Ue===null)throw Error(k(349));oi&30||Yy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xg(Gy.bind(null,r,s,t),[t]),r.flags|=2048,Po(9,Vy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=sn(),e=Ue.identifierPrefix;if(ve){var n=Tn,r=kn;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ck++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xk={readContext:Mt,useCallback:t0,useContext:Mt,useEffect:Rf,useImperativeHandle:e0,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:n0,useReducer:Lc,useRef:Qy,useState:function(){return Lc(Do)},useDebugValue:Of,useDeferredValue:function(t){var e=bt();return r0(e,Re.memoizedState,t)},useTransition:function(){var t=Lc(Do)[0],e=bt().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:Hy,useId:i0,unstable_isNewReconciler:!1},Rk={readContext:Mt,useCallback:t0,useContext:Mt,useEffect:Rf,useImperativeHandle:e0,useInsertionEffect:Xy,useLayoutEffect:Jy,useMemo:n0,useReducer:Fc,useRef:Qy,useState:function(){return Fc(Do)},useDebugValue:Of,useDeferredValue:function(t){var e=bt();return Re===null?e.memoizedState=t:r0(e,Re.memoizedState,t)},useTransition:function(){var t=Fc(Do)[0],e=bt().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:Hy,useId:i0,unstable_isNewReconciler:!1};function hs(t,e){try{var n="",r=e;do n+=r1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Uc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ok=typeof WeakMap=="function"?WeakMap:Map;function l0(t,e,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bl||(bl=!0,sh=r),qd(t,e)},n}function u0(t,e,n){n=Dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qd(t,e),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ok;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Hk.bind(null,t,e,n),e.then(t,t))}function Og(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dn(-1,1),e.tag=2,yr(n,e,1))),n.lanes|=1),t)}var Dk=Yn.ReactCurrentOwner,ct=!1;function rt(t,e,n,r){e.child=t===null?zy(e,null,n,r):cs(e,t.child,n,r)}function Pg(t,e,n,r,i){n=n.render;var s=e.ref;return Qi(e,i),r=Nf(t,e,n,r,s,i),n=xf(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(ve&&n&&mf(e),e.flags|=1,rt(t,e,r,i),e.child)}function Mg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Uf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,c0(t,e,s,r,i)):(t=il(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ko,n(o,r)&&t.ref===e.ref)return Wn(t,e,i)}return e.flags|=1,t=Er(s,r),t.ref=e.ref,t.return=e,e.child=t}function c0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ko(s,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,Wn(t,e,i)}return Qd(t,e,n,r,i)}function d0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Bi,_t),_t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Bi,_t),_t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ue(Bi,_t),_t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ue(Bi,_t),_t|=r;return rt(t,e,i,n),e.child}function h0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qd(t,e,n,r,i){var s=pt(n)?ii:Xe.current;return s=ls(e,s),Qi(e,i),n=Nf(t,e,n,r,s,i),r=xf(),t!==null&&!ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(ve&&r&&mf(e),e.flags|=1,rt(t,e,n,i),e.child)}function bg(t,e,n,r,i){if(pt(n)){var s=!0;kl(e)}else s=!1;if(Qi(e,i),e.stateNode===null)tl(t,e),Wy(e,n,r),Kd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mt(u):(u=pt(n)?ii:Xe.current,u=ls(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Tg(e,o,r,u),rr=!1;var h=e.memoizedState;o.state=h,Rl(e,r,o,i),l=e.memoizedState,a!==r||h!==l||ft.current||rr?(typeof c=="function"&&(Gd(e,n,c,r),l=e.memoizedState),(a=rr||kg(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Fy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$t(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=pt(n)?ii:Xe.current,l=ls(e,l));var _=n.getDerivedStateFromProps;(c=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Tg(e,o,r,l),rr=!1,h=e.memoizedState,o.state=h,Rl(e,r,o,i);var y=e.memoizedState;a!==d||h!==y||ft.current||rr?(typeof _=="function"&&(Gd(e,n,_,r),y=e.memoizedState),(u=rr||kg(e,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Xd(t,e,n,r,s,i)}function Xd(t,e,n,r,i,s){h0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&yg(e,n,!1),Wn(t,e,s);r=e.stateNode,Dk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cs(e,t.child,null,s),e.child=cs(e,null,a,s)):rt(t,e,a,s),e.memoizedState=r.state,i&&yg(e,n,!0),e.child}function f0(t){var e=t.stateNode;e.pendingContext?vg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vg(t,e.context,!1),Cf(t,e.containerInfo)}function Ag(t,e,n,r,i){return us(),_f(i),e.flags|=256,rt(t,e,n,r),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function p0(t,e,n){var r=e.pendingProps,i=ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ue(ye,i&1),t===null)return Yd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Du(o,r,0,null),t=Zr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zd(n),e.memoizedState=Jd,t):Df(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Pk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Er(a,s):(s=Zr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jd,r}return s=t.child,t=s.sibling,r=Er(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Df(t,e){return e=Du({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ba(t,e,n,r){return r!==null&&_f(r),cs(e,t.child,null,n),t=Df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Uc(Error(k(422))),ba(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Du({mode:"visible",children:r.children},i,0,null),s=Zr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cs(e,t.child,null,o),e.child.memoizedState=Zd(o),e.memoizedState=Jd,s);if(!(e.mode&1))return ba(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(k(419)),r=Uc(s,r,void 0),ba(t,e,o,r)}if(a=(o&t.childLanes)!==0,ct||a){if(r=Ue,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Un(t,i),qt(r,t,i,-1))}return Ff(),r=Uc(Error(k(421))),ba(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Yk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yt=vr(i.nextSibling),wt=e,ve=!0,Bt=null,t!==null&&(It[Nt++]=kn,It[Nt++]=Tn,It[Nt++]=si,kn=t.id,Tn=t.overflow,si=e),e=Df(e,r.children),e.flags|=4096,e)}function Lg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vd(t.return,e,n)}function Wc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function m0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rt(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,n,e);else if(t.tag===19)Lg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ue(ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ol(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ol(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wc(e,!0,n,null,s);break;case"together":Wc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mk(t,e,n){switch(e.tag){case 3:f0(e),us();break;case 5:By(e);break;case 1:pt(e.type)&&kl(e);break;case 4:Cf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ue(Nl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ue(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?p0(t,e,n):(ue(ye,ye.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);ue(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return m0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,d0(t,e,n)}return Wn(t,e,n)}var g0,eh,_0,v0;g0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eh=function(){};_0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gr(un.current);var s=null;switch(n){case"input":i=Ed(t,i),r=Ed(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=Td(t,i),r=Td(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=El)}Nd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_o.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};v0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ws(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bk(t,e,n){var r=e.pendingProps;switch(gf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return pt(e.type)&&Cl(),Ke(e),null;case 3:return r=e.stateNode,ds(),he(ft),he(Xe),Tf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(lh(Bt),Bt=null))),eh(t,e),Ke(e),null;case 5:kf(e);var i=Gr(Ro.current);if(n=e.type,t!==null&&e.stateNode!=null)_0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return Ke(e),null}if(t=Gr(un.current),Pa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[on]=e,r[No]=s,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<Xs.length;i++)de(Xs[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Ym(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":Gm(r,s),de("invalid",r)}Nd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Da(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Da(r.textContent,a,t),i=["children",""+a]):_o.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Ca(r),Vm(r,s,!0);break;case"textarea":Ca(r),Km(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=El)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[on]=e,t[No]=r,g0(t,e,!1,!1),e.stateNode=t;e:{switch(o=xd(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xs.length;i++)de(Xs[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":Ym(t,r),i=Ed(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),de("invalid",t);break;case"textarea":Gm(t,r),i=Td(t,r),de("invalid",t);break;default:i=r}Nd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Kv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vv(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vo(t,l):typeof l=="number"&&vo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_o.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",t):l!=null&&ef(t,s,l,o))}switch(n){case"input":Ca(t),Vm(t,r,!1);break;case"textarea":Ca(t),Km(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)v0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Gr(Ro.current),Gr(un.current),Pa(e)){if(r=e.stateNode,n=e.memoizedProps,r[on]=e,(s=r.nodeValue!==n)&&(t=wt,t!==null))switch(t.tag){case 3:Da(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Da(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[on]=e,e.stateNode=r}return Ke(e),null;case 13:if(he(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&yt!==null&&e.mode&1&&!(e.flags&128))Ay(),us(),e.flags|=98560,s=!1;else if(s=Pa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(k(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[on]=e}else us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),s=!1}else Bt!==null&&(lh(Bt),Bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Oe===0&&(Oe=3):Ff())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return ds(),eh(t,e),t===null&&To(e.stateNode.containerInfo),Ke(e),null;case 10:return wf(e.type._context),Ke(e),null;case 17:return pt(e.type)&&Cl(),Ke(e),null;case 19:if(he(ye),s=e.memoizedState,s===null)return Ke(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ws(s,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ol(t),o!==null){for(e.flags|=128,Ws(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(ye,ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ie()>fs&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ol(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ve)return Ke(e),null}else 2*Ie()-s.renderingStartTime>fs&&n!==1073741824&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ie(),e.sibling=null,n=ye.current,ue(ye,r?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return Lf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_t&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Ak(t,e){switch(gf(e),e.tag){case 1:return pt(e.type)&&Cl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ds(),he(ft),he(Xe),Tf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kf(e),null;case 13:if(he(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ye),null;case 4:return ds(),null;case 10:return wf(e.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var Aa=!1,qe=!1,Lk=typeof WeakSet=="function"?WeakSet:Set,M=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(t,e,r)}else n.current=null}function th(t,e,n){try{n()}catch(r){Ee(t,e,r)}}var Fg=!1;function Fk(t,e){if(Ud=yl,t=Ey(),pf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var _;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(_=d.firstChild)!==null;)h=d,d=_;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(_=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wd={focusedElem:t,selectionRange:n},yl=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:$t(e.type,w),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(S){Ee(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return y=Fg,Fg=!1,y}function so(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&th(e,n,s)}i=i.next}while(i!==r)}}function Ru(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function y0(t){var e=t.alternate;e!==null&&(t.alternate=null,y0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[on],delete e[No],delete e[Bd],delete e[yk],delete e[wk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w0(t){return t.tag===5||t.tag===3||t.tag===4}function Ug(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=El));else if(r!==4&&(t=t.child,t!==null))for(rh(t,e,n),t=t.sibling;t!==null;)rh(t,e,n),t=t.sibling}function ih(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ih(t,e,n),t=t.sibling;t!==null;)ih(t,e,n),t=t.sibling}var $e=null,zt=!1;function er(t,e,n){for(n=n.child;n!==null;)S0(t,e,n),n=n.sibling}function S0(t,e,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Su,n)}catch{}switch(n.tag){case 5:qe||zi(n,e);case 6:var r=$e,i=zt;$e=null,er(t,e,n),$e=r,zt=i,$e!==null&&(zt?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(zt?(t=$e,n=n.stateNode,t.nodeType===8?Pc(t.parentNode,n):t.nodeType===1&&Pc(t,n),Eo(t)):Pc($e,n.stateNode));break;case 4:r=$e,i=zt,$e=n.stateNode.containerInfo,zt=!0,er(t,e,n),$e=r,zt=i;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&th(n,e,o),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!qe&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ee(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,er(t,e,n),qe=r):er(t,e,n);break;default:er(t,e,n)}}function Wg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lk),e.forEach(function(r){var i=Vk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$e=a.stateNode,zt=!1;break e;case 3:$e=a.stateNode.containerInfo,zt=!0;break e;case 4:$e=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if($e===null)throw Error(k(160));S0(s,o,i),$e=null,zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ee(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)E0(e,t),e=e.sibling}function E0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),rn(t),r&4){try{so(3,t,t.return),Ru(3,t)}catch(w){Ee(t,t.return,w)}try{so(5,t,t.return)}catch(w){Ee(t,t.return,w)}}break;case 1:Wt(e,t),rn(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(Wt(e,t),rn(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var i=t.stateNode;try{vo(i,"")}catch(w){Ee(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jv(i,s),xd(a,o);var u=xd(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Kv(i,d):c==="dangerouslySetInnerHTML"?Vv(i,d):c==="children"?vo(i,d):ef(i,c,d,u)}switch(a){case"input":Cd(i,s);break;case"textarea":Hv(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Vi(i,!!s.multiple,_,!1):h!==!!s.multiple&&(s.defaultValue!=null?Vi(i,!!s.multiple,s.defaultValue,!0):Vi(i,!!s.multiple,s.multiple?[]:"",!1))}i[No]=s}catch(w){Ee(t,t.return,w)}}break;case 6:if(Wt(e,t),rn(t),r&4){if(t.stateNode===null)throw Error(k(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ee(t,t.return,w)}}break;case 3:if(Wt(e,t),rn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eo(e.containerInfo)}catch(w){Ee(t,t.return,w)}break;case 4:Wt(e,t),rn(t);break;case 13:Wt(e,t),rn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bf=Ie())),r&4&&Wg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(qe=(u=qe)||c,Wt(e,t),qe=u):Wt(e,t),rn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(M=t,c=t.child;c!==null;){for(d=M=c;M!==null;){switch(h=M,_=h.child,h.tag){case 0:case 11:case 14:case 15:so(4,h,h.return);break;case 1:zi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Ee(r,n,w)}}break;case 5:zi(h,h.return);break;case 22:if(h.memoizedState!==null){zg(d);continue}}_!==null?(_.return=h,M=_):zg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gv("display",o))}catch(w){Ee(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Ee(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(e,t),rn(t),r&4&&Wg(t);break;case 21:break;default:Wt(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w0(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vo(i,""),r.flags&=-33);var s=Ug(t);ih(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ug(t);rh(t,a,o);break;default:throw Error(k(161))}}catch(l){Ee(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Uk(t,e,n){M=t,C0(t)}function C0(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Aa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qe;a=Aa;var u=qe;if(Aa=o,(qe=l)&&!u)for(M=i;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Bg(i):l!==null?(l.return=o,M=l):Bg(i);for(;s!==null;)M=s,C0(s),s=s.sibling;M=i,Aa=a,qe=u}$g(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):$g(t)}}function $g(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||Ru(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$t(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Cg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Eo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}qe||e.flags&512&&nh(e)}catch(h){Ee(e,e.return,h)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function zg(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Bg(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ru(4,e)}catch(l){Ee(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ee(e,i,l)}}var s=e.return;try{nh(e)}catch(l){Ee(e,s,l)}break;case 5:var o=e.return;try{nh(e)}catch(l){Ee(e,o,l)}}}catch(l){Ee(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var Wk=Math.ceil,Ml=Yn.ReactCurrentDispatcher,Pf=Yn.ReactCurrentOwner,Pt=Yn.ReactCurrentBatchConfig,X=0,Ue=null,Ne=null,je=0,_t=0,Bi=Ar(0),Oe=0,Mo=null,ai=0,Ou=0,Mf=0,oo=null,ut=null,bf=0,fs=1/0,yn=null,bl=!1,sh=null,wr=null,La=!1,dr=null,Al=0,ao=0,oh=null,nl=-1,rl=0;function it(){return X&6?Ie():nl!==-1?nl:nl=Ie()}function Sr(t){return t.mode&1?X&2&&je!==0?je&-je:Ek.transition!==null?(rl===0&&(rl=oy()),rl):(t=te,t!==0||(t=window.event,t=t===void 0?16:fy(t.type)),t):1}function qt(t,e,n,r){if(50<ao)throw ao=0,oh=null,Error(k(185));Xo(t,n,r),(!(X&2)||t!==Ue)&&(t===Ue&&(!(X&2)&&(Ou|=n),Oe===4&&or(t,je)),mt(t,r),n===1&&X===0&&!(e.mode&1)&&(fs=Ie()+500,Iu&&Lr()))}function mt(t,e){var n=t.callbackNode;E1(t,e);var r=vl(t,t===Ue?je:0);if(r===0)n!==null&&Xm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xm(n),e===1)t.tag===0?Sk(jg.bind(null,t)):Py(jg.bind(null,t)),_k(function(){!(X&6)&&Lr()}),n=null;else{switch(ay(r)){case 1:n=of;break;case 4:n=iy;break;case 16:n=_l;break;case 536870912:n=sy;break;default:n=_l}n=D0(n,k0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function k0(t,e){if(nl=-1,rl=0,X&6)throw Error(k(327));var n=t.callbackNode;if(Xi()&&t.callbackNode!==n)return null;var r=vl(t,t===Ue?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ll(t,r);else{e=r;var i=X;X|=2;var s=I0();(Ue!==t||je!==e)&&(yn=null,fs=Ie()+500,Jr(t,e));do try{Bk();break}catch(a){T0(t,a)}while(1);yf(),Ml.current=s,X=i,Ne!==null?e=0:(Ue=null,je=0,e=Oe)}if(e!==0){if(e===2&&(i=Md(t),i!==0&&(r=i,e=ah(t,i))),e===1)throw n=Mo,Jr(t,0),or(t,r),mt(t,Ie()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!$k(i)&&(e=Ll(t,r),e===2&&(s=Md(t),s!==0&&(r=s,e=ah(t,s))),e===1))throw n=Mo,Jr(t,0),or(t,r),mt(t,Ie()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:zr(t,ut,yn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=bf+500-Ie(),10<e)){if(vl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zd(zr.bind(null,t,ut,yn),e);break}zr(t,ut,yn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Kt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wk(r/1960))-r,10<r){t.timeoutHandle=zd(zr.bind(null,t,ut,yn),r);break}zr(t,ut,yn);break;case 5:zr(t,ut,yn);break;default:throw Error(k(329))}}}return mt(t,Ie()),t.callbackNode===n?k0.bind(null,t):null}function ah(t,e){var n=oo;return t.current.memoizedState.isDehydrated&&(Jr(t,e).flags|=256),t=Ll(t,e),t!==2&&(e=ut,ut=n,e!==null&&lh(e)),t}function lh(t){ut===null?ut=t:ut.push.apply(ut,t)}function $k(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Mf,e&=~Ou,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kt(e),r=1<<n;t[n]=-1,e&=~r}}function jg(t){if(X&6)throw Error(k(327));Xi();var e=vl(t,0);if(!(e&1))return mt(t,Ie()),null;var n=Ll(t,e);if(t.tag!==0&&n===2){var r=Md(t);r!==0&&(e=r,n=ah(t,r))}if(n===1)throw n=Mo,Jr(t,0),or(t,e),mt(t,Ie()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zr(t,ut,yn),mt(t,Ie()),null}function Af(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(fs=Ie()+500,Iu&&Lr())}}function li(t){dr!==null&&dr.tag===0&&!(X&6)&&Xi();var e=X;X|=1;var n=Pt.transition,r=te;try{if(Pt.transition=null,te=1,t)return t()}finally{te=r,Pt.transition=n,X=e,!(X&6)&&Lr()}}function Lf(){_t=Bi.current,he(Bi)}function Jr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gk(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(gf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:ds(),he(ft),he(Xe),Tf();break;case 5:kf(r);break;case 4:ds();break;case 13:he(ye);break;case 19:he(ye);break;case 10:wf(r.type._context);break;case 22:case 23:Lf()}n=n.return}if(Ue=t,Ne=t=Er(t.current,null),je=_t=e,Oe=0,Mo=null,Mf=Ou=ai=0,ut=oo=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vr=null}return t}function T0(t,e){do{var n=Ne;try{if(yf(),Za.current=Pl,Dl){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dl=!1}if(oi=0,be=Re=we=null,io=!1,Oo=0,Pf.current=null,n===null||n.return===null){Oe=1,Mo=e,Ne=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var _=Og(o);if(_!==null){_.flags&=-257,Dg(_,o,a,s,e),_.mode&1&&Rg(s,u,e),e=_,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Rg(s,u,e),Ff();break e}l=Error(k(426))}}else if(ve&&a.mode&1){var E=Og(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Dg(E,o,a,s,e),_f(hs(l,a));break e}}s=l=hs(l,a),Oe!==4&&(Oe=2),oo===null?oo=[s]:oo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=l0(s,l,e);Eg(s,m);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wr===null||!wr.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=u0(s,a,e);Eg(s,S);break e}}s=s.return}while(s!==null)}x0(n)}catch(x){e=x,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(1)}function I0(){var t=Ml.current;return Ml.current=Pl,t===null?Pl:t}function Ff(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ue===null||!(ai&268435455)&&!(Ou&268435455)||or(Ue,je)}function Ll(t,e){var n=X;X|=2;var r=I0();(Ue!==t||je!==e)&&(yn=null,Jr(t,e));do try{zk();break}catch(i){T0(t,i)}while(1);if(yf(),X=n,Ml.current=r,Ne!==null)throw Error(k(261));return Ue=null,je=0,Oe}function zk(){for(;Ne!==null;)N0(Ne)}function Bk(){for(;Ne!==null&&!f1();)N0(Ne)}function N0(t){var e=O0(t.alternate,t,_t);t.memoizedProps=t.pendingProps,e===null?x0(t):Ne=e,Pf.current=null}function x0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ak(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ne=null;return}}else if(n=bk(n,e,_t),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Oe===0&&(Oe=5)}function zr(t,e,n){var r=te,i=Pt.transition;try{Pt.transition=null,te=1,jk(t,e,n,r)}finally{Pt.transition=i,te=r}return null}function jk(t,e,n,r){do Xi();while(dr!==null);if(X&6)throw Error(k(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(C1(t,s),t===Ue&&(Ne=Ue=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,D0(_l,function(){return Xi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=te;te=1;var a=X;X|=4,Pf.current=null,Fk(t,n),E0(n,t),uk(Wd),yl=!!Ud,Wd=Ud=null,t.current=n,Uk(n),p1(),X=a,te=o,Pt.transition=s}else t.current=n;if(La&&(La=!1,dr=t,Al=i),s=t.pendingLanes,s===0&&(wr=null),_1(n.stateNode),mt(t,Ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bl)throw bl=!1,t=sh,sh=null,t;return Al&1&&t.tag!==0&&Xi(),s=t.pendingLanes,s&1?t===oh?ao++:(ao=0,oh=t):ao=0,Lr(),null}function Xi(){if(dr!==null){var t=ay(Al),e=Pt.transition,n=te;try{if(Pt.transition=null,te=16>t?16:t,dr===null)var r=!1;else{if(t=dr,dr=null,Al=0,X&6)throw Error(k(331));var i=X;for(X|=4,M=t.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var c=M;switch(c.tag){case 0:case 11:case 15:so(8,c,s)}var d=c.child;if(d!==null)d.return=c,M=d;else for(;M!==null;){c=M;var h=c.sibling,_=c.return;if(y0(c),c===u){M=null;break}if(h!==null){h.return=_,M=h;break}M=_}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:so(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,M=m;break e}M=s.return}}var p=t.current;for(M=p;M!==null;){o=M;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,M=v;else e:for(o=p;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ru(9,a)}}catch(x){Ee(a,a.return,x)}if(a===o){M=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,M=S;break e}M=a.return}}if(X=i,Lr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Su,t)}catch{}r=!0}return r}finally{te=n,Pt.transition=e}}return!1}function Hg(t,e,n){e=hs(n,e),e=l0(t,e,1),t=yr(t,e,1),e=it(),t!==null&&(Xo(t,1,e),mt(t,e))}function Ee(t,e,n){if(t.tag===3)Hg(t,t,n);else for(;e!==null;){if(e.tag===3){Hg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){t=hs(n,t),t=u0(e,t,1),e=yr(e,t,1),t=it(),e!==null&&(Xo(e,1,t),mt(e,t));break}}e=e.return}}function Hk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(je&n)===n&&(Oe===4||Oe===3&&(je&130023424)===je&&500>Ie()-bf?Jr(t,0):Mf|=n),mt(t,e)}function R0(t,e){e===0&&(t.mode&1?(e=Ia,Ia<<=1,!(Ia&130023424)&&(Ia=4194304)):e=1);var n=it();t=Un(t,e),t!==null&&(Xo(t,e,n),mt(t,n))}function Yk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),R0(t,n)}function Vk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),R0(t,n)}var O0;O0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ct=!1,Mk(t,e,n);ct=!!(t.flags&131072)}else ct=!1,ve&&e.flags&1048576&&My(e,Il,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tl(t,e),t=e.pendingProps;var i=ls(e,Xe.current);Qi(e,n),i=Nf(null,e,r,t,i,n);var s=xf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(s=!0,kl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ef(e),i.updater=Nu,e.stateNode=i,i._reactInternals=e,Kd(e,r,t,n),e=Xd(null,e,r,!0,s,n)):(e.tag=0,ve&&s&&mf(e),rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Kk(r),t=$t(r,t),i){case 0:e=Qd(null,e,r,t,n);break e;case 1:e=bg(null,e,r,t,n);break e;case 11:e=Pg(null,e,r,t,n);break e;case 14:e=Mg(null,e,r,$t(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Qd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),bg(t,e,r,i,n);case 3:e:{if(f0(e),t===null)throw Error(k(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Fy(t,e),Rl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=hs(Error(k(423)),e),e=Ag(t,e,r,n,i);break e}else if(r!==i){i=hs(Error(k(424)),e),e=Ag(t,e,r,n,i);break e}else for(yt=vr(e.stateNode.containerInfo.firstChild),wt=e,ve=!0,Bt=null,n=zy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(us(),r===i){e=Wn(t,e,n);break e}rt(t,e,r,n)}e=e.child}return e;case 5:return By(e),t===null&&Yd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$d(r,i)?o=null:s!==null&&$d(r,s)&&(e.flags|=32),h0(t,e),rt(t,e,o,n),e.child;case 6:return t===null&&Yd(e),null;case 13:return p0(t,e,n);case 4:return Cf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cs(e,null,r,n):rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Pg(t,e,r,i,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ue(Nl,r._currentValue),r._currentValue=o,s!==null)if(Jt(s.value,o)){if(s.children===i.children&&!ft.current){e=Wn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qi(e,n),i=Mt(i),r=r(i),e.flags|=1,rt(t,e,r,n),e.child;case 14:return r=e.type,i=$t(r,e.pendingProps),i=$t(r.type,i),Mg(t,e,r,i,n);case 15:return c0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),tl(t,e),e.tag=1,pt(r)?(t=!0,kl(e)):t=!1,Qi(e,n),Wy(e,r,i),Kd(e,r,i,n),Xd(null,e,r,!0,t,n);case 19:return m0(t,e,n);case 22:return d0(t,e,n)}throw Error(k(156,e.tag))};function D0(t,e){return ry(t,e)}function Gk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,r){return new Gk(t,e,n,r)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kk(t){if(typeof t=="function")return Uf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nf)return 11;if(t===rf)return 14}return 2}function Er(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function il(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Uf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pi:return Zr(n.children,i,s,e);case tf:o=8,i|=8;break;case vd:return t=Ot(12,n,e,i|2),t.elementType=vd,t.lanes=s,t;case yd:return t=Ot(13,n,e,i),t.elementType=yd,t.lanes=s,t;case wd:return t=Ot(19,n,e,i),t.elementType=wd,t.lanes=s,t;case $v:return Du(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uv:o=10;break e;case Wv:o=9;break e;case nf:o=11;break e;case rf:o=14;break e;case nr:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Ot(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zr(t,e,n,r){return t=Ot(7,t,r,e),t.lanes=n,t}function Du(t,e,n,r){return t=Ot(22,t,r,e),t.elementType=$v,t.lanes=n,t.stateNode={isHidden:!1},t}function $c(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function zc(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sc(0),this.expirationTimes=Sc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wf(t,e,n,r,i,s,o,a,l){return t=new qk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ot(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(s),t}function Qk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function P0(t){if(!t)return Dr;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(pt(n))return Dy(t,n,e)}return e}function M0(t,e,n,r,i,s,o,a,l){return t=Wf(n,r,!0,t,i,s,o,a,l),t.context=P0(null),n=t.current,r=it(),i=Sr(n),s=Dn(r,i),s.callback=e??null,yr(n,s,i),t.current.lanes=i,Xo(t,i,r),mt(t,r),t}function Pu(t,e,n,r){var i=e.current,s=it(),o=Sr(i);return n=P0(n),e.context===null?e.context=n:e.pendingContext=n,e=Dn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yr(i,e,o),t!==null&&(qt(t,i,o,s),Ja(t,i,o)),o}function Fl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $f(t,e){Yg(t,e),(t=t.alternate)&&Yg(t,e)}function Xk(){return null}var b0=typeof reportError=="function"?reportError:function(t){console.error(t)};function zf(t){this._internalRoot=t}Mu.prototype.render=zf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Pu(t,e,null,null)};Mu.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){Pu(null,t,null,null)}),e[Fn]=null}};function Mu(t){this._internalRoot=t}Mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=cy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&hy(t)}};function Bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vg(){}function Jk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Fl(o);s.call(u)}}var o=M0(e,r,t,0,null,!1,!1,"",Vg);return t._reactRootContainer=o,t[Fn]=o.current,To(t.nodeType===8?t.parentNode:t),li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fl(l);a.call(u)}}var l=Wf(t,0,!1,null,null,!1,!1,"",Vg);return t._reactRootContainer=l,t[Fn]=l.current,To(t.nodeType===8?t.parentNode:t),li(function(){Pu(e,l,n,r)}),l}function Au(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fl(o);a.call(l)}}Pu(e,o,t,i)}else o=Jk(n,e,t,i,r);return Fl(o)}ly=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qs(e.pendingLanes);n!==0&&(af(e,n|1),mt(e,Ie()),!(X&6)&&(fs=Ie()+500,Lr()))}break;case 13:li(function(){var r=Un(t,1);if(r!==null){var i=it();qt(r,t,1,i)}}),$f(t,1)}};lf=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=it();qt(e,t,134217728,n)}$f(t,134217728)}};uy=function(t){if(t.tag===13){var e=Sr(t),n=Un(t,e);if(n!==null){var r=it();qt(n,t,e,r)}$f(t,e)}};cy=function(){return te};dy=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Od=function(t,e,n){switch(e){case"input":if(Cd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tu(r);if(!i)throw Error(k(90));Bv(r),Cd(r,i)}}}break;case"textarea":Hv(t,n);break;case"select":e=n.value,e!=null&&Vi(t,!!n.multiple,e,!1)}};Xv=Af;Jv=li;var Zk={usingClientEntryPoint:!1,Events:[Zo,Li,Tu,qv,Qv,Af]},$s={findFiberByHostInstance:Yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eT={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ty(t),t===null?null:t.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||Xk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{Su=Fa.inject(eT),ln=Fa}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zk;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bf(e))throw Error(k(200));return Qk(t,e,null,n)};Et.createRoot=function(t,e){if(!Bf(t))throw Error(k(299));var n=!1,r="",i=b0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wf(t,1,!1,null,null,n,!1,r,i),t[Fn]=e.current,To(t.nodeType===8?t.parentNode:t),new zf(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=ty(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return li(t)};Et.hydrate=function(t,e,n){if(!bu(e))throw Error(k(200));return Au(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!Bf(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=b0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=M0(e,null,t,1,n??null,i,!1,s,o),t[Fn]=e.current,To(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mu(e)};Et.render=function(t,e,n){if(!bu(e))throw Error(k(200));return Au(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!bu(t))throw Error(k(40));return t._reactRootContainer?(li(function(){Au(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Et.unstable_batchedUpdates=Af;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bu(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Au(t,e,n,!1,r)};Et.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Et})(XC);const ji=Iv(fl);var Gg=fl;md.createRoot=Gg.createRoot,md.hydrateRoot=Gg.hydrateRoot;/**
 * @remix-run/router v1.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ul.apply(this,arguments)}var hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hr||(hr={}));const Kg="popstate";function tT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return uh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jf(i)}return iT(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nT(){return Math.random().toString(36).substr(2,8)}function qg(t){return{usr:t.state,key:t.key}}function uh(t,e,n,r){return n===void 0&&(n=null),Ul({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ks(e):e,{state:n,key:e&&e.key||r||nT()})}function jf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rT(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,n=typeof t=="string"?t:jf(t);return Pe(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function iT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hr.Pop,l=null;function u(){a=hr.Pop,l&&l({action:a,location:h.location})}function c(_,y){a=hr.Push;let w=uh(h.location,_,y);n&&n(w,_);let E=qg(w),m=h.createHref(w);try{o.pushState(E,"",m)}catch{i.location.assign(m)}s&&l&&l({action:a,location:h.location})}function d(_,y){a=hr.Replace;let w=uh(h.location,_,y);n&&n(w,_);let E=qg(w),m=h.createHref(w);o.replaceState(E,"",m),s&&l&&l({action:a,location:h.location})}let h={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Kg,u),l=_,()=>{i.removeEventListener(Kg,u),l=null}},createHref(_){return e(i,_)},encodeLocation(_){let y=rT(typeof _=="string"?_:jf(_));return{pathname:y.pathname,search:y.search,hash:y.hash}},push:c,replace:d,go(_){return o.go(_)}};return h}var Qg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qg||(Qg={}));function sT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ks(e):e,i=F0(r.pathname||"/",n);if(i==null)return null;let s=A0(t);oT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=mT(s[a],vT(i));return o}function A0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ei([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),A0(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:fT(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of L0(s.path))i(s,o,l)}),e}function L0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=L0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function oT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aT=/^:\w+$/,lT=3,uT=2,cT=1,dT=10,hT=-2,Xg=t=>t==="*";function fT(t,e){let n=t.split("/"),r=n.length;return n.some(Xg)&&(r+=hT),e&&(r+=uT),n.filter(i=>!Xg(i)).reduce((i,s)=>i+(aT.test(s)?lT:s===""?cT:dT),r)}function pT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mT(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=gT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ei([i,c.pathname]),pathnameBase:kT(ei([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ei([i,c.pathnameBase]))}return s}function gT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_T(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=yT(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function _T(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vT(t){try{return decodeURI(t)}catch(e){return Hf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yT(t,e){try{return decodeURIComponent(t)}catch(n){return Hf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function F0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Hf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ks(t):t;return{pathname:n?n.startsWith("/")?n:ST(n,e):e,search:TT(r),hash:IT(i)}}function ST(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ET(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ks(t):(i=Ul({},t),Pe(!i.pathname||!i.pathname.includes("?"),Bc("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),Bc("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),Bc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=wT(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ei=t=>t.join("/").replace(/\/\/+/g,"/"),kT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class NT{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function xT(t){return t instanceof NT}const RT=["post","put","patch","delete"];[...RT];/**
 * React Router v6.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function OT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const DT=typeof Object.is=="function"?Object.is:OT,{useState:PT,useEffect:MT,useLayoutEffect:bT,useDebugValue:AT}=pd;function LT(t,e,n){const r=e(),[{inst:i},s]=PT({inst:{value:r,getSnapshot:e}});return bT(()=>{i.value=r,i.getSnapshot=e,jc(i)&&s({inst:i})},[t,r,e]),MT(()=>(jc(i)&&s({inst:i}),t(()=>{jc(i)&&s({inst:i})})),[t]),AT(r),r}function jc(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!DT(n,r)}catch{return!0}}function FT(t,e,n){return e()}const UT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WT=!UT,$T=WT?FT:LT;"useSyncExternalStore"in pd&&(t=>t.useSyncExternalStore)(pd);const zT=g.createContext(null),BT=g.createContext(null),Yf=g.createContext(null),Vf=g.createContext(null),Lu=g.createContext(null),Ts=g.createContext({outlet:null,matches:[]}),U0=g.createContext(null);function ta(){return g.useContext(Lu)!=null}function Gf(){return ta()||Pe(!1),g.useContext(Lu).location}function vi(){ta()||Pe(!1);let{basename:t,navigator:e}=g.useContext(Vf),{matches:n}=g.useContext(Ts),{pathname:r}=Gf(),i=JSON.stringify(ET(n).map(a=>a.pathnameBase)),s=g.useRef(!1);return g.useEffect(()=>{s.current=!0}),g.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=CT(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:ei([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function jT(){let{matches:t}=g.useContext(Ts),e=t[t.length-1];return e?e.params:{}}function HT(t,e){ta()||Pe(!1);let{navigator:n}=g.useContext(Vf),r=g.useContext(Yf),{matches:i}=g.useContext(Ts),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Gf(),u;if(e){var c;let w=typeof e=="string"?ks(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||Pe(!1),u=w}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",_=sT(t,{pathname:h}),y=KT(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:ei([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:ei([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return e&&y?g.createElement(Lu.Provider,{value:{location:ch({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:hr.Pop}},y):y}function YT(){let t=JT(),e=xT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unhandled Thrown Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,g.createElement("p",null,"💿 Hey developer 👋"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"errorElement")," props on ",g.createElement("code",{style:s},"<Route>")))}class VT extends g.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?g.createElement(Ts.Provider,{value:this.props.routeContext},g.createElement(U0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GT(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(zT);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),g.createElement(Ts.Provider,{value:e},r)}function KT(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Pe(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||g.createElement(YT,null):null,c=e.concat(r.slice(0,a+1)),d=()=>g.createElement(GT,{match:o,routeContext:{outlet:s,matches:c}},l?u:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?g.createElement(VT,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var Jg;(function(t){t.UseRevalidator="useRevalidator"})(Jg||(Jg={}));var Wl;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Wl||(Wl={}));function qT(t){let e=g.useContext(Yf);return e||Pe(!1),e}function QT(t){let e=g.useContext(Ts);return e||Pe(!1),e}function XT(t){let e=QT(),n=e.matches[e.matches.length-1];return n.route.id||Pe(!1),n.route.id}function JT(){var t;let e=g.useContext(U0),n=qT(Wl.UseRouteError),r=XT(Wl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Ua(t){let{to:e,replace:n,state:r,relative:i}=t;ta()||Pe(!1);let s=g.useContext(Yf),o=vi();return g.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function Ri(t){Pe(!1)}function ZT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hr.Pop,navigator:s,static:o=!1}=t;ta()&&Pe(!1);let a=e.replace(/^\/*/,"/"),l=g.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ks(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:_="default"}=r,y=g.useMemo(()=>{let w=F0(u,a);return w==null?null:{pathname:w,search:c,hash:d,state:h,key:_}},[a,u,c,d,h,_]);return y==null?null:g.createElement(Vf.Provider,{value:l},g.createElement(Lu.Provider,{children:n,value:{location:y,navigationType:i}}))}function eI(t){let{children:e,location:n}=t,r=g.useContext(BT),i=r&&!e?r.router.routes:dh(e);return HT(i,n)}var Zg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Zg||(Zg={}));new Promise(()=>{});function dh(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;if(r.type===g.Fragment){n.push.apply(n,dh(r.props.children,e));return}r.type!==Ri&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=dh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tI(t){let{basename:e,children:n,window:r}=t,i=g.useRef();i.current==null&&(i.current=tT({window:r,v5Compat:!0}));let s=i.current,[o,a]=g.useState({action:s.action,location:s.location});return g.useLayoutEffect(()=>s.listen(a),[s]),g.createElement(ZT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var e_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(e_||(e_={}));var t_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t_||(t_={}));var hh={},nI={get exports(){return hh},set exports(t){hh=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(nI);const K=hh,rI=["xxl","xl","lg","md","sm","xs"],iI="xs",Kf=g.createContext({prefixes:{},breakpoints:rI,minBreakpoint:iI});function ne(t,e){const{prefixes:n}=g.useContext(Kf);return t||n[e]||e}function W0(){const{breakpoints:t}=g.useContext(Kf);return t}function $0(){const{minBreakpoint:t}=g.useContext(Kf);return t}const sI={fluid:!1},qf=g.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},s)=>{const o=ne(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return f(n,{ref:s,...i,className:K(r,e?`${o}${a}`:o)})});qf.displayName="Container";qf.defaultProps=sI;var fh={},oI={get exports(){return fh},set exports(t){fh=t}},$l={},aI={get exports(){return $l},set exports(t){$l=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,u,c,d){var h=u||"<<anonymous>>",_=d||l;if(a[l]==null)return o?new Error("Required "+c+" `"+_+"` was not specified "+("in `"+h+"`.")):null;for(var y=arguments.length,w=Array(y>6?y-6:0),E=6;E<y;E++)w[E-6]=arguments[E];return r.apply(void 0,[a,l,h,c,_].concat(w))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(aI,$l);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=$l,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];var _=null;return a.forEach(function(y){if(_==null){var w=y.apply(void 0,d);w!=null&&(_=w)}}),_}return(0,r.default)(u)}t.exports=e.default})(oI,fh);function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function z0(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function n_(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function lI(t){var e=uI(t,"string");return typeof e=="symbol"?e:String(e)}function uI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cI(t,e,n){var r=g.useRef(t!==void 0),i=g.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,g.useCallback(function(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];n&&n.apply(void 0,[u].concat(d)),o(u)},[n])]}function Qf(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[n_(r)],a=s[r],l=z0(s,[n_(r),r].map(lI)),u=e[r],c=cI(a,o,t[u]),d=c[0],h=c[1];return ph({},l,(i={},i[r]=d,i[u]=h,i))},t)}function mh(t,e){return mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mh(t,e)}function dI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mh(t,e)}var hI=Function.prototype.bind.call(Function.prototype.call,[].slice);function Br(t,e){return hI(t.querySelectorAll(e))}function fI(){var t=g.useReducer(function(n){return!n},!1),e=t[1];return e}var r_=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function pI(t,e){var n=r_(t),r=r_(e);return function(i){n&&n(i),r&&r(i)}}function B0(t,e){return g.useMemo(function(){return pI(t,e)},[t,e])}const Xf=g.createContext(null);Xf.displayName="NavContext";const zl=g.createContext(null),Jf=(t,e=null)=>t!=null?String(t):e||null,j0=g.createContext(null),mI="data-rr-ui-",gI="rrUi";function Fu(t){return`${mI}${t}`}function _I(t){return`${gI}${t}`}function vI(t){var e=g.useRef(t);return g.useEffect(function(){e.current=t},[t]),e}function Ht(t){var e=vI(t);return g.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}const yI=["as","disabled"];function wI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SI(t){return!t||t.trim()==="#"}function Zf({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=h=>{if((e||t==="a"&&SI(n))&&h.preventDefault(),e){h.stopPropagation();return}o==null||o(h)},d=h=>{h.key===" "&&(h.preventDefault(),c(h))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const H0=g.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=wI(t,yI);const[s,{tagName:o}]=Zf(Object.assign({tagName:n,disabled:r},i));return f(o,Object.assign({},i,s,{ref:e}))});H0.displayName="Button";const EI=["as","active","eventKey"];function CI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y0({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=g.useContext(zl),a=g.useContext(Xf),l=g.useContext(j0);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const d=a.getControllerId(t??null),h=a.getControlledId(t??null);c[Fu("event-key")]=t,c.id=d||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=h)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=Ht(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[c,{isActive:u}]}const V0=g.forwardRef((t,e)=>{let{as:n=H0,active:r,eventKey:i}=t,s=CI(t,EI);const[o,a]=Y0(Object.assign({key:Jf(i,s.href),active:r},s));return o[Fu("active")]=a.isActive,f(n,Object.assign({},s,o,{ref:e}))});V0.displayName="NavItem";const kI=["as","onSelect","activeKey","role","onKeyDown"];function TI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const i_=()=>{},s_=Fu("event-key"),G0=g.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=TI(t,kI);const l=fI(),u=g.useRef(!1),c=g.useContext(zl),d=g.useContext(j0);let h,_;d&&(s=s||"tablist",i=d.activeKey,h=d.getControlledId,_=d.getControllerId);const y=g.useRef(null),w=v=>{const S=y.current;if(!S)return null;const x=Br(S,`[${s_}]:not([aria-disabled=true])`),I=S.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const C=x.indexOf(I);if(C===-1)return null;let R=C+v;return R>=x.length&&(R=0),R<0&&(R=x.length-1),x[R]},E=(v,S)=>{v!=null&&(r==null||r(v,S),c==null||c(v,S))},m=v=>{if(o==null||o(v),!d)return;let S;switch(v.key){case"ArrowLeft":case"ArrowUp":S=w(-1);break;case"ArrowRight":case"ArrowDown":S=w(1);break;default:return}S&&(v.preventDefault(),E(S.dataset[_I("EventKey")]||null,v),u.current=!0,l())};g.useEffect(()=>{if(y.current&&u.current){const v=y.current.querySelector(`[${s_}][aria-selected=true]`);v==null||v.focus()}u.current=!1});const p=B0(e,y);return f(zl.Provider,{value:E,children:f(Xf.Provider,{value:{role:s,activeKey:Jf(i),getControlledId:h||i_,getControllerId:_||i_},children:f(n,Object.assign({},a,{onKeyDown:m,ref:p,role:s}))})})});G0.displayName="Nav";const II=Object.assign(G0,{Item:V0}),yi=g.createContext(null);yi.displayName="NavbarContext";const ep=g.createContext(null);ep.displayName="CardHeaderContext";var NI=/-(.)/g;function xI(t){return t.replace(NI,function(e,n){return n.toUpperCase()})}const RI=t=>t[0].toUpperCase()+xI(t).slice(1);function at(t,{displayName:e=RI(t),Component:n,defaultProps:r}={}){const i=g.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},u)=>{const c=ne(o,t);return f(a,{ref:u,className:K(s,c),...l})});return i.defaultProps=r,i.displayName=e,i}const OI=at("nav-item");function DI(){var t=g.useRef(!0),e=g.useRef(function(){return t.current});return g.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function PI(t){var e=g.useRef(null);return g.useEffect(function(){e.current=t}),e.current}var MI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",bI=typeof document<"u";const AI=bI||MI?g.useLayoutEffect:g.useEffect,LI=["onKeyDown"];function FI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UI(t){return!t||t.trim()==="#"}const tp=g.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=FI(t,LI);const[i]=Zf(Object.assign({tagName:"a"},r)),s=Ht(o=>{i.onKeyDown(o),n==null||n(o)});return UI(r.href)||r.role==="button"?f("a",Object.assign({ref:e},r,i,{onKeyDown:s})):f("a",Object.assign({ref:e},r,{onKeyDown:n}))});tp.displayName="Anchor";const WI={disabled:!1},np=g.forwardRef(({bsPrefix:t,className:e,as:n=tp,active:r,eventKey:i,...s},o)=>{t=ne(t,"nav-link");const[a,l]=Y0({key:Jf(i,s.href),active:r,...s});return f(n,{...s,...a,ref:o,className:K(e,t,s.disabled&&"disabled",l.isActive&&"active")})});np.displayName="NavLink";np.defaultProps=WI;const $I={justify:!1,fill:!1},rp=g.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:u,activeKey:c,...d}=Qf(t,{activeKey:"onSelect"}),h=ne(r,"nav");let _,y,w=!1;const E=g.useContext(yi),m=g.useContext(ep);return E?(_=E.bsPrefix,w=a??!0):m&&({cardHeaderBsPrefix:y}=m),f(II,{as:n,ref:e,activeKey:c,className:K(u,{[h]:!w,[`${_}-nav`]:w,[`${_}-nav-scroll`]:w&&l,[`${y}-${i}`]:!!y,[`${h}-${i}`]:!!i,[`${h}-fill`]:s,[`${h}-justified`]:o}),...d})});rp.displayName="Nav";rp.defaultProps=$I;const zI=Object.assign(rp,{Item:OI,Link:np}),K0=g.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ne(t,"navbar-brand");const s=n||(r.href?"a":"span");return f(s,{...r,ref:i,className:K(e,t)})});K0.displayName="NavbarBrand";function ip(t){return t&&t.ownerDocument||document}function BI(t){var e=ip(t);return e&&e.defaultView||window}function jI(t,e){return BI(t).getComputedStyle(t,e)}var HI=/([A-Z])/g;function YI(t){return t.replace(HI,"-$1").toLowerCase()}var VI=/^ms-/;function Wa(t){return YI(t).replace(VI,"-ms-")}var GI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function KI(t){return!!(t&&GI.test(t))}function Pn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Wa(e))||jI(t).getPropertyValue(Wa(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Wa(i)):KI(i)?r+=i+"("+s+") ":n+=Wa(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Qt={},qI={get exports(){return Qt},set exports(t){Qt=t}},QI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XI=QI,JI=XI;function q0(){}function Q0(){}Q0.resetWarningCache=q0;var ZI=function(){function t(r,i,s,o,a,l){if(l!==JI){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Q0,resetWarningCache:q0};return n.PropTypes=n,n};qI.exports=ZI();const o_={disabled:!1},X0=Fe.createContext(null);var eN=function(e){return e.scrollTop},Js="unmounted",ir="exited",jt="entering",En="entered",bo="exiting",Vn=function(t){dI(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ir,s.appearStatus=jt):l=En:r.unmountOnExit||r.mountOnEnter?l=Js:l=ir,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Js?{status:ir}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==jt&&o!==En&&(s=jt):(o===jt||o===En)&&(s=bo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===jt){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ji.findDOMNode(this);o&&eN(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ir&&this.setState({status:Js})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ji.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||o_.disabled){this.safeSetState({status:En},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:jt},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:En},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ji.findDOMNode(this);if(!s||o_.disabled){this.safeSetState({status:ir},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:bo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ir},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ji.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Js)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=z0(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fe.createElement(X0.Provider,{value:null},typeof o=="function"?o(i,a):Fe.cloneElement(Fe.Children.only(o),a))},e}(Fe.Component);Vn.contextType=X0;Vn.propTypes={};function Ti(){}Vn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ti,onEntering:Ti,onEntered:Ti,onExit:Ti,onExiting:Ti,onExited:Ti};Vn.UNMOUNTED=Js;Vn.EXITED=ir;Vn.ENTERING=jt;Vn.ENTERED=En;Vn.EXITING=bo;const Uu=!!(typeof window<"u"&&window.document&&window.document.createElement);var gh=!1,_h=!1;try{var Hc={get passive(){return gh=!0},get once(){return _h=gh=!0}};Uu&&(window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,!0))}catch{}function tN(t,e,n,r){if(r&&typeof r!="boolean"&&!_h){var i=r.once,s=r.capture,o=n;!_h&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,gh?r:s)}t.addEventListener(e,n,r)}function nN(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Bl(t,e,n,r){return tN(t,e,n,r),function(){nN(t,e,n,r)}}function rN(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function iN(t){var e=Pn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function sN(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||rN(t,"transitionend",!0)},e+n),s=Bl(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function oN(t,e,n,r){n==null&&(n=iN(t)||0);var i=sN(t,n,r),s=Bl(t,"transitionend",e);return function(){i(),s()}}function a_(t,e){const n=Pn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function sp(t,e){const n=a_(t,"transitionDuration"),r=a_(t,"transitionDelay"),i=oN(t,s=>{s.target===t&&(i(),e(s))},n+r)}function zs(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function J0(t){t.offsetHeight}function aN(t){return t&&"setState"in t?ji.findDOMNode(t):t??null}const op=Fe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},c)=>{const d=g.useRef(null),h=B0(d,l),_=I=>{h(aN(I))},y=I=>C=>{I&&d.current&&I(d.current,C)},w=g.useCallback(y(t),[t]),E=g.useCallback(y(e),[e]),m=g.useCallback(y(n),[n]),p=g.useCallback(y(r),[r]),v=g.useCallback(y(i),[i]),S=g.useCallback(y(s),[s]),x=g.useCallback(y(o),[o]);return f(Vn,{ref:c,...u,onEnter:w,onEntered:m,onEntering:E,onExit:p,onExited:S,onExiting:v,addEndListener:x,nodeRef:d,children:typeof a=="function"?(I,C)=>a(I,{...C,ref:_}):Fe.cloneElement(a,{ref:_})})}),lN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Z0(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=lN[t];return r+parseInt(Pn(e,i[0]),10)+parseInt(Pn(e,i[1]),10)}const uN={[ir]:"collapse",[bo]:"collapsing",[jt]:"collapsing",[En]:"collapse show"},cN={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Z0},ew=Fe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=Z0,...u},c)=>{const d=typeof a=="function"?a():a,h=g.useMemo(()=>zs(m=>{m.style[d]="0"},t),[d,t]),_=g.useMemo(()=>zs(m=>{const p=`scroll${d[0].toUpperCase()}${d.slice(1)}`;m.style[d]=`${m[p]}px`},e),[d,e]),y=g.useMemo(()=>zs(m=>{m.style[d]=null},n),[d,n]),w=g.useMemo(()=>zs(m=>{m.style[d]=`${l(d,m)}px`,J0(m)},r),[r,l,d]),E=g.useMemo(()=>zs(m=>{m.style[d]=null},i),[d,i]);return f(op,{ref:c,addEndListener:sp,...u,"aria-expanded":u.role?u.in:null,onEnter:h,onEntering:_,onEntered:y,onExit:w,onExiting:E,childRef:o.ref,children:(m,p)=>Fe.cloneElement(o,{...p,className:K(s,o.props.className,uN[m],d==="width"&&"collapse-horizontal")})})});ew.defaultProps=cN;const tw=g.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ne(e,"navbar-collapse");const i=g.useContext(yi);return f(ew,{in:!!(i&&i.expanded),...n,children:f("div",{ref:r,className:e,children:t})})});tw.displayName="NavbarCollapse";const dN={label:"Toggle navigation"},ap=g.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:s,...o},a)=>{t=ne(t,"navbar-toggler");const{onToggle:l,expanded:u}=g.useContext(yi)||{},c=Ht(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),f(i,{...o,ref:a,onClick:c,"aria-label":r,className:K(e,t,!u&&"collapsed"),children:n||f("span",{className:`${t}-icon`})})});ap.displayName="NavbarToggle";ap.defaultProps=dN;var vh=new WeakMap,l_=function(e,n){if(!(!e||!n)){var r=vh.get(n)||new Map;vh.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function hN(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=l_(t,e),r=g.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return AI(function(){var o=l_(t,e);if(!o)return s(!1);var a=vh.get(e),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),i}function fN(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function s(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,u){var c;if(typeof a=="object")c=a,u=l,l=!0;else{var d;l=l||!0,c=(d={},d[a]=l,d)}var h=g.useMemo(function(){return Object.entries(c).reduce(function(_,y){var w=y[0],E=y[1];return(E==="up"||E===!0)&&(_=n(_,s(w))),(E==="down"||E===!0)&&(_=n(_,i(w))),_},"")},[JSON.stringify(c)]);return hN(h,u)}return o}var pN=fN({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Yc(t){t===void 0&&(t=ip());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function u_(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function mN(t){var e=g.useRef(t);return e.current=t,e}function gN(t){var e=mN(t);g.useEffect(function(){return function(){return e.current()}},[])}function _N(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const c_=Fu("modal-open");class lp{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return _N(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Pn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(c_,""),Pn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(c_),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const nw=g.createContext(Uu?window:void 0);nw.Provider;function rw(){return g.useContext(nw)}const Vc=(t,e)=>Uu?t==null?(e||ip()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function vN(t,e){const n=rw(),[r,i]=g.useState(()=>Vc(t,n==null?void 0:n.document));if(!r){const s=Vc(t);s&&i(s)}return g.useEffect(()=>{e&&r&&e(r)},[e,r]),g.useEffect(()=>{const s=Vc(t);s!==r&&i(s)},[t,r]),r}const yN=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function wN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Gc;function SN(t){return Gc||(Gc=new lp({ownerDocument:t==null?void 0:t.document})),Gc}function EN(t){const e=rw(),n=t||SN(e),r=g.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:g.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:g.useCallback(i=>{r.current.backdrop=i},[])})}const iw=g.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:d,backdropTransition:h,autoFocus:_=!0,enforceFocus:y=!0,restoreFocus:w=!0,restoreFocusOptions:E,renderDialog:m,renderBackdrop:p=ce=>f("div",Object.assign({},ce)),manager:v,container:S,onShow:x,onHide:I=()=>{},onExit:C,onExited:R,onExiting:B,onEnter:$,onEntering:tt,onEntered:_n}=t,Ut=wN(t,yN);const nn=vN(S),xe=EN(v),Ur=DI(),Xn=PI(n),[O,F]=g.useState(!n),U=g.useRef(null);g.useImperativeHandle(e,()=>xe,[xe]),Uu&&!Xn&&n&&(U.current=Yc()),!d&&!n&&!O?F(!0):n&&O&&F(!1);const oe=Ht(()=>{if(xe.add(),Zn.current=Bl(document,"keydown",Ve),nt.current=Bl(document,"focus",()=>setTimeout(Jn),!0),x&&x(),_){const ce=Yc(document);xe.dialog&&ce&&!u_(xe.dialog,ce)&&(U.current=ce,xe.dialog.focus())}}),me=Ht(()=>{if(xe.remove(),Zn.current==null||Zn.current(),nt.current==null||nt.current(),w){var ce;(ce=U.current)==null||ce.focus==null||ce.focus(E),U.current=null}});g.useEffect(()=>{!n||!nn||oe()},[n,nn,oe]),g.useEffect(()=>{O&&me()},[O,me]),gN(()=>{me()});const Jn=Ht(()=>{if(!y||!Ur()||!xe.isTopModal())return;const ce=Yc();xe.dialog&&ce&&!u_(xe.dialog,ce)&&xe.dialog.focus()}),Tt=Ht(ce=>{ce.target===ce.currentTarget&&(u==null||u(ce),a===!0&&I())}),Ve=Ht(ce=>{l&&ce.keyCode===27&&xe.isTopModal()&&(c==null||c(ce),ce.defaultPrevented||I())}),nt=g.useRef(),Zn=g.useRef(),TC=(...ce)=>{F(!0),R==null||R(...ce)},pc=d;if(!nn||!(n||pc&&!O))return null;const Um=Object.assign({role:r,ref:xe.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ut,{style:s,className:i,tabIndex:-1});let mc=m?m(Um):f("div",Object.assign({},Um,{children:g.cloneElement(o,{role:"document"})}));pc&&(mc=f(pc,{appear:!0,unmountOnExit:!0,in:!!n,onExit:C,onExiting:B,onExited:TC,onEnter:$,onEntering:tt,onEntered:_n,children:mc}));let wa=null;if(a){const ce=h;wa=p({ref:xe.setBackdropRef,onClick:Tt}),ce&&(wa=f(ce,{appear:!0,in:!!n,children:wa}))}return f(Rt,{children:ji.createPortal(A(Rt,{children:[wa,mc]}),nn)})});iw.displayName="Modal";const CN=Object.assign(iw,{Manager:lp}),kN={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},TN={[jt]:"show",[En]:"show"},na=g.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const s=g.useCallback((o,a)=>{J0(o),r.onEnter==null||r.onEnter(o,a)},[r]);return f(op,{ref:i,addEndListener:sp,...r,onEnter:s,childRef:e.ref,children:(o,a)=>g.cloneElement(e,{...a,className:K("fade",t,e.props.className,TN[o],n[o])})})});na.defaultProps=kN;na.displayName="Fade";const IN=at("offcanvas-body"),NN={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},xN={[jt]:"show",[En]:"show"},up=g.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=ne(t,"offcanvas"),f(op,{ref:i,addEndListener:sp,...r,childRef:n.ref,children:(s,o)=>g.cloneElement(n,{...o,className:K(e,n.props.className,(s===jt||s===bo)&&`${t}-toggling`,xN[s])})})));up.defaultProps=NN;up.displayName="OffcanvasToggling";const sw=g.createContext({onHide(){}}),RN={"aria-label":Qt.string,onClick:Qt.func,variant:Qt.oneOf(["white"])},ON={"aria-label":"Close"},ra=g.forwardRef(({className:t,variant:e,...n},r)=>f("button",{ref:r,type:"button",className:K("btn-close",e&&`btn-close-${e}`,t),...n}));ra.displayName="CloseButton";ra.propTypes=RN;ra.defaultProps=ON;const DN={closeLabel:"Close",closeButton:!1},ow=g.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...s},o)=>{const a=g.useContext(sw),l=Ht(()=>{a==null||a.onHide(),r==null||r()});return A("div",{ref:o,...s,children:[i,n&&f(ra,{"aria-label":t,variant:e,onClick:l})]})});ow.defaultProps=DN;const PN={closeLabel:"Close",closeButton:!1},cp=g.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ne(t,"offcanvas-header"),f(ow,{ref:r,...n,className:K(e,t)})));cp.displayName="OffcanvasHeader";cp.defaultProps=PN;const Wu=t=>g.forwardRef((e,n)=>f("div",{...e,ref:n,className:K(e.className,t)})),MN=Wu("h5"),bN=at("offcanvas-title",{Component:MN});function AN(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function LN(t,e){t.classList?t.classList.add(e):AN(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function d_(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function FN(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=d_(t.className,e):t.setAttribute("class",d_(t.className&&t.className.baseVal||"",e))}const Ii={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class aw extends lp{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Pn(n,{[e]:`${parseFloat(Pn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Pn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(LN(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Br(n,Ii.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Br(n,Ii.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Br(n,Ii.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();FN(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Br(n,Ii.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Br(n,Ii.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Br(n,Ii.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Kc;function UN(t){return Kc||(Kc=new aw(t)),Kc}const WN={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function $N(t){return f(up,{...t})}function zN(t){return f(na,{...t})}const dp=g.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:u,onEscapeKeyDown:c,onShow:d,onHide:h,container:_,autoFocus:y,enforceFocus:w,restoreFocus:E,restoreFocusOptions:m,onEntered:p,onExit:v,onExiting:S,onEnter:x,onEntering:I,onExited:C,backdropClassName:R,manager:B,renderStaticNode:$,...tt},_n)=>{const Ut=g.useRef();t=ne(t,"offcanvas");const{onToggle:nn}=g.useContext(yi)||{},[xe,Ur]=g.useState(!1),Xn=pN(s||"xs","up");g.useEffect(()=>{Ur(s?o&&!Xn:o)},[o,s,Xn]);const O=Ht(()=>{nn==null||nn(),h==null||h()}),F=g.useMemo(()=>({onHide:O}),[O]);function U(){return B||(u?(Ut.current||(Ut.current=new aw({handleContainerOverflow:!1})),Ut.current):UN())}const oe=(Ve,...nt)=>{Ve&&(Ve.style.visibility="visible"),x==null||x(Ve,...nt)},me=(Ve,...nt)=>{Ve&&(Ve.style.visibility=""),C==null||C(...nt)},Jn=g.useCallback(Ve=>f("div",{...Ve,className:K(`${t}-backdrop`,R)}),[R,t]),Tt=Ve=>f("div",{...Ve,...tt,className:K(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return A(Rt,{children:[!xe&&(s||$)&&Tt({}),f(sw.Provider,{value:F,children:f(CN,{show:xe,ref:_n,backdrop:a,container:_,keyboard:l,autoFocus:y,enforceFocus:w&&!u,restoreFocus:E,restoreFocusOptions:m,onEscapeKeyDown:c,onShow:d,onHide:O,onEnter:oe,onEntering:I,onEntered:p,onExit:v,onExiting:S,onExited:me,manager:U(),transition:$N,backdropTransition:zN,renderBackdrop:Jn,renderDialog:Tt})})]})});dp.displayName="Offcanvas";dp.defaultProps=WN;const BN=Object.assign(dp,{Body:IN,Header:cp,Title:bN}),lw=g.forwardRef((t,e)=>{const n=g.useContext(yi);return f(BN,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});lw.displayName="NavbarOffcanvas";const jN=at("navbar-text",{Component:"span"}),HN={expand:!0,variant:"light",collapseOnSelect:!1},hp=g.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:c,onToggle:d,onSelect:h,collapseOnSelect:_,...y}=Qf(t,{expanded:"onToggle"}),w=ne(n,"navbar"),E=g.useCallback((...v)=>{h==null||h(...v),_&&c&&(d==null||d(!1))},[h,_,c,d]);y.role===void 0&&u!=="nav"&&(y.role="navigation");let m=`${w}-expand`;typeof r=="string"&&(m=`${m}-${r}`);const p=g.useMemo(()=>({onToggle:()=>d==null?void 0:d(!c),bsPrefix:w,expanded:!!c,expand:r}),[w,c,r,d]);return f(yi.Provider,{value:p,children:f(zl.Provider,{value:E,children:f(u,{ref:e,...y,className:K(l,w,r&&m,i&&`${w}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});hp.defaultProps=HN;hp.displayName="Navbar";const qc=Object.assign(hp,{Brand:K0,Collapse:tw,Offcanvas:lw,Text:jN,Toggle:ap}),uw=g.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ne(t,"row"),o=W0(),a=$0(),l=`${s}-cols`,u=[];return o.forEach(c=>{const d=r[c];delete r[c];let h;d!=null&&typeof d=="object"?{cols:h}=d:h=d;const _=c!==a?`-${c}`:"";h!=null&&u.push(`${l}${_}-${h}`)}),f(n,{ref:i,...r,className:K(e,s,...u)})});uw.displayName="Row";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw Is(e)},Is=function(t){return new Error("Firebase Database ("+cw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(h=64)),r.push(n[c],n[d],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const _=a<<4&240|u>>2;if(r.push(_),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},hw=function(t){const e=dw(t);return fp.encodeByteArray(e,!0)},jl=function(t){return hw(t).replace(/\./g,"")},Hl=function(t){try{return fp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){return fw(void 0,t)}function fw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!GN(n)||(t[n]=fw(t[n],e[n]));return t}function GN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function KN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qN(){const t=Je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mw(){return cw.NODE_ADMIN===!0}function QN(){try{return typeof indexedDB=="object"}catch{return!1}}function XN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function JN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=()=>JN().__FIREBASE_DEFAULTS__,ex=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hl(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return ZN()||ex()||tx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gw=t=>{var e,n;return(n=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nx=t=>{const e=gw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rx=()=>{var t;return(t=mp())===null||t===void 0?void 0:t.config},_w=t=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jl(JSON.stringify(n)),jl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="FirebaseError";class Fr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sx,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ox(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Fr(i,a,r)}}function ox(t,e){return t.replace(ax,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ax=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){return JSON.parse(t)}function Le(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ao(Hl(s[0])||""),n=Ao(Hl(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},lx=function(t){const e=vw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ux=function(t){const e=vw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ps(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function yh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Vl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(h_(s)&&h_(o)){if(!Vl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function h_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function dx(t,e){const n=new hx(t,e);return n.subscribe.bind(n)}class hx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qc),i.error===void 0&&(i.error=Qc),i.complete===void 0&&(i.complete=Qc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qc(){}function gp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $u;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_x(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gx(t){return t===jr?void 0:t}function _x(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const yx={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},wx=se.INFO,Sx={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Ex=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Sx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=wx,this._logHandler=Ex,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const Cx=(t,e)=>e.some(n=>t instanceof n);let f_,p_;function kx(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tx(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yw=new WeakMap,wh=new WeakMap,ww=new WeakMap,Xc=new WeakMap,vp=new WeakMap;function Ix(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yw.set(n,t)}).catch(()=>{}),vp.set(e,t),e}function Nx(t){if(wh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wh.set(t,e)}let Sh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ww.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xx(t){Sh=t(Sh)}function Rx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jc(this),e,...n);return ww.set(r,e.sort?e.sort():[e]),Cr(r)}:Tx().includes(t)?function(...e){return t.apply(Jc(this),e),Cr(yw.get(this))}:function(...e){return Cr(t.apply(Jc(this),e))}}function Ox(t){return typeof t=="function"?Rx(t):(t instanceof IDBTransaction&&Nx(t),Cx(t,kx())?new Proxy(t,Sh):t)}function Cr(t){if(t instanceof IDBRequest)return Ix(t);if(Xc.has(t))return Xc.get(t);const e=Ox(t);return e!==t&&(Xc.set(t,e),vp.set(e,t)),e}const Jc=t=>vp.get(t);function Dx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Cr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Cr(o.result),l.oldVersion,l.newVersion,Cr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Px=["get","getKey","getAll","getAllKeys","count"],Mx=["put","add","delete","clear"],Zc=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zc.get(e))return Zc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Mx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Px.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zc.set(e,s),s}xx(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ax(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ax(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eh="@firebase/app",g_="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new _p("@firebase/app"),Lx="@firebase/app-compat",Fx="@firebase/analytics-compat",Ux="@firebase/analytics",Wx="@firebase/app-check-compat",$x="@firebase/app-check",zx="@firebase/auth",Bx="@firebase/auth-compat",jx="@firebase/database",Hx="@firebase/database-compat",Yx="@firebase/functions",Vx="@firebase/functions-compat",Gx="@firebase/installations",Kx="@firebase/installations-compat",qx="@firebase/messaging",Qx="@firebase/messaging-compat",Xx="@firebase/performance",Jx="@firebase/performance-compat",Zx="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",rR="@firebase/firestore",iR="@firebase/firestore-compat",sR="firebase",oR="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="[DEFAULT]",aR={[Eh]:"fire-core",[Lx]:"fire-core-compat",[Ux]:"fire-analytics",[Fx]:"fire-analytics-compat",[$x]:"fire-app-check",[Wx]:"fire-app-check-compat",[zx]:"fire-auth",[Bx]:"fire-auth-compat",[jx]:"fire-rtdb",[Hx]:"fire-rtdb-compat",[Yx]:"fire-fn",[Vx]:"fire-fn-compat",[Gx]:"fire-iid",[Kx]:"fire-iid-compat",[qx]:"fire-fcm",[Qx]:"fire-fcm-compat",[Xx]:"fire-perf",[Jx]:"fire-perf-compat",[Zx]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[rR]:"fire-fst",[iR]:"fire-fst-compat","fire-js":"fire-js",[sR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Map,kh=new Map;function lR(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ms(t){const e=t.name;if(kh.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;kh.set(e,t);for(const n of Gl.values())lR(n,t);return!0}function yp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},kr=new ia("app","Firebase",uR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=oR;function Sw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ch,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=rx()),!n)throw kr.create("no-options");const s=Gl.get(i);if(s){if(Vl(n,s.options)&&Vl(r,s.config))return s;throw kr.create("duplicate-app",{appName:i})}const o=new vx(i);for(const l of kh.values())o.addComponent(l);const a=new cR(n,r,o);return Gl.set(i,a),a}function Ew(t=Ch){const e=Gl.get(t);if(!e&&t===Ch)return Sw();if(!e)throw kr.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let i=(r=aR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(a.join(" "));return}ms(new ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebase-heartbeat-database",hR=1,Lo="firebase-heartbeat-store";let ed=null;function Cw(){return ed||(ed=Dx(dR,hR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lo)}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),ed}async function fR(t){try{return(await Cw()).transaction(Lo).objectStore(Lo).get(kw(t))}catch(e){if(e instanceof Fr)ci.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(n.message)}}}async function __(t,e){try{const r=(await Cw()).transaction(Lo,"readwrite");return await r.objectStore(Lo).put(e,kw(t)),r.done}catch(n){if(n instanceof Fr)ci.warn(n.message);else{const r=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(r.message)}}}function kw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=1024,mR=30*24*60*60*1e3;class gR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=v_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=mR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v_(),{heartbeatsToSend:n,unsentEntries:r}=_R(this._heartbeatsCache.heartbeats),i=jl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function v_(){return new Date().toISOString().substring(0,10)}function _R(t,e=pR){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),y_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QN()?XN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await fR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function y_(t){return jl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){ms(new ui("platform-logger",e=>new bx(e),"PRIVATE")),ms(new ui("heartbeat",e=>new gR(e),"PRIVATE")),Tr(Eh,g_,t),Tr(Eh,g_,"esm2017"),Tr("fire-js","")}yR("");const w_="@firebase/database",S_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tw="";function wR(t){Tw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Le(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ao(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new SR(e)}}catch{}return new ER},Kr=Iw("localStorage"),Th=Iw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new _p("@firebase/database"),CR=function(){let t=1;return function(){return t++}}(),Nw=function(t){const e=px(t),n=new cx;n.update(e);const r=n.digest();return fp.encodeByteArray(r)},oa=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=oa.apply(null,r):typeof r=="object"?e+=Le(r):e+=r,e+=" "}return e};let ti=null,E_=!0;const kR=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ji.logLevel=se.VERBOSE,ti=Ji.log.bind(Ji),e&&Th.set("logging_enabled",!0)):typeof t=="function"?ti=t:(ti=null,Th.remove("logging_enabled"))},ze=function(...t){if(E_===!0&&(E_=!1,ti===null&&Th.get("logging_enabled")===!0&&kR(!0)),ti){const e=oa.apply(null,t);ti(e)}},aa=function(t){return function(...e){ze(t,...e)}},Ih=function(...t){const e="FIREBASE INTERNAL ERROR: "+oa(...t);Ji.error(e)},$n=function(...t){const e=`FIREBASE FATAL ERROR: ${oa(...t)}`;throw Ji.error(e),new Error(e)},gt=function(...t){const e="FIREBASE WARNING: "+oa(...t);Ji.warn(e)},TR=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},IR=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gs="[MIN_NAME]",di="[MAX_NAME]",wi=function(t,e){if(t===e)return 0;if(t===gs||e===di)return-1;if(e===gs||t===di)return 1;{const n=C_(t),r=C_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},NR=function(t,e){return t===e?0:t<e?-1:1},Bs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Le(e))},Sp=function(t){if(typeof t!="object"||t===null)return Le(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Le(e[r]),n+=":",n+=Sp(t[e[r]]);return n+="}",n},xw=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Rw=function(t){N(!wp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},xR=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function OR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const DR=new RegExp("^-?(0*)\\d{1,10}$"),PR=-2147483648,MR=2147483647,C_=function(t){if(DR.test(t)){const e=Number(t);if(e>=PR&&e<=MR)return e}return null},xs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw gt("Exception was thrown by user callback.",n),e},Math.floor(0))}},bR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(e)}}class Zi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="5",Ow="v",Dw="s",Pw="r",Mw="f",bw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Aw="ls",Lw="p",Nh="ac",Fw="websocket",Uw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Kr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function FR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $w(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===Fw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Uw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);FR(t)&&(n.ns=t.namespace);const i=[];return Ye(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.counters_={}}incrementCounter(e,n=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td={},nd={};function Cp(t){const e=t.toString();return td[e]||(td[e]=new UR),td[e]}function WR(t,e){const n=t.toString();return nd[n]||(nd[n]=e()),nd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&xs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="start",zR="close",BR="pLPCommand",jR="pRTLPCB",zw="id",Bw="pw",jw="ser",HR="cb",YR="seg",VR="ts",GR="d",KR="dframe",Hw=1870,Yw=30,qR=Hw-Yw,QR=25e3,XR=3e4;class Hi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aa(e),this.stats_=Cp(n),this.urlFn=l=>(this.appCheckToken&&(l[Nh]=this.appCheckToken),$w(n,Uw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $R(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(XR)),IR(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kp((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===k_)this.id=a,this.password=l;else if(o===zR)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[k_]="t",r[jw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[HR]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ow]=Ep,this.transportSessionId&&(r[Dw]=this.transportSessionId),this.lastSessionId&&(r[Aw]=this.lastSessionId),this.applicationId&&(r[Lw]=this.applicationId),this.appCheckToken&&(r[Nh]=this.appCheckToken),typeof location<"u"&&location.hostname&&bw.test(location.hostname)&&(r[Pw]=Mw);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hi.forceAllow_=!0}static forceDisallow(){Hi.forceDisallow_=!0}static isAvailable(){return Hi.forceAllow_?!0:!Hi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xR()&&!RR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hw(n),i=xw(r,qR);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[KR]="t",r[zw]=e,r[Bw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=CR(),window[BR+this.uniqueCallbackIdentifier]=e,window[jR+this.uniqueCallbackIdentifier]=n,this.myIFrame=kp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ze("frame writing exception"),a.stack&&ze(a.stack),ze(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ze("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[zw]=this.myID,e[Bw]=this.myPW,e[jw]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yw+r.length<=Hw;){const o=this.pendingSegs.shift();r=r+"&"+YR+i+"="+o.seg+"&"+VR+i+"="+o.ts+"&"+GR+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(QR)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=16384,ZR=45e3;let Kl=null;typeof MozWebSocket<"u"?Kl=MozWebSocket:typeof WebSocket<"u"&&(Kl=WebSocket);class Yt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aa(this.connId),this.stats_=Cp(n),this.connURL=Yt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Ow]=Ep,typeof location<"u"&&location.hostname&&bw.test(location.hostname)&&(o[Pw]=Mw),n&&(o[Dw]=n),r&&(o[Aw]=r),i&&(o[Nh]=i),s&&(o[Lw]=s),$w(e,Fw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kr.set("previous_websocket_failure",!0);try{let r;mw(),this.mySock=new Kl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Kl!==null&&!Yt.forceDisallow_}static previouslyFailed(){return Kr.isInMemoryStorage||Kr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ao(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=xw(n,JR);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZR))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Hi,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Yt&&Yt.isAvailable();let r=n&&!Yt.previouslyFailed();if(e.webSocketOnly&&(n||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{const i=this.transports_=[];for(const s of Fo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Fo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=6e4,tO=5e3,nO=10*1024,rO=100*1024,rd="t",T_="d",iO="s",I_="r",sO="e",N_="o",x_="a",R_="n",O_="p",oO="h";class aO{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aa("c:"+this.id+":"),this.transportManager_=new Fo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=lo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rd in e){const n=e[rd];n===x_?this.upgradeIfSecondaryHealthy_():n===I_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===N_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Bs("t",e),r=Bs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:O_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:R_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Bs("t",e),r=Bs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Bs(rd,e);if(T_ in e){const r=e[T_];if(n===oO)this.onHandshake_(r);else if(n===R_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iO?this.onConnectionShutdown_(r):n===I_?this.onReset_(r):n===sO?Ih("Server Error: "+r):n===N_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ih("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ep!==r&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),lo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:O_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Gw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ql}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=32,P_=768;class re{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ee(){return new re("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pr(t){return t.pieces_.length-t.pieceNum_}function le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new re(t.pieces_,e)}function Tp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Uo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Kw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new re(e,0)}function Ce(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof re)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new re(n,0)}function V(t){return t.pieceNum_>=t.pieces_.length}function dt(t,e){const n=Y(t),r=Y(e);if(n===null)return e;if(n===r)return dt(le(t),le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uO(t,e){const n=Uo(t,0),r=Uo(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=wi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Ip(t,e){if(Pr(t)!==Pr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Dt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Pr(t)>Pr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class cO{constructor(e,n){this.errorPrefix_=n,this.parts_=Uo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zu(this.parts_[r]);qw(this)}}function dO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zu(e),qw(t)}function hO(t){const e=t.parts_.pop();t.byteLength_-=zu(e),t.parts_.length>0&&(t.byteLength_-=1)}function qw(t){if(t.byteLength_>P_)throw new Error(t.errorPrefix_+"has a key path longer than "+P_+" bytes ("+t.byteLength_+").");if(t.parts_.length>D_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+D_+") or object contains a cycle "+Hr(t))}function Hr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends Gw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Np}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=1e3,fO=60*5*1e3,M_=30*1e3,pO=1.3,mO=3e4,gO="server_kill",b_=3;class Mn extends Vw{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Mn.nextPersistentConnectionId_++,this.log_=aa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=js,this.maxReconnectDelay_=fO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!mw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Np.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ql.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Le(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new $u,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Mn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&pn(e,"w")){const r=ps(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ux(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=M_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=lx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Le(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ih("Unrecognized action received from server: "+Le(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mO&&(this.reconnectDelay_=js),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Mn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){N(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?ze("getToken() completed but was canceled"):(ze("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new aO(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{gt(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(gO)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&gt(d),l())}}}interrupt(e){ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],yh(this.interruptReasons_)&&(this.reconnectDelay_=js,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Sp(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new re(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=b_&&(this.reconnectDelay_=M_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=b_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Tw.replace(/\./g,"-")]=1,pp()?e["framework.cordova"]=1:pw()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ql.getInstance().currentlyOnline();return yh(this.interruptReasons_)&&e}}Mn.nextPersistentConnectionId_=0;Mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new j(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new j(gs,e),i=new j(gs,n);return this.compare(r,i)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;class Qw extends Bu{static get __EMPTY_NODE(){return $a}static set __EMPTY_NODE(e){$a=e}compare(e,n){return wi(e.name,n.name)}isDefinedOn(e){throw Is("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(di,$a)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,$a)}toString(){return".key"}}const es=new Qw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ae{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ae.RED,this.left=i??ht.EMPTY_NODE,this.right=s??ht.EMPTY_NODE}copy(e,n,r,i,s){return new Ae(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ht.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ae.RED=!0;Ae.BLACK=!1;class _O{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ae(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(e,n=ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))}remove(e){return new ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ae.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new za(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new za(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new za(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new za(this.root_,null,this.comparator_,!0,e)}}ht.EMPTY_NODE=new _O;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e){return wi(t.name,e.name)}function xp(t,e){return wi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh;function yO(t){xh=t}const Xw=function(t){return typeof t=="number"?"number:"+Rw(t):"string:"+t},Jw=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else N(t===xh||t.isEmpty(),"priority of unexpected type.");N(t===xh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A_;class Me{constructor(e,n=Me.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Jw(this.priorityNode_)}static set __childrenNodeConstructor(e){A_=e}static get __childrenNodeConstructor(){return A_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Me(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return V(e)?this:Y(e)===".priority"?this.priorityNode_:Me.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Me.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Y(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||Pr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Me.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Rw(this.value_):e+=this.value_,this.lazyHash_=Nw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Me.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Me.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Me.VALUE_TYPE_ORDER.indexOf(n),s=Me.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Me.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zw,eS;function wO(t){Zw=t}function SO(t){eS=t}class EO extends Bu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?wi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(di,new Me("[PRIORITY-POST]",eS))}makePost(e,n){const r=Zw(e);return new j(n,new Me("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new EO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=Math.log(2);class kO{constructor(e){const n=s=>parseInt(Math.log(s)/CO,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ql=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Ae(h,d.node,Ae.BLACK,null,null);{const _=parseInt(c/2,10)+l,y=i(l,_),w=i(_+1,u);return d=t[_],h=n?n(d):d,new Ae(h,d.node,Ae.BLACK,y,w)}},s=function(l){let u=null,c=null,d=t.length;const h=function(y,w){const E=d-y,m=d;d-=y;const p=i(E+1,m),v=t[E],S=n?n(v):v;_(new Ae(S,v.node,w,null,p))},_=function(y){u?(u.left=y,u=y):(c=y,u=y)};for(let y=0;y<l.count;++y){const w=l.nextBitIsOne(),E=Math.pow(2,l.count-(y+1));w?h(E,Ae.BLACK):(h(E,Ae.BLACK),h(E,Ae.RED))}return c},o=new kO(t.length),a=s(o);return new ht(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id;const Ni={};class In{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(Ni&&ke,"ChildrenNode.ts has not been loaded"),id=id||new In({".priority":Ni},{".priority":ke}),id}get(e){const n=ps(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ht?n:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,n){N(e!==es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(j.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Ql(r,e.getCompare()):a=Ni;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new In(c,u)}addToIndexes(e,n){const r=Yl(this.indexes_,(i,s)=>{const o=ps(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Ni)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(j.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Ql(a,o.getCompare())}else return Ni;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new j(e.name,a))),l.insert(e,e.node)}});return new In(r,this.indexSet_)}removeFromIndexes(e,n){const r=Yl(this.indexes_,i=>{if(i===Ni)return i;{const s=n.get(e.name);return s?i.remove(new j(e.name,s)):i}});return new In(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs;class L{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Jw(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hs||(Hs=new L(new ht(xp),null,In.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hs}updatePriority(e){return this.children_.isEmpty()?this:new L(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Hs:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new j(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Hs:this.priorityNode_;return new L(i,o,s)}}updateChild(e,n){const r=Y(e);if(r===null)return n;{N(Y(e)!==".priority"||Pr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(le(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ke,(o,a)=>{n[o]=a.val(e),r++,s&&L.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xw(this.getPriority().val())+":"),this.forEachChild(ke,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Nw(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new j(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new j(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new j(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===la?-1:0}withIndex(e){if(e===es||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new L(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===es||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ke),i=n.getIterator(ke);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===es?null:this.indexMap_.get(e.toString())}}L.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class TO extends L{constructor(){super(new ht(xp),L.EMPTY_NODE,In.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}}const la=new TO;Object.defineProperties(j,{MIN:{value:new j(gs,L.EMPTY_NODE)},MAX:{value:new j(di,la)}});Qw.__EMPTY_NODE=L.EMPTY_NODE;Me.__childrenNodeConstructor=L;yO(la);SO(la);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=!0;function Be(t,e=null){if(t===null)return L.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Me(n,Be(e))}if(!(t instanceof Array)&&IO){const n=[];let r=!1;if(Ye(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Be(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new j(o,l)))}}),n.length===0)return L.EMPTY_NODE;const s=Ql(n,vO,o=>o.name,xp);if(r){const o=Ql(n,ke.getCompare());return new L(s,Be(e),new In({".priority":o},{".priority":ke}))}else return new L(s,Be(e),In.Default)}else{let n=L.EMPTY_NODE;return Ye(t,(r,i)=>{if(pn(t,r)&&r.substring(0,1)!=="."){const s=Be(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Be(e))}}wO(Be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO extends Bu{constructor(e){super(),this.indexPath_=e,N(!V(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?wi(e.name,n.name):s}makePost(e,n){const r=Be(e),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){const e=L.EMPTY_NODE.updateChild(this.indexPath_,la);return new j(di,e)}toString(){return Uo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO extends Bu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?wi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){const r=Be(e);return new j(n,r)}toString(){return".value"}}const RO=new xO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){return{type:"value",snapshotNode:t}}function _s(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Wo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function $o(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function OO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Wo(n,a)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(_s(n,r)):o.trackChildChange($o(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ke,(i,s)=>{n.hasChild(i)||r.trackChildChange(Wo(i,s))}),n.isLeafNode()||n.forEachChild(ke,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange($o(i,s,o))}else r.trackChildChange(_s(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.indexedFilter_=new Rp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zo.getStartPost_(e),this.endPost_=zo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new j(n,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=L.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);const s=this;return n.forEachChild(ke,(o,a)=>{s.matches(new j(o,a))||(i=i.updateImmediateChild(o,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new j(n,r))||(r=L.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,_)=>d(_,h)}else o=this.index_.getCompare();const a=e;N(a.numChildren()===this.limit_,"");const l=new j(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const _=h==null?1:o(h,l);if(c&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange($o(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Wo(n,d));const w=a.updateImmediateChild(n,L.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(_s(h.name,h.node)),w.updateImmediateChild(h.name,h.node)):w}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Wo(u.name,u.node)),s.trackChildChange(_s(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,L.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gs}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:di}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const e=new Op;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function PO(t){return t.loadsAllData()?new Rp(t.getIndex()):t.hasLimit()?new DO(t):new zo(t)}function L_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===RO?n="$value":t.index_===es?n="$key":(N(t.index_ instanceof NO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Le(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Le(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Le(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Le(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function F_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Vw{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=aa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Xl.getListenId_(e,r),a={};this.listens_[o]=a;const l=L_(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ps(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Xl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=L_(e._queryParams),r=e._path.toString(),i=new $u;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ns(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ao(a.responseText)}catch{gt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&gt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(){return{value:null,children:new Map}}function nS(t,e,n){if(V(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,Jl());const i=t.children.get(r);e=le(e),nS(i,e,n)}}function Rh(t,e,n){t.value!==null?n(e,t.value):bO(t,(r,i)=>{const s=new re(e.toString()+"/"+r);Rh(i,s,n)})}function bO(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ye(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=10*1e3,LO=30*1e3,FO=5*60*1e3;class UO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new AO(e);const r=U_+(LO-U_)*Math.random();lo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ye(e,(i,s)=>{s>0&&pn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),lo(this.reportStats_.bind(this),Math.floor(Math.random()*2*FO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Vt||(Vt={}));function Dp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Vt.ACK_USER_WRITE,this.source=Dp()}operationForChild(e){if(V(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new re(e));return new Zl(ee(),n,this.revert)}}else return N(Y(this.path)===e,"operationForChild called for unrelated child."),new Zl(le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.source=e,this.path=n,this.type=Vt.LISTEN_COMPLETE}operationForChild(e){return V(this.path)?new Bo(this.source,ee()):new Bo(this.source,le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Vt.OVERWRITE}operationForChild(e){return V(this.path)?new hi(this.source,ee(),this.snap.getImmediateChild(e)):new hi(this.source,le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Vt.MERGE}operationForChild(e){if(V(this.path)){const n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new hi(this.source,ee(),n.value):new vs(this.source,ee(),n)}else return N(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vs(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(V(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $O(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(OO(o.childName,o.snapshotNode))}),Ys(t,i,"child_removed",e,r,n),Ys(t,i,"child_added",e,r,n),Ys(t,i,"child_moved",s,r,n),Ys(t,i,"child_changed",e,r,n),Ys(t,i,"value",e,r,n),i}function Ys(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>BO(t,a,l)),o.forEach(a=>{const l=zO(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function zO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function BO(t,e,n){if(e.childName==null||n.childName==null)throw Is("Should only compare child_ events.");const r=new j(e.childName,e.snapshotNode),i=new j(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e){return{eventCache:t,serverCache:e}}function uo(t,e,n,r){return ju(new fi(e,n,r),t.serverCache)}function rS(t,e,n,r){return ju(t.eventCache,new fi(e,n,r))}function Oh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd;const jO=()=>(sd||(sd=new ht(NR)),sd);class ae{constructor(e,n=jO()){this.value=e,this.children=n}static fromObject(e){let n=new ae(null);return Ye(e,(r,i)=>{n=n.set(new re(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ee(),value:this.value};if(V(e))return null;{const r=Y(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(le(e),n);return s!=null?{path:Ce(new re(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(V(e))return this;{const n=Y(e),r=this.children.get(n);return r!==null?r.subtree(le(e)):new ae(null)}}set(e,n){if(V(e))return new ae(n,this.children);{const r=Y(e),s=(this.children.get(r)||new ae(null)).set(le(e),n),o=this.children.insert(r,s);return new ae(this.value,o)}}remove(e){if(V(e))return this.children.isEmpty()?new ae(null):new ae(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(le(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ae(null):new ae(this.value,s)}else return this}}get(e){if(V(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(le(e)):null}}setTree(e,n){if(V(e))return n;{const r=Y(e),s=(this.children.get(r)||new ae(null)).setTree(le(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ae(this.value,o)}}fold(e){return this.fold_(ee(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ce(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ee(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(V(e))return null;{const s=Y(e),o=this.children.get(s);return o?o.findOnPath_(le(e),Ce(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ee(),n)}foreachOnPath_(e,n,r){if(V(e))return this;{this.value&&r(n,this.value);const i=Y(e),s=this.children.get(i);return s?s.foreachOnPath_(le(e),Ce(n,i),r):new ae(null)}}foreach(e){this.foreach_(ee(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ce(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.writeTree_=e}static empty(){return new Xt(new ae(null))}}function co(t,e,n){if(V(e))return new Xt(new ae(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=dt(i,e);return s=s.updateChild(o,n),new Xt(t.writeTree_.set(i,s))}else{const i=new ae(n),s=t.writeTree_.setTree(e,i);return new Xt(s)}}}function Dh(t,e,n){let r=t;return Ye(n,(i,s)=>{r=co(r,Ce(e,i),s)}),r}function W_(t,e){if(V(e))return Xt.empty();{const n=t.writeTree_.setTree(e,new ae(null));return new Xt(n)}}function Ph(t,e){return Si(t,e)!=null}function Si(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dt(n.path,e)):null}function $_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{e.push(new j(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new j(r,i.value))}),e}function Ir(t,e){if(V(e))return t;{const n=Si(t,e);return n!=null?new Xt(new ae(n)):new Xt(t.writeTree_.subtree(e))}}function Mh(t){return t.writeTree_.isEmpty()}function ys(t,e){return iS(ee(),t.writeTree_,e)}function iS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=iS(Ce(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ce(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e){return lS(e,t)}function HO(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=co(t.visibleWrites,e,n)),t.lastWriteId=r}function YO(t,e,n,r){N(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Dh(t.visibleWrites,e,n),t.lastWriteId=r}function VO(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function GO(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&KO(a,r.path)?i=!1:Dt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return qO(t),!0;if(r.snap)t.visibleWrites=W_(t.visibleWrites,r.path);else{const a=r.children;Ye(a,l=>{t.visibleWrites=W_(t.visibleWrites,Ce(r.path,l))})}return!0}else return!1}function KO(t,e){if(t.snap)return Dt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Dt(Ce(t.path,n),e))return!0;return!1}function qO(t){t.visibleWrites=sS(t.allWrites,QO,ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function QO(t){return t.visible}function sS(t,e,n){let r=Xt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Dt(n,o)?(a=dt(n,o),r=co(r,a,s.snap)):Dt(o,n)&&(a=dt(o,n),r=co(r,ee(),s.snap.getChild(a)));else if(s.children){if(Dt(n,o))a=dt(n,o),r=Dh(r,a,s.children);else if(Dt(o,n))if(a=dt(o,n),V(a))r=Dh(r,ee(),s.children);else{const l=ps(s.children,Y(a));if(l){const u=l.getChild(le(a));r=co(r,ee(),u)}}}else throw Is("WriteRecord should have .snap or .children")}}return r}function oS(t,e,n,r,i){if(!r&&!i){const s=Si(t.visibleWrites,e);if(s!=null)return s;{const o=Ir(t.visibleWrites,e);if(Mh(o))return n;if(n==null&&!Ph(o,ee()))return null;{const a=n||L.EMPTY_NODE;return ys(o,a)}}}else{const s=Ir(t.visibleWrites,e);if(!i&&Mh(s))return n;if(!i&&n==null&&!Ph(s,ee()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Dt(u.path,e)||Dt(e,u.path))},a=sS(t.allWrites,o,e),l=n||L.EMPTY_NODE;return ys(a,l)}}}function XO(t,e,n){let r=L.EMPTY_NODE;const i=Si(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ir(t.visibleWrites,e);return n.forEachChild(ke,(o,a)=>{const l=ys(Ir(s,new re(o)),a);r=r.updateImmediateChild(o,l)}),$_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ir(t.visibleWrites,e);return $_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function JO(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ce(e,n);if(Ph(t.visibleWrites,s))return null;{const o=Ir(t.visibleWrites,s);return Mh(o)?i.getChild(n):ys(o,i.getChild(n))}}function ZO(t,e,n,r){const i=Ce(e,n),s=Si(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ir(t.visibleWrites,i);return ys(o,r.getNode().getImmediateChild(n))}else return null}function eD(t,e){return Si(t.visibleWrites,e)}function tD(t,e,n,r,i,s,o){let a;const l=Ir(t.visibleWrites,e),u=Si(l,ee());if(u!=null)a=u;else if(n!=null)a=ys(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let _=h.getNext();for(;_&&c.length<i;)d(_,r)!==0&&c.push(_),_=h.getNext();return c}else return[]}function nD(){return{visibleWrites:Xt.empty(),allWrites:[],lastWriteId:-1}}function eu(t,e,n,r){return oS(t.writeTree,t.treePath,e,n,r)}function Ap(t,e){return XO(t.writeTree,t.treePath,e)}function z_(t,e,n,r){return JO(t.writeTree,t.treePath,e,n,r)}function tu(t,e){return eD(t.writeTree,Ce(t.treePath,e))}function rD(t,e,n,r,i,s){return tD(t.writeTree,t.treePath,e,n,r,i,s)}function Lp(t,e,n){return ZO(t.writeTree,t.treePath,e,n)}function aS(t,e){return lS(Ce(t.treePath,e),t.writeTree)}function lS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,$o(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Wo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,_s(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,$o(r,e.snapshotNode,i.oldSnap));else throw Is("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const uS=new sD;class Fp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pi(this.viewCache_),s=rD(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){return{filter:t}}function aD(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lD(t,e,n,r,i){const s=new iD;let o,a;if(n.type===Vt.OVERWRITE){const u=n;u.source.fromUser?o=bh(t,e,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!V(u.path),o=nu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Vt.MERGE){const u=n;u.source.fromUser?o=cD(t,e,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Ah(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Vt.ACK_USER_WRITE){const u=n;u.revert?o=fD(t,e,u.path,r,i,s):o=dD(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Vt.LISTEN_COMPLETE)o=hD(t,e,n.path,r,s);else throw Is("Unknown operation type: "+n.type);const l=s.getChanges();return uD(e,o,l),{viewCache:o,changes:l}}function uD(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Oh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(tS(Oh(e)))}}function cS(t,e,n,r,i,s){const o=e.eventCache;if(tu(r,n)!=null)return e;{let a,l;if(V(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=pi(e),c=u instanceof L?u:L.EMPTY_NODE,d=Ap(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=eu(r,pi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Y(n);if(u===".priority"){N(Pr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=z_(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=le(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=z_(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Lp(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return uo(e,a,o.isFullyInitialized()||V(n),t.filter.filtersNodes())}}function nu(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(V(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const _=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),_,null)}else{const _=Y(n);if(!l.isCompleteForPath(n)&&Pr(n)>1)return e;const y=le(n),E=l.getNode().getImmediateChild(_).updateChild(y,r);_===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),_,E,y,uS,null)}const d=rS(e,u,l.isFullyInitialized()||V(n),c.filtersNodes()),h=new Fp(i,d,s);return cS(t,d,n,i,h,a)}function bh(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Fp(i,e,s);if(V(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=uo(e,u,!0,t.filter.filtersNodes());else{const d=Y(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=uo(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=le(n),_=a.getNode().getImmediateChild(d);let y;if(V(h))y=r;else{const w=c.getCompleteChild(d);w!=null?Tp(h)===".priority"&&w.getChild(Kw(h)).isEmpty()?y=w:y=w.updateChild(h,r):y=L.EMPTY_NODE}if(_.equals(y))l=e;else{const w=t.filter.updateChild(a.getNode(),d,y,h,c,o);l=uo(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function B_(t,e){return t.eventCache.isCompleteForChild(e)}function cD(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Ce(n,l);B_(e,Y(c))&&(a=bh(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Ce(n,l);B_(e,Y(c))||(a=bh(t,a,c,u,i,s,o))}),a}function j_(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ah(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;V(n)?u=r:u=new ae(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const _=e.serverCache.getNode().getImmediateChild(d),y=j_(t,_,h);l=nu(t,l,new re(d),y,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const _=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!_){const y=e.serverCache.getNode().getImmediateChild(d),w=j_(t,y,h);l=nu(t,l,new re(d),w,i,s,o,a)}}),l}function dD(t,e,n,r,i,s,o){if(tu(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(V(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return nu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(V(n)){let u=new ae(null);return l.getNode().forEachChild(es,(c,d)=>{u=u.set(new re(c),d)}),Ah(t,e,n,u,i,s,a,o)}else return e}else{let u=new ae(null);return r.foreach((c,d)=>{const h=Ce(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),Ah(t,e,n,u,i,s,a,o)}}function hD(t,e,n,r,i){const s=e.serverCache,o=rS(e,s.getNode(),s.isFullyInitialized()||V(n),s.isFiltered());return cS(t,o,n,r,uS,i)}function fD(t,e,n,r,i,s){let o;if(tu(r,n)!=null)return e;{const a=new Fp(r,e,i),l=e.eventCache.getNode();let u;if(V(n)||Y(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=eu(r,pi(e));else{const d=e.serverCache.getNode();N(d instanceof L,"serverChildren would be complete if leaf node"),c=Ap(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Y(n);let d=Lp(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,le(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,L.EMPTY_NODE,le(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=eu(r,pi(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||tu(r,ee())!=null,uo(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Rp(r.getIndex()),s=PO(r);this.processor_=oD(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(L.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(L.EMPTY_NODE,a.getNode(),null),c=new fi(l,o.isFullyInitialized(),i.filtersNodes()),d=new fi(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=ju(d,c),this.eventGenerator_=new WO(this.query_)}get query(){return this.query_}}function mD(t){return t.viewCache_.serverCache.getNode()}function gD(t,e){const n=pi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!V(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function H_(t){return t.eventRegistrations_.length===0}function _D(t,e){t.eventRegistrations_.push(e)}function Y_(t,e,n){const r=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function V_(t,e,n,r){e.type===Vt.MERGE&&e.source.queryId!==null&&(N(pi(t.viewCache_),"We should always have a full cache before handling merges"),N(Oh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=lD(t.processor_,i,e,n,r);return aD(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,dS(t,s.changes,s.viewCache.eventCache.getNode(),null)}function vD(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ke,(s,o)=>{r.push(_s(s,o))}),n.isFullyInitialized()&&r.push(tS(n.getNode())),dS(t,r,n.getNode(),e)}function dS(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return $O(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru;class yD{constructor(){this.views=new Map}}function wD(t){N(!ru,"__referenceConstructor has already been defined"),ru=t}function SD(){return N(ru,"Reference.ts has not been loaded"),ru}function ED(t){return t.views.size===0}function Up(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),V_(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(V_(o,e,n,r));return s}}function CD(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=eu(n,i?r:null),l=!1;a?l=!0:r instanceof L?(a=Ap(n,r),l=!1):(a=L.EMPTY_NODE,l=!1);const u=ju(new fi(a,l,!1),new fi(r,i,!1));return new pD(e,u)}return o}function kD(t,e,n,r,i,s){const o=CD(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),_D(o,n),vD(o,n)}function TD(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Mr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(Y_(u,n,r)),H_(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(Y_(l,n,r)),H_(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Mr(t)&&s.push(new(SD())(e._repo,e._path)),{removed:s,events:o}}function hS(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ts(t,e){let n=null;for(const r of t.views.values())n=n||gD(r,e);return n}function fS(t,e){if(e._queryParams.loadsAllData())return Hu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function pS(t,e){return fS(t,e)!=null}function Mr(t){return Hu(t)!=null}function Hu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu;function ID(t){N(!iu,"__referenceConstructor has already been defined"),iu=t}function ND(){return N(iu,"Reference.ts has not been loaded"),iu}let xD=1;class G_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ae(null),this.pendingWriteTree_=nD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function RD(t,e,n,r,i){return HO(t.pendingWriteTree_,e,n,r,i),i?Rs(t,new hi(Dp(),e,n)):[]}function OD(t,e,n,r){YO(t.pendingWriteTree_,e,n,r);const i=ae.fromObject(n);return Rs(t,new vs(Dp(),e,i))}function qr(t,e,n=!1){const r=VO(t.pendingWriteTree_,e);if(GO(t.pendingWriteTree_,e)){let s=new ae(null);return r.snap!=null?s=s.set(ee(),!0):Ye(r.children,o=>{s=s.set(new re(o),!0)}),Rs(t,new Zl(r.path,s,n))}else return[]}function Yu(t,e,n){return Rs(t,new hi(Pp(),e,n))}function DD(t,e,n){const r=ae.fromObject(n);return Rs(t,new vs(Pp(),e,r))}function PD(t,e){return Rs(t,new Bo(Pp(),e))}function MD(t,e,n){const r=Wp(t,n);if(r){const i=$p(r),s=i.path,o=i.queryId,a=dt(s,e),l=new Bo(Mp(o),a);return zp(t,s,l)}else return[]}function Lh(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||pS(o,e))){const l=TD(o,e,n,r);ED(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,_)=>Mr(_));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const _=LD(h);for(let y=0;y<_.length;++y){const w=_[y],E=w.query,m=vS(t,w);t.listenProvider_.startListening(ho(E),su(t,E),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(ho(e),null):u.forEach(h=>{const _=t.queryToTagMap.get(Vu(h));t.listenProvider_.stopListening(ho(h),_)}))}FD(t,u)}return a}function bD(t,e,n,r){const i=Wp(t,r);if(i!=null){const s=$p(i),o=s.path,a=s.queryId,l=dt(o,e),u=new hi(Mp(a),l,n);return zp(t,o,u)}else return[]}function AD(t,e,n,r){const i=Wp(t,r);if(i){const s=$p(i),o=s.path,a=s.queryId,l=dt(o,e),u=ae.fromObject(n),c=new vs(Mp(a),l,u);return zp(t,o,c)}else return[]}function K_(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,_)=>{const y=dt(h,i);s=s||ts(_,y),o=o||Mr(_)});let a=t.syncPointTree_.get(i);a?(o=o||Mr(a),s=s||ts(a,ee())):(a=new yD,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=L.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,y)=>{const w=ts(y,ee());w&&(s=s.updateImmediateChild(_,w))}));const u=pS(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=Vu(e);N(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const _=UD();t.queryToTagMap.set(h,_),t.tagToQueryMap.set(_,h)}const c=bp(t.pendingWriteTree_,i);let d=kD(a,e,n,c,s,l);if(!u&&!o&&!r){const h=fS(a,e);d=d.concat(WD(t,e,h))}return d}function mS(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=dt(o,e),u=ts(a,l);if(u)return u});return oS(i,e,s,n,!0)}function Rs(t,e){return gS(e,t.syncPointTree_,null,bp(t.pendingWriteTree_,ee()))}function gS(t,e,n,r){if(V(t.path))return _S(t,e,n,r);{const i=e.get(ee());n==null&&i!=null&&(n=ts(i,ee()));let s=[];const o=Y(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=aS(r,o);s=s.concat(gS(a,l,u,c))}return i&&(s=s.concat(Up(i,t,r,n))),s}}function _S(t,e,n,r){const i=e.get(ee());n==null&&i!=null&&(n=ts(i,ee()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=aS(r,o),c=t.operationForChild(o);c&&(s=s.concat(_S(c,a,l,u)))}),i&&(s=s.concat(Up(i,t,r,n))),s}function vS(t,e){const n=e.query,r=su(t,n);return{hashFn:()=>(mD(e)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?MD(t,n._path,r):PD(t,n._path);{const s=OR(i,n);return Lh(t,n,null,s)}}}}function su(t,e){const n=Vu(e);return t.queryToTagMap.get(n)}function Vu(t){return t._path.toString()+"$"+t._queryIdentifier}function Wp(t,e){return t.tagToQueryMap.get(e)}function $p(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new re(t.substr(0,e))}}function zp(t,e,n){const r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");const i=bp(t.pendingWriteTree_,e);return Up(r,n,i,null)}function LD(t){return t.fold((e,n,r)=>{if(n&&Mr(n))return[Hu(n)];{let i=[];return n&&(i=hS(n)),Ye(r,(s,o)=>{i=i.concat(o)}),i}})}function ho(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ND())(t._repo,t._path):t}function FD(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Vu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function UD(){return xD++}function WD(t,e,n){const r=e._path,i=su(t,e),s=vS(t,n),o=t.listenProvider_.startListening(ho(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)N(!Mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!V(u)&&c&&Mr(c))return[Hu(c).query];{let h=[];return c&&(h=h.concat(hS(c).map(_=>_.query))),Ye(d,(_,y)=>{h=h.concat(y)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(ho(c),su(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Bp(n)}node(){return this.node_}}class jp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ce(this.path_,e);return new jp(this.syncTree_,n)}node(){return mS(this.syncTree_,this.path_)}}const $D=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},q_=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zD(t[".sv"],e,n);if(typeof t[".sv"]=="object")return BD(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zD=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},BD=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},yS=function(t,e,n,r){return Hp(e,new jp(n,t),r)},jD=function(t,e,n){return Hp(t,new Bp(e),n)};function Hp(t,e,n){const r=t.getPriority().val(),i=q_(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=q_(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Me(a,Be(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Me(i))),o.forEachChild(ke,(a,l)=>{const u=Hp(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Vp(t,e){let n=e instanceof re?e:new re(e),r=t,i=Y(n);for(;i!==null;){const s=ps(r.node.children,i)||{children:{},childCount:0};r=new Yp(i,r,s),n=le(n),i=Y(n)}return r}function Os(t){return t.node.value}function wS(t,e){t.node.value=e,Fh(t)}function SS(t){return t.node.childCount>0}function HD(t){return Os(t)===void 0&&!SS(t)}function Gu(t,e){Ye(t.node.children,(n,r)=>{e(new Yp(n,t,r))})}function ES(t,e,n,r){n&&!r&&e(t),Gu(t,i=>{ES(i,e,!0,r)}),n&&r&&e(t)}function YD(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ua(t){return new re(t.parent===null?t.name:ua(t.parent)+"/"+t.name)}function Fh(t){t.parent!==null&&VD(t.parent,t.name,t)}function VD(t,e,n){const r=HD(n),i=pn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Fh(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Fh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/[\[\].#$\/\u0000-\u001F\u007F]/,KD=/[\[\].#$\u0000-\u001F\u007F]/,od=10*1024*1024,Gp=function(t){return typeof t=="string"&&t.length!==0&&!GD.test(t)},CS=function(t){return typeof t=="string"&&t.length!==0&&!KD.test(t)},qD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),CS(t)},QD=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!wp(t)||t&&typeof t=="object"&&pn(t,".sv")},Kp=function(t,e,n){const r=n instanceof re?new cO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Hr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Hr(r)+" with contents = "+e.toString());if(wp(e))throw new Error(t+"contains "+e.toString()+" "+Hr(r));if(typeof e=="string"&&e.length>od/3&&zu(e)>od)throw new Error(t+"contains a string greater than "+od+" utf8 bytes "+Hr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ye(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Gp(o)))throw new Error(t+" contains an invalid key ("+o+") "+Hr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dO(r,o),Kp(t,a,r),hO(r)}),i&&s)throw new Error(t+' contains ".value" child '+Hr(r)+" in addition to actual children.")}},XD=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Uo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Gp(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(uO);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Dt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},JD=function(t,e,n,r){if(r&&e===void 0)return;const i=gp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ye(e,(o,a)=>{const l=new re(o);if(Kp(i,a,Ce(n,l)),Tp(l)===".priority"&&!QD(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),XD(i,s)},kS=function(t,e,n,r){if(!(r&&n===void 0)&&!CS(n))throw new Error(gp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ZD=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kS(t,e,n,r)},eP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Gp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!qD(n))throw new Error(gp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qp(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Ip(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function TS(t,e,n){qp(t,n),IS(t,r=>Ip(r,e))}function zn(t,e,n){qp(t,n),IS(t,r=>Dt(r,e)||Dt(e,r))}function IS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(nP(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function nP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ti&&ze("event: "+n.toString()),xs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="repo_interrupt",iP=25;class sP{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jl(),this.transactionQueueTree_=new Yp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oP(t,e,n){if(t.stats_=Cp(t.repoInfo_),t.forceRestClient_||bR())t.server_=new Xl(t.repoInfo_,(r,i,s,o)=>{Q_(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>X_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Le(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Mn(t.repoInfo_,e,(r,i,s,o)=>{Q_(t,r,i,s,o)},r=>{X_(t,r)},r=>{lP(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=WR(t.repoInfo_,()=>new UO(t.stats_,t.server_)),t.infoData_=new MO,t.infoSyncTree_=new G_({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Yu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Xp(t,"connected",!1),t.serverSyncTree_=new G_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);zn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function aP(t){const n=t.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qp(t){return $D({timestamp:aP(t)})}function Q_(t,e,n,r,i){t.dataUpdateCount++;const s=new re(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Yl(n,u=>Be(u));o=AD(t.serverSyncTree_,s,l,i)}else{const l=Be(n);o=bD(t.serverSyncTree_,s,l,i)}else if(r){const l=Yl(n,u=>Be(u));o=DD(t.serverSyncTree_,s,l)}else{const l=Be(n);o=Yu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=jo(t,s)),zn(t.eventQueue_,a,o)}function X_(t,e){Xp(t,"connected",e),e===!1&&cP(t)}function lP(t,e){Ye(e,(n,r)=>{Xp(t,n,r)})}function Xp(t,e,n){const r=new re("/.info/"+e),i=Be(n);t.infoData_.updateSnapshot(r,i);const s=Yu(t.infoSyncTree_,r,i);zn(t.eventQueue_,r,s)}function NS(t){return t.nextWriteId_++}function uP(t,e,n,r){Jp(t,"update",{path:e.toString(),value:n});let i=!0;const s=Qp(t),o={};if(Ye(n,(a,l)=>{i=!1,o[a]=yS(Ce(e,a),Be(l),t.serverSyncTree_,s)}),i)ze("update() called with empty data.  Don't do anything."),Z_(t,r,"ok",void 0);else{const a=NS(t),l=OD(t.serverSyncTree_,e,o,a);qp(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const d=u==="ok";d||gt("update at "+e+" failed: "+u);const h=qr(t.serverSyncTree_,a,!d),_=h.length>0?jo(t,e):e;zn(t.eventQueue_,_,h),Z_(t,r,u,c)}),Ye(n,u=>{const c=PS(t,Ce(e,u));jo(t,c)}),zn(t.eventQueue_,e,[])}}function cP(t){Jp(t,"onDisconnectEvents");const e=Qp(t),n=Jl();Rh(t.onDisconnect_,ee(),(i,s)=>{const o=yS(i,s,t.serverSyncTree_,e);nS(n,i,o)});let r=[];Rh(n,ee(),(i,s)=>{r=r.concat(Yu(t.serverSyncTree_,i,s));const o=PS(t,i);jo(t,o)}),t.onDisconnect_=Jl(),zn(t.eventQueue_,ee(),r)}function dP(t,e,n){let r;Y(e._path)===".info"?r=K_(t.infoSyncTree_,e,n):r=K_(t.serverSyncTree_,e,n),TS(t.eventQueue_,e._path,r)}function J_(t,e,n){let r;Y(e._path)===".info"?r=Lh(t.infoSyncTree_,e,n):r=Lh(t.serverSyncTree_,e,n),TS(t.eventQueue_,e._path,r)}function hP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rP)}function Jp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ze(n,...e)}function Z_(t,e,n,r){e&&xs(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function xS(t,e,n){return mS(t.serverSyncTree_,e,n)||L.EMPTY_NODE}function Zp(t,e=t.transactionQueueTree_){if(e||Ku(t,e),Os(e)){const n=OS(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&fP(t,ua(e),n)}else SS(e)&&Gu(e,n=>{Zp(t,n)})}function fP(t,e,n){const r=n.map(u=>u.currentWriteId),i=xS(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];N(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=dt(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Jp(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(qr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Ku(t,Vp(t.transactionQueueTree_,e)),Zp(t,t.transactionQueueTree_),zn(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)xs(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{gt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}jo(t,e)}},o)}function jo(t,e){const n=RS(t,e),r=ua(n),i=OS(t,n);return pP(t,i,r),r}function pP(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=dt(n,l.path);let c=!1,d;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(qr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=iP)c=!0,d="maxretry",i=i.concat(qr(t.serverSyncTree_,l.currentWriteId,!0));else{const h=xS(t,l.path,o);l.currentInputSnapshot=h;const _=e[a].update(h.val());if(_!==void 0){Kp("transaction failed: Data returned ",_,l.path);let y=Be(_);typeof _=="object"&&_!=null&&pn(_,".priority")||(y=y.updatePriority(h.getPriority()));const E=l.currentWriteId,m=Qp(t),p=jD(y,h,m);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=p,l.currentWriteId=NS(t),o.splice(o.indexOf(E),1),i=i.concat(RD(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(qr(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(qr(t.serverSyncTree_,l.currentWriteId,!0))}zn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ku(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)xs(r[a]);Zp(t,t.transactionQueueTree_)}function RS(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);n!==null&&Os(r)===void 0;)r=Vp(r,n),e=le(e),n=Y(e);return r}function OS(t,e){const n=[];return DS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function DS(t,e,n){const r=Os(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Gu(e,i=>{DS(t,i,n)})}function Ku(t,e){const n=Os(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,wS(e,n.length>0?n:void 0)}Gu(e,r=>{Ku(t,r)})}function PS(t,e){const n=ua(RS(t,e)),r=Vp(t.transactionQueueTree_,e);return YD(r,i=>{ad(t,i)}),ad(t,r),ES(r,i=>{ad(t,i)}),n}function ad(t,e){const n=Os(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(qr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?wS(e,void 0):n.length=s+1,zn(t.eventQueue_,ua(e),i);for(let o=0;o<r.length;o++)xs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function gP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gt(`Invalid query segment '${n}' in query '${t}'`)}return e}const ev=function(t,e){const n=_P(t),r=n.namespace;n.domain==="firebase.com"&&$n(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&$n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||TR();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ww(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new re(n.pathString)}},_P=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=mP(t.substring(c,d)));const h=gP(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Le(this.snapshot.exportVal())}}class bS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:Tp(this._path)}get ref(){return new Gn(this._repo,this._path)}get _queryIdentifier(){const e=F_(this._queryParams),n=Sp(e);return n==="{}"?"default":n}get _queryObject(){return F_(this._queryParams)}isEqual(e){if(e=At(e),!(e instanceof em))return!1;const n=this._repo===e._repo,r=Ip(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+lO(this._path)}}class Gn extends em{constructor(e,n){super(e,n,new Op,!1)}get parent(){const e=Kw(this._path);return e===null?null:new Gn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ho{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new re(e),r=ou(this.ref,e);return new Ho(this._node.getChild(n),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ho(i,ou(this.ref,r),ke)))}hasChild(e){const n=new re(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function AS(t,e){return t=At(t),t._checkNotDeleted("ref"),e!==void 0?ou(t._root,e):t._root}function ou(t,e){return t=At(t),Y(t._path)===null?ZD("child","path",e,!1):kS("child","path",e,!1),new Gn(t._repo,Ce(t._path,e))}function yP(t,e){JD("update",e,t._path,!1);const n=new $u;return uP(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class tm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new MS("value",this,new Ho(e.snapshotNode,new Gn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bS(this,e,n):null}matches(e){return e instanceof tm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class nm{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bS(this,e,n):null}createEvent(e,n){N(e.childName!=null,"Child events should have a childName.");const r=ou(new Gn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new MS(e.type,this,new Ho(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof nm?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function wP(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{J_(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new vP(n,s||void 0),a=e==="value"?new tm(o):new nm(e,o);return dP(t._repo,t,a),()=>J_(t._repo,t,a)}function SP(t,e,n,r){return wP(t,"value",e,n,r)}wD(Gn);ID(Gn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="FIREBASE_DATABASE_EMULATOR_HOST",Uh={};let CP=!1;function kP(t,e,n,r){t.repoInfo_=new Ww(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function TP(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||$n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ze("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=ev(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[EP]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=ev(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Zi(Zi.OWNER):new LR(t.name,t.options,e);eP("Invalid Firebase Database URL",o),V(o.path)||$n("Database URL must point to the root of a Firebase Database (not including a child path).");const d=NP(a,t,c,new AR(t.name,n));return new xP(d,t)}function IP(t,e){const n=Uh[e];(!n||n[t.key]!==t)&&$n(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hP(t),delete n[t.key]}function NP(t,e,n,r){let i=Uh[e.name];i||(i={},Uh[e.name]=i);let s=i[t.toURLString()];return s&&$n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sP(t,CP,n,r),i[t.toURLString()]=s,s}class xP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gn(this._repo,ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&$n("Cannot call "+e+" on a deleted database.")}}function RP(t=Ew(),e){const n=yp(t,"database").getImmediate({identifier:e}),r=nx("database");return r&&OP(n,...r),n}function OP(t,e,n,r={}){t=At(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&$n("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&$n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Zi(Zi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:ix(r.mockUserToken,t.app.options.projectId);s=new Zi(o)}kP(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){wR(sa),ms(new ui("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return TP(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Tr(w_,S_,t),Tr(w_,S_,"esm2017")}Mn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Mn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};DP();function rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function LS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PP=LS,FS=new ia("auth","Firebase",LS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new _p("@firebase/auth");function sl(t,...e){tv.logLevel<=se.ERROR&&tv.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw im(t,...e)}function cn(t,...e){return im(t,...e)}function US(t,e,n){const r=Object.assign(Object.assign({},PP()),{[e]:n});return new ia("auth","Firebase",r).create(e,{appName:t.name})}function MP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hn(t,"argument-error"),US(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function im(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FS.create(t,...e)}function W(t,e,...n){if(!t)throw im(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sl(e),new Error(e)}function Bn(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;function xn(t){Bn(t instanceof Function,"Expected a class definition");let e=nv.get(t);return e?(Bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nv.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e){const n=yp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vl(s,e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}function AP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LP(){return rv()==="http:"||rv()==="https:"}function rv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LP()||KN()||"connection"in navigator)?navigator.onLine:!0}function UP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bn(n>e,"Short delay should be less than long delay!"),this.isMobile=pp()||pw()}get(){return FP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e){Bn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new ca(3e4,6e4);function zP(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qu(t,e,n,r,i={}){return $S(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ns(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),WS.fetch()(zS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function $S(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WP),e);try{const i=new jP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ba(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ba(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ba(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ba(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw US(t,c,u);hn(t,c)}}catch(i){if(i instanceof Fr)throw i;hn(t,"network-request-failed")}}async function BP(t,e,n,r,i={}){const s=await qu(t,e,n,r,i);return"mfaPendingCredential"in s&&hn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?sm(t.config,i):`${t.config.apiScheme}://${i}`}class jP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cn(this.auth,"network-request-failed")),$P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ba(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e){return qu(t,"POST","/v1/accounts:delete",e)}async function YP(t,e){return qu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VP(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=om(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fo(ld(i.auth_time)),issuedAtTime:fo(ld(i.iat)),expirationTime:fo(ld(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ld(t){return Number(t)*1e3}function om(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sl("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hl(n);return i?JSON.parse(i):(sl("Failed to decode base64 JWT payload"),null)}catch(i){return sl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GP(t){const e=om(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fr&&KP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fo(this.lastLoginAt),this.creationTime=fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yo(t,YP(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JP(s.providerUserInfo):[],a=XP(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new BS(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function QP(t){const e=At(t);await au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JP(t){return t.map(e=>{var{providerId:n}=e,r=rm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e){const n=await $S(t,{},async()=>{const r=Ns({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vo;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new BS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Yo(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VP(this,e)}reload(){return QP(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await au(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Yo(this,HP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:S,isAnonymous:x,providerData:I,stsTokenManager:C}=n;W(v&&C,e,"internal-error");const R=Vo.fromJSON(this.name,C);W(typeof v=="string",e,"internal-error"),tr(d,e.name),tr(h,e.name),W(typeof S=="boolean",e,"internal-error"),W(typeof x=="boolean",e,"internal-error"),tr(_,e.name),tr(y,e.name),tr(w,e.name),tr(E,e.name),tr(m,e.name),tr(p,e.name);const B=new ni({uid:v,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:x,photoURL:y,phoneNumber:_,tenantId:w,stsTokenManager:R,createdAt:m,lastLoginAt:p});return I&&Array.isArray(I)&&(B.providerData=I.map($=>Object.assign({},$))),E&&(B._redirectEventId=E),B}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vo;i.updateFromServerResponse(n);const s=new ni({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await au(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jS.type="NONE";const iv=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t,e,n){return`firebase:${t}:${e}:${n}`}class ns{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ol(this.userKey,i.apiKey,s),this.fullPersistenceKey=ol("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ns(xn(iv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||xn(iv);const o=ol(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ni._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ns(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ns(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KS(e))return"Blackberry";if(qS(e))return"Webos";if(am(e))return"Safari";if((e.includes("chrome/")||YS(e))&&!e.includes("edge/"))return"Chrome";if(GS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HS(t=Je()){return/firefox\//i.test(t)}function am(t=Je()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YS(t=Je()){return/crios\//i.test(t)}function VS(t=Je()){return/iemobile/i.test(t)}function GS(t=Je()){return/android/i.test(t)}function KS(t=Je()){return/blackberry/i.test(t)}function qS(t=Je()){return/webos/i.test(t)}function Qu(t=Je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eM(t=Je()){var e;return Qu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tM(){return qN()&&document.documentMode===10}function QS(t=Je()){return Qu(t)||GS(t)||qS(t)||KS(t)||/windows phone/i.test(t)||VS(t)}function nM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e=[]){let n;switch(t){case"Browser":n=sv(Je());break;case"Worker":n=`${sv(Je())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new rM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ns.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await au(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?At(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ia("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await ns.create(this,[xn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return W(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Xu(t){return At(t)}class ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=dx(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sM(t,e,n){const r=Xu(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=JS(e),{host:o,port:a}=oM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||aM()}function JS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oM(t){const e=JS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:av(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:av(o)}}}function av(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(t,e){return BP(t,"POST","/v1/accounts:signInWithIdp",zP(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="http://localhost";class mi extends ZS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=rm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new mi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rs(e,n)}buildRequest(){const e={requestUri:lM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ns(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends lm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends da{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn extends da{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mi._fromParams({providerId:Cn.PROVIDER_ID,signInMethod:Cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cn.credentialFromTaggedObject(e)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cn.credential(n,r)}catch{return null}}}Cn.GOOGLE_SIGN_IN_METHOD="google.com";Cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends da{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends da{constructor(){super("twitter.com")}static credential(e,n){return mi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ni._fromIdTokenResponse(e,r,i),o=lv(r);return new ws({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lv(r);return new ws({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Fr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lu(e,n,r,i)}}function eE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lu._fromErrorAndOperation(t,s,e,r):s})}async function uM(t,e,n=!1){const r=await Yo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Yo(t,eE(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=om(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),ws._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e,n=!1){const r="signIn",i=await eE(t,r,e),s=await ws._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function hM(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function fM(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function pM(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function mM(t){return At(t).signOut()}const uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){const t=Je();return am(t)||Qu(t)}const _M=1e3,vM=10;class nE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gM()&&nM(),this.fallbackToPolling=QS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);tM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nE.type="LOCAL";const yM=nE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rE.type="SESSION";const iE=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ju(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await wM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ju.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=um("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return window}function EM(t){dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}async function CM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TM(){return sE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="firebaseLocalStorageDb",IM=1,cu="firebaseLocalStorage",aE="fbase_key";class ha{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zu(t,e){return t.transaction([cu],e?"readwrite":"readonly").objectStore(cu)}function NM(){const t=indexedDB.deleteDatabase(oE);return new ha(t).toPromise()}function $h(){const t=indexedDB.open(oE,IM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cu,{keyPath:aE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cu)?e(r):(r.close(),await NM(),e(await $h()))})})}async function uv(t,e,n){const r=Zu(t,!0).put({[aE]:e,value:n});return new ha(r).toPromise()}async function xM(t,e){const n=Zu(t,!1).get(e),r=await new ha(n).toPromise();return r===void 0?null:r.value}function cv(t,e){const n=Zu(t,!0).delete(e);return new ha(n).toPromise()}const RM=800,OM=3;class lE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $h(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ju._getInstance(TM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CM(),!this.activeServiceWorker)return;this.sender=new SM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $h();return await uv(e,uu,"1"),await cv(e,uu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zu(i,!1).getAll();return new ha(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lE.type="LOCAL";const DM=lE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function MM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",PM().appendChild(r)})}function bM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ca(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){return e?xn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends ZS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AM(t){return dM(t.auth,new cm(t),t.bypassAuthState)}function LM(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),cM(n,new cm(t),t.bypassAuthState)}async function FM(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),uM(n,new cm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AM;case"linkViaPopup":case"linkViaRedirect":return FM;case"reauthViaPopup":case"reauthViaRedirect":return LM;default:hn(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new ca(2e3,1e4);async function WM(t,e,n){const r=Xu(t);MP(t,e,lm);const i=uE(r,n);return new Qr(r,"signInViaPopup",e,i).executeNotNull()}class Qr extends cE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qr.currentPopupAction&&Qr.currentPopupAction.cancel(),Qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,UM.get())};e()}}Qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="pendingRedirect",al=new Map;class zM extends cE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=al.get(this.auth._key());if(!e){try{const r=await BM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}al.set(this.auth._key(),e)}return this.bypassAuthState||al.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BM(t,e){const n=YM(e),r=HM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jM(t,e){al.set(t._key(),e)}function HM(t){return xn(t._redirectPersistence)}function YM(t){return ol($M,t.config.apiKey,t.name)}async function VM(t,e,n=!1){const r=Xu(t),i=uE(r,e),o=await new zM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=10*60*1e3;class KM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GM&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(e))}saveEventToCache(e){this.cachedEventUids.add(dv(e)),this.lastProcessedEventTime=Date.now()}}function dv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e={}){return qu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JM=/^https?/;async function ZM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QM(t);for(const n of e)try{if(eb(n))return}catch{}hn(t,"unauthorized-domain")}function eb(t){const e=Wh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JM.test(n))return!1;if(XM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new ca(3e4,6e4);function hv(){const t=dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nb(t){return new Promise((e,n)=>{var r,i,s;function o(){hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hv(),n(cn(t,"network-request-failed"))},timeout:tb.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dn().gapi)===null||s===void 0)&&s.load)o();else{const a=bM("iframefcb");return dn()[a]=()=>{gapi.load?o():n(cn(t,"network-request-failed"))},MM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ll=null,e})}let ll=null;function rb(t){return ll=ll||nb(t),ll}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new ca(5e3,15e3),sb="__/auth/iframe",ob="emulator/auth/iframe",ab={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ub(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sm(e,ob):`https://${t.config.authDomain}/${sb}`,r={apiKey:e.apiKey,appName:t.name,v:sa},i=lb.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ns(r).slice(1)}`}async function cb(t){const e=await rb(t),n=dn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:ub(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ab,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cn(t,"network-request-failed"),a=dn().setTimeout(()=>{s(o)},ib.get());function l(){dn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hb=500,fb=600,pb="_blank",mb="http://localhost";class fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gb(t,e,n,r=hb,i=fb){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},db),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Je().toLowerCase();n&&(a=YS(u)?pb:n),HS(u)&&(e=e||mb,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[_,y])=>`${h}${_}=${y},`,"");if(eM(u)&&a!=="_self")return _b(e||"",a),new fv(null);const d=window.open(e||"",a,c);W(d,t,"popup-blocked");try{d.focus()}catch{}return new fv(d)}function _b(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="__/auth/handler",yb="emulator/auth/handler";function pv(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sa,eventId:i};if(e instanceof lm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof da){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${wb(t)}?${Ns(a).slice(1)}`}function wb({config:t}){return t.emulator?sm(t,yb):`https://${t.authDomain}/${vb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="webStorageSupport";class Sb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iE,this._completeRedirectFn=VM,this._overrideRedirectResult=jM}async _openPopup(e,n,r,i){var s;Bn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=pv(e,n,r,Wh(),i);return gb(e,o,um())}async _openRedirect(e,n,r,i){return await this._originValidation(e),EM(pv(e,n,r,Wh(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Bn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cb(e),r=new KM(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ud,{type:ud},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ud];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QS()||am()||Qu()}}const Eb=Sb;var mv="@firebase/auth",gv="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Tb(t){ms(new ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{W(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),W(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(t)},c=new iM(a,l,u);return AP(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ms(new ui("auth-internal",e=>{const n=Xu(e.getProvider("auth").getImmediate());return(r=>new Cb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(mv,gv,kb(t)),Tr(mv,gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=5*60,Nb=_w("authIdTokenMaxAge")||Ib;let _v=null;const xb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nb)return;const i=n==null?void 0:n.token;_v!==i&&(_v=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ec(t=Ew()){const e=yp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bP(t,{popupRedirectResolver:Eb,persistence:[DM,yM,iE]}),r=_w("authTokenSyncURL");if(r){const s=xb(r);fM(n,s,()=>s(n.currentUser)),hM(n,o=>s(o))}const i=gw("auth");return i&&sM(n,`http://${i}`),n}Tb("Browser");var Rb="firebase",Ob="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(Rb,Ob,"app");const Db={apiKey:"AIzaSyDRFfpng2wZDM0BDqqKY2S94O8GEcK6sdM",authDomain:"nushare-2b5ce.firebaseapp.com",databaseURL:"https://nushare-2b5ce-default-rtdb.firebaseio.com",projectId:"nushare-2b5ce",storageBucket:"nushare-2b5ce.appspot.com",messagingSenderId:"1042725371418",appId:"1:1042725371418:web:d170d6f2a611dde5ad9ba3"},fa=Sw(Db);ec(fa);const hE=RP(fa),Nr=t=>{const[e,n]=g.useState(),[r,i]=g.useState(null);return g.useEffect(()=>SP(AS(hE,t),s=>{n(s.val())},s=>{i(s)}),[t]),[e,r]},vv=t=>{const e=Date.now(),n=(t==null?void 0:t.message)||`Updated: ${new Date(e).toLocaleString()}`;return{timestamp:e,error:t,message:n}},pa=t=>{const[e,n]=g.useState();return[g.useCallback(i=>{yP(AS(hE,t),i).then(()=>n(vv())).catch(s=>n(vv(s)))},[t]),e]},Pb=()=>{const[t,e]=g.useState();return g.useEffect(()=>pM(ec(fa),e),[]),[t]},Mb=()=>{WM(ec(fa),new Cn)},bb=()=>mM(ec(fa)),Ei=()=>{const[t]=Pb(),[e,n]=pa("/users/"),[r,i,s]=Nr("/users/");return g.useEffect(()=>{t&&!i&&!s&&e({[t.uid]:{displayName:t.displayName,email:t.email,profilePic:t.photoURL}})},[i,s,t,e]),[t,i,s]},Ab=()=>f("button",{className:"ml-5 p-2 w-10 btn btn-primary sign-button",onClick:bb,children:"Sign out"}),ja=()=>{const[t]=Ei(),e=vi();return f(uw,{className:"mb-3 p-0 w-100 m-0",children:f(qc,{className:"p-3 navbar",children:A(qf,{className:"navbar-container",children:[f("div",{className:"navbar-brand",onClick:()=>e("/"),children:"NUShare"}),f(qc.Toggle,{"aria-controls":"basic-navbar-nav"}),t&&f(qc.Collapse,{id:"basic-navbar-nav",children:f(zI,{className:"me-auto",children:f("div",{className:"create-ride-title",onClick:()=>e("/create-ride"),children:"Create Ride"})})}),t?A("div",{className:"display-name",children:["Welcome ",f("b",{className:"display-name-subheader",children:t.displayName})]}):f("div",{}),t&&f(Ab,{})]})})})};var fE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yv=Fe.createContext&&Fe.createContext(fE),xr=globalThis&&globalThis.__assign||function(){return xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xr.apply(this,arguments)},Lb=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pE(t){return t&&t.map(function(e,n){return Fe.createElement(e.tag,xr({key:n},e.attr),pE(e.child))})}function Kn(t){return function(e){return Fe.createElement(Fb,xr({attr:xr({},t.attr)},e),pE(t.child))}}function Fb(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Lb(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Fe.createElement("svg",xr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:xr(xr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Fe.createElement("title",null,s),t.children)};return yv!==void 0?Fe.createElement(yv.Consumer,null,function(n){return e(n)}):e(fE)}function dm(t){return Kn({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"none",stroke:"#F44336",strokeWidth:"4",strokeMiterlimit:"10",d:"M7,20v-8c0-2.2,1.8-4,4-4h14c1.2,0,2.4,0.6,3.2,1.6 L35,18"}},{tag:"g",attr:{fill:"#37474F"},child:[{tag:"circle",attr:{cx:"35",cy:"37",r:"5"}},{tag:"circle",attr:{cx:"13",cy:"37",r:"5"}}]},{tag:"path",attr:{fill:"#F44336",d:"M40.2,17L33,14H7c-1.2,0-2,0.8-2,2v10c0,1.2,0.8,2,2,2h1c0-2.8,2.2-5,5-5s5,2.2,5,5h12c0-2.8,2.2-5,5-5 s5,2.2,5,5h1c1.2,0,2-0.8,2-2v-5.2C43,19.2,41.8,17.6,40.2,17z"}},{tag:"g",attr:{fill:"#546E7A"},child:[{tag:"circle",attr:{cx:"24",cy:"37",r:"3"}},{tag:"circle",attr:{cx:"35",cy:"37",r:"2"}},{tag:"circle",attr:{cx:"13",cy:"37",r:"2"}},{tag:"path",attr:{d:"M30.4,39c-0.3-0.6-0.4-1.3-0.4-2s0.2-1.4,0.4-2H17.6c0.3,0.6,0.4,1.3,0.4,2s-0.2,1.4-0.4,2H30.4z"}}]}]})(t)}function Ub(t){return Kn({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#D50000",d:"M24,6C14.1,6,6,14.1,6,24s8.1,18,18,18s18-8.1,18-18S33.9,6,24,6z M24,10c3.1,0,6,1.1,8.4,2.8L12.8,32.4 C11.1,30,10,27.1,10,24C10,16.3,16.3,10,24,10z M24,38c-3.1,0-6-1.1-8.4-2.8l19.6-19.6C36.9,18,38,20.9,38,24C38,31.7,31.7,38,24,38 z"}}]})(t)}function mE(t){return Kn({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"circle",attr:{fill:"#00ACC1",cx:"24",cy:"24",r:"20"}},{tag:"circle",attr:{fill:"#eee",cx:"24",cy:"24",r:"16"}},{tag:"rect",attr:{x:"23",y:"11",width:"2",height:"13"}},{tag:"rect",attr:{x:"26.1",y:"22.7",transform:"matrix(-.707 .707 -.707 -.707 65.787 27.25)",width:"2.3",height:"9.2"}},{tag:"circle",attr:{cx:"24",cy:"24",r:"2"}},{tag:"circle",attr:{fill:"#00ACC1",cx:"24",cy:"24",r:"1"}}]})(t)}function gE(t){return Kn({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#CFD8DC",d:"M5,38V14h38v24c0,2.2-1.8,4-4,4H9C6.8,42,5,40.2,5,38z"}},{tag:"path",attr:{fill:"#F44336",d:"M43,10v6H5v-6c0-2.2,1.8-4,4-4h30C41.2,6,43,7.8,43,10z"}},{tag:"g",attr:{fill:"#B71C1C"},child:[{tag:"circle",attr:{cx:"33",cy:"10",r:"3"}},{tag:"circle",attr:{cx:"15",cy:"10",r:"3"}}]},{tag:"g",attr:{fill:"#B0BEC5"},child:[{tag:"path",attr:{d:"M33,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C35,3.9,34.1,3,33,3z"}},{tag:"path",attr:{d:"M15,3c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2s2-0.9,2-2V5C17,3.9,16.1,3,15,3z"}}]},{tag:"g",attr:{fill:"#B0BEC5"},child:[{tag:"rect",attr:{x:"13",y:"21",width:"6",height:"6"}},{tag:"rect",attr:{x:"21",y:"21",width:"6",height:"6"}},{tag:"rect",attr:{x:"29",y:"21",width:"6",height:"6"}},{tag:"rect",attr:{x:"13",y:"29",width:"6",height:"6"}},{tag:"rect",attr:{x:"21",y:"29",width:"6",height:"6"}}]},{tag:"rect",attr:{x:"29",y:"29",fill:"#F44336",width:"6",height:"6"}}]})(t)}function Wb(t){return Kn({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"circle",attr:{fill:"#4CAF50",cx:"24",cy:"24",r:"21"}},{tag:"g",attr:{fill:"#fff"},child:[{tag:"rect",attr:{x:"21",y:"14",width:"6",height:"20"}},{tag:"rect",attr:{x:"14",y:"21",width:"20",height:"6"}}]}]})(t)}function $b(t){return Kn({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"g",attr:{fill:"#3F51B5"},child:[{tag:"polygon",attr:{points:"44,24 30,35.7 30,12.3"}},{tag:"rect",attr:{x:"6",y:"20",width:"27",height:"8"}}]}]})(t)}function zb(t){return Kn({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#009688",d:"M37,39H11l-6,6V11c0-3.3,2.7-6,6-6h26c3.3,0,6,2.7,6,6v22C43,36.3,40.3,39,37,39z"}},{tag:"g",attr:{fill:"#fff"},child:[{tag:"circle",attr:{cx:"24",cy:"22",r:"3"}},{tag:"circle",attr:{cx:"34",cy:"22",r:"3"}},{tag:"circle",attr:{cx:"14",cy:"22",r:"3"}}]}]})(t)}function Bb(t){return Kn({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"rect",attr:{x:"7",y:"4",fill:"#BBDEFB",width:"34",height:"40"}},{tag:"g",attr:{fill:"#2196F3"},child:[{tag:"rect",attr:{x:"13",y:"26",width:"4",height:"4"}},{tag:"rect",attr:{x:"13",y:"18",width:"4",height:"4"}},{tag:"rect",attr:{x:"13",y:"34",width:"4",height:"4"}},{tag:"rect",attr:{x:"13",y:"10",width:"4",height:"4"}},{tag:"rect",attr:{x:"21",y:"26",width:"14",height:"4"}},{tag:"rect",attr:{x:"21",y:"18",width:"14",height:"4"}},{tag:"rect",attr:{x:"21",y:"34",width:"14",height:"4"}},{tag:"rect",attr:{x:"21",y:"10",width:"14",height:"4"}}]}]})(t)}const jb=()=>{const[t]=Ei(),e=vi();return g.useEffect(()=>{t&&e("/")},[t,e]),A("div",{className:"login-container",children:[f("div",{className:"login-image-container",children:f("div",{children:f("img",{src:"logo.png",alt:"logo"})})}),f("div",{className:"login-info-container",children:A("div",{children:[A("h1",{className:"login-title","data-cy":"login-title",children:["Welcome to NUShare ",f(dm,{size:42})]}),f("p",{className:"login-info",children:"NUShare allows students to coordinate rides from/to the airport for moving in and out of campus. Students can fill in their intended time of ride, and NUShare will let you group with other students who need a ride at similar times."}),f("p",{className:"login-info",children:f("span",{children:"Find your ride partner with NUShare, Sign In now!"})}),f(()=>f("button",{className:"ml-5 p-2 w-75 btn btn-light login-button",onClick:Mb,children:"SIGN IN"}),{})]})})]})};let Ha;const Hb=new Uint8Array(16);function Yb(){if(!Ha&&(Ha=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ha))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ha(Hb)}const We=[];for(let t=0;t<256;++t)We.push((t+256).toString(16).slice(1));function Vb(t,e=0){return(We[t[e+0]]+We[t[e+1]]+We[t[e+2]]+We[t[e+3]]+"-"+We[t[e+4]]+We[t[e+5]]+"-"+We[t[e+6]]+We[t[e+7]]+"-"+We[t[e+8]]+We[t[e+9]]+"-"+We[t[e+10]]+We[t[e+11]]+We[t[e+12]]+We[t[e+13]]+We[t[e+14]]+We[t[e+15]]).toLowerCase()}const Gb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wv={randomUUID:Gb};function Kb(t,e,n){if(wv.randomUUID&&!e&&!t)return wv.randomUUID();t=t||{};const r=t.random||(t.rng||Yb)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Vb(r)}const _E=Wu("h4");_E.displayName="DivStyledAsH4";const qb=at("alert-heading",{Component:_E}),Qb=at("alert-link",{Component:tp}),Xb={variant:"primary",show:!0,transition:na,closeLabel:"Close alert"},hm=g.forwardRef((t,e)=>{const{bsPrefix:n,show:r,closeLabel:i,closeVariant:s,className:o,children:a,variant:l,onClose:u,dismissible:c,transition:d,...h}=Qf(t,{show:"onClose"}),_=ne(n,"alert"),y=Ht(m=>{u&&u(!1,m)}),w=d===!0?na:d,E=A("div",{role:"alert",...w?void 0:h,ref:e,className:K(o,_,l&&`${_}-${l}`,c&&`${_}-dismissible`),children:[c&&f(ra,{onClick:y,"aria-label":i,variant:s}),a]});return w?f(w,{unmountOnExit:!0,...h,ref:void 0,in:r,children:E}):r?E:null});hm.displayName="Alert";hm.defaultProps=Xb;const vE=Object.assign(hm,{Link:Qb,Heading:qb}),Jb={variant:"primary",active:!1,disabled:!1},bn=g.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},a)=>{const l=ne(e,"btn"),[u,{tagName:c}]=Zf({tagName:t,...o});return f(c,{...u,...o,ref:a,className:K(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});bn.displayName="Button";bn.defaultProps=Jb;const Zb={type:Qt.string,tooltip:Qt.bool,as:Qt.elementType},tc=g.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>f(t,{...i,ref:s,className:K(e,`${n}-${r?"tooltip":"feedback"}`)}));tc.displayName="Feedback";tc.propTypes=Zb;const jn=g.createContext({}),ma=g.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=g.useContext(jn);return e=ne(e,"form-check-input"),f(o,{...a,ref:l,type:r,id:t||u,className:K(n,e,i&&"is-valid",s&&"is-invalid")})});ma.displayName="FormCheckInput";const du=g.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=g.useContext(jn);return t=ne(t,"form-check-label"),f("label",{...r,ref:i,htmlFor:n||s,className:K(e,t)})});du.displayName="FormCheckLabel";function eA(t,e){return g.Children.toArray(t).some(n=>g.isValidElement(n)&&n.type===e)}const yE=g.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:d,style:h,title:_="",type:y="checkbox",label:w,children:E,as:m="input",...p},v)=>{e=ne(e,"form-check"),n=ne(n,"form-switch");const{controlId:S}=g.useContext(jn),x=g.useMemo(()=>({controlId:t||S}),[S,t]),I=!E&&w!=null&&w!==!1||eA(E,du),C=f(ma,{...p,type:y==="switch"?"checkbox":y,ref:v,isValid:o,isInvalid:a,disabled:s,as:m});return f(jn.Provider,{value:x,children:f("div",{style:h,className:K(d,I&&e,r&&`${e}-inline`,i&&`${e}-reverse`,y==="switch"&&n),children:E||A(Rt,{children:[C,I&&f(du,{title:_,children:w}),u&&f(tc,{type:c,tooltip:l,children:u})]})})})});yE.displayName="FormCheck";const hu=Object.assign(yE,{Input:ma,Label:du}),wE=g.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...d},h)=>{const{controlId:_}=g.useContext(jn);t=ne(t,"form-control");let y;return l?y={[`${t}-plaintext`]:!0}:y={[t]:!0,[`${t}-${n}`]:n},f(c,{...d,type:e,size:r,ref:h,readOnly:u,id:i||_,className:K(s,y,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});wE.displayName="FormControl";const tA=Object.assign(wE,{Feedback:tc}),nA=at("form-floating"),fm=g.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=g.useMemo(()=>({controlId:t}),[t]);return f(jn.Provider,{value:i,children:f(e,{...n,ref:r})})});fm.displayName="FormGroup";function rA({as:t,bsPrefix:e,className:n,...r}){e=ne(e,"col");const i=W0(),s=$0(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,d,h;typeof u=="object"&&u!=null?{span:c,offset:d,order:h}=u:c=u;const _=l!==s?`-${l}`:"";c&&o.push(c===!0?`${e}${_}`:`${e}${_}-${c}`),h!=null&&a.push(`order${_}-${h}`),d!=null&&a.push(`offset${_}-${d}`)}),[{...r,className:K(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const SE=g.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=rA(t);return f(i,{...r,ref:e,className:K(n,!o.length&&s)})});SE.displayName="Col";const iA={column:!1,visuallyHidden:!1},pm=g.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=g.useContext(jn);e=ne(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=K(i,e,r&&"visually-hidden",n&&u);return s=s||l,n?f(SE,{ref:a,as:"label",className:c,htmlFor:s,...o}):f(t,{ref:a,className:c,htmlFor:s,...o})});pm.displayName="FormLabel";pm.defaultProps=iA;const EE=g.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=g.useContext(jn);return t=ne(t,"form-range"),f("input",{...r,type:"range",ref:i,className:K(e,t),id:n||s})});EE.displayName="FormRange";const CE=g.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=g.useContext(jn);return t=ne(t,"form-select"),f("select",{...a,size:n,ref:l,className:K(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});CE.displayName="FormSelect";const kE=g.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ne(t,"form-text"),f(n,{...i,ref:s,className:K(e,t,r&&"text-muted")})));kE.displayName="FormText";const TE=g.forwardRef((t,e)=>f(hu,{...t,ref:e,type:"switch"}));TE.displayName="Switch";const sA=Object.assign(TE,{Input:hu.Input,Label:hu.Label}),IE=g.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ne(t,"form-floating"),A(fm,{ref:o,className:K(e,t),controlId:r,...s,children:[n,f("label",{htmlFor:r,children:i})]})));IE.displayName="FloatingLabel";const oA={_ref:Qt.any,validated:Qt.bool,as:Qt.elementType},mm=g.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>f(n,{...r,ref:i,className:K(t,e&&"was-validated")}));mm.displayName="Form";mm.propTypes=oA;const Q=Object.assign(mm,{Group:fm,Control:tA,Floating:nA,Check:hu,Switch:sA,Label:pm,Text:kE,Range:EE,Select:CE,FloatingLabel:IE}),fu=()=>{const t=new Date,e=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()+1<10?"0"+t.getMonth()+1:t.getMonth()+1;return t.getFullYear()+"-"+n+"-"+e},aA=()=>{const t=vi(),[e]=Ei(),[n]=pa("/"),[r]=Nr("/airports"),[i]=Nr("/campus"),[s]=Nr("/seats"),[o,a]=g.useState("to"),[l,u]=g.useState(""),[c,d]=g.useState(""),[h,_]=g.useState(""),[y,w]=g.useState(""),[E,m]=g.useState(0),[p,v]=g.useState("");if(g.useEffect(()=>{r&&i&&(u("North Campus"),d("Chicago O'Hare International Airport (ORD)"))},[r,i]),!e)return f("h4",{className:"text-muted",children:"Loading user profile..."});if(!r)return f("h4",{className:"text-muted",children:"Loading airports addresses..."});if(!i)return f("h4",{className:"text-muted",children:"Loading campus addresses..."});if(!s)return f("h4",{className:"text-muted",children:"Loading number of seats..."});const S=C=>{if(C.preventDefault(),!l||!c||!h||!y||!E)v("All the fields are required");else{const R=Kb(),B={start:{address:l},end:{address:c},date:h,time:y,passengers:[e.uid],totalSeats:E,availableSeats:E-1},$={id:R,title:"Group chat #"+R,messages:[]};v(""),n({["/rides/"+R]:B}),n({["/chats/"+R]:$}),t("/")}},x=C=>{C==="to"?(a("to"),u("North Campus"),d("Chicago O'Hare International Airport (ORD)")):C==="from"&&(a("from"),u("Chicago O'Hare International Airport (ORD)"),d("North Campus"))},I=C=>{let R=[];if(C!=="undefined"&&C!==null)for(let B=0;B<C.length;B++)R.push(A("option",{value:C[B],children:[" ",C[B]]},B));return R};return A("div",{className:"container mb-5",children:[f("div",{className:"create-ride-header",children:f("h3",{className:"mb-3",children:"Create a Ride"})}),A(Q,{onSubmit:S,children:[f(Q.Text,{className:"text-muted me-4",children:"Is your ride to or from the airport?"}),f(Q.Check,{inline:!0,defaultChecked:"true",label:"To Airport",name:"group1",type:"radio",onClick:()=>x("to")}),f(Q.Check,{inline:!0,label:"From Airport",name:"group1",type:"radio",onClick:()=>x("from")}),f("hr",{className:"mt-3 mb-3"}),A(Q.Group,{className:"mb-3",children:[f(Q.Label,{children:"Start Address"}),f(Q.Select,{onChange:C=>u(C.target.value),children:I(o==="to"?i:r)}),f(Q.Text,{className:"text-muted",children:"Select your starting address for the ride pickup"})]}),A(Q.Group,{className:"mb-3",children:[f(Q.Label,{children:"Destination Address"}),f(Q.Select,{onChange:C=>d(C.target.value),children:I(o==="to"?r:i)}),f(Q.Text,{className:"text-muted",children:"Select your destination address for the ride pickup"})]}),A(Q.Group,{className:"mb-3",children:[f(Q.Label,{children:"Date"}),f(Q.Control,{type:"date",name:"date",min:fu(),value:h,onChange:C=>_(C.target.value)}),f(Q.Text,{className:"text-muted",children:"Enter your initial date for the ride pickup"})]}),A(Q.Group,{className:"mb-3",children:[f(Q.Label,{children:"Time"}),f(Q.Control,{type:"time",name:"time",value:y,onChange:C=>w(C.target.value)}),f(Q.Text,{className:"text-muted",children:"Enter your initial time for the ride pickup"})]}),A(Q.Group,{className:"mb-3",children:[f(Q.Label,{children:"# of Passengers"}),A(Q.Select,{onChange:C=>m(Number(C.target.value)),children:[f("option",{value:"",selected:!0,disabled:!0,hidden:!0}),I(s)]}),f(Q.Text,{className:"text-muted",children:"Select the number of total passengers"})]}),p&&f(vE,{variant:"danger text-center",children:p}),f(bn,{className:"mt-3 w-100 create-ride-button",variant:"info",type:"submit",children:"Create Ride"})]})]})},NE=g.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ne(t,"card-img");return f(r,{ref:s,className:K(n?`${o}-${n}`:o,e),...i})});NE.displayName="CardImg";const xE=g.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ne(t,"card-header"),o=g.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return f(ep.Provider,{value:o,children:f(n,{ref:i,...r,className:K(e,s)})})});xE.displayName="CardHeader";const lA=Wu("h5"),uA=Wu("h6"),RE=at("card-body"),cA=at("card-title",{Component:lA}),dA=at("card-subtitle",{Component:uA}),hA=at("card-link",{Component:"a"}),fA=at("card-text",{Component:"p"}),pA=at("card-footer"),mA=at("card-img-overlay"),gA={body:!1},gm=g.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},u)=>{const c=ne(t,"card");return f(a,{ref:u,...l,className:K(e,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?f(RE,{children:o}):o})});gm.displayName="Card";gm.defaultProps=gA;const _e=Object.assign(gm,{Img:NE,Title:cA,Subtitle:dA,Body:RE,Link:hA,Text:fA,Header:xE,Footer:pA,ImgOverlay:mA});//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var OE;function D(){return OE.apply(null,arguments)}function _A(t){OE=t}function Zt(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ri(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function J(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _m(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(J(t,e))return!1;return!0}function lt(t){return t===void 0}function Hn(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function ga(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function DE(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function fr(t,e){for(var n in e)J(e,n)&&(t[n]=e[n]);return J(e,"toString")&&(t.toString=e.toString),J(e,"valueOf")&&(t.valueOf=e.valueOf),t}function mn(t,e,n,r){return tC(t,e,n,r,!0).utc()}function vA(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function z(t){return t._pf==null&&(t._pf=vA()),t._pf}var zh;Array.prototype.some?zh=Array.prototype.some:zh=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function vm(t){if(t._isValid==null){var e=z(t),n=zh.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function nc(t){var e=mn(NaN);return t!=null?fr(z(e),t):z(e).userInvalidated=!0,e}var Sv=D.momentProperties=[],cd=!1;function ym(t,e){var n,r,i,s=Sv.length;if(lt(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),lt(e._i)||(t._i=e._i),lt(e._f)||(t._f=e._f),lt(e._l)||(t._l=e._l),lt(e._strict)||(t._strict=e._strict),lt(e._tzm)||(t._tzm=e._tzm),lt(e._isUTC)||(t._isUTC=e._isUTC),lt(e._offset)||(t._offset=e._offset),lt(e._pf)||(t._pf=z(e)),lt(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=Sv[n],i=e[r],lt(i)||(t[r]=i);return t}function _a(t){ym(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),cd===!1&&(cd=!0,D.updateOffset(this),cd=!1)}function en(t){return t instanceof _a||t!=null&&t._isAMomentObject!=null}function PE(t){D.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Lt(t,e){var n=!0;return fr(function(){if(D.deprecationHandler!=null&&D.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])J(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}PE(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Ev={};function ME(t,e){D.deprecationHandler!=null&&D.deprecationHandler(t,e),Ev[t]||(PE(e),Ev[t]=!0)}D.suppressDeprecationWarnings=!1;D.deprecationHandler=null;function gn(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function yA(t){var e,n;for(n in t)J(t,n)&&(e=t[n],gn(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Bh(t,e){var n=fr({},t),r;for(r in e)J(e,r)&&(ri(t[r])&&ri(e[r])?(n[r]={},fr(n[r],t[r]),fr(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)J(t,r)&&!J(e,r)&&ri(t[r])&&(n[r]=fr({},n[r]));return n}function wm(t){t!=null&&this.set(t)}var jh;Object.keys?jh=Object.keys:jh=function(t){var e,n=[];for(e in t)J(t,e)&&n.push(e);return n};var wA={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function SA(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return gn(r)?r.call(e,n):r}function fn(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Sm=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ya=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,dd={},is={};function b(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(is[t]=i),e&&(is[e[0]]=function(){return fn(i.apply(this,arguments),e[1],e[2])}),n&&(is[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function EA(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function CA(t){var e=t.match(Sm),n,r;for(n=0,r=e.length;n<r;n++)is[e[n]]?e[n]=is[e[n]]:e[n]=EA(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=gn(e[o])?e[o].call(i,t):e[o];return s}}function ul(t,e){return t.isValid()?(e=bE(e,t.localeData()),dd[e]=dd[e]||CA(e),dd[e](t)):t.localeData().invalidDate()}function bE(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Ya.lastIndex=0;n>=0&&Ya.test(t);)t=t.replace(Ya,r),Ya.lastIndex=0,n-=1;return t}var kA={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function TA(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Sm).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var IA="Invalid date";function NA(){return this._invalidDate}var xA="%d",RA=/\d{1,2}/;function OA(t){return this._ordinal.replace("%d",t)}var DA={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function PA(t,e,n,r){var i=this._relativeTime[n];return gn(i)?i(t,e,n,r):i.replace(/%d/i,t)}function MA(t,e){var n=this._relativeTime[t>0?"future":"past"];return gn(n)?n(e):n.replace(/%s/i,e)}var po={};function Ze(t,e){var n=t.toLowerCase();po[n]=po[n+"s"]=po[e]=t}function Ft(t){return typeof t=="string"?po[t]||po[t.toLowerCase()]:void 0}function Em(t){var e={},n,r;for(r in t)J(t,r)&&(n=Ft(r),n&&(e[n]=t[r]));return e}var AE={};function et(t,e){AE[t]=e}function bA(t){var e=[],n;for(n in t)J(t,n)&&e.push({unit:n,priority:AE[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function rc(t){return t%4===0&&t%100!==0||t%400===0}function xt(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function H(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=xt(e)),n}function Ds(t,e){return function(n){return n!=null?(LE(this,t,n),D.updateOffset(this,e),this):pu(this,t)}}function pu(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function LE(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&rc(t.year())&&t.month()===1&&t.date()===29?(n=H(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),uc(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function AA(t){return t=Ft(t),gn(this[t])?this[t]():this}function LA(t,e){if(typeof t=="object"){t=Em(t);var n=bA(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Ft(t),gn(this[t]))return this[t](e);return this}var FE=/\d/,kt=/\d\d/,UE=/\d{3}/,Cm=/\d{4}/,ic=/[+-]?\d{6}/,pe=/\d\d?/,WE=/\d\d\d\d?/,$E=/\d\d\d\d\d\d?/,sc=/\d{1,3}/,km=/\d{1,4}/,oc=/[+-]?\d{1,6}/,Ps=/\d+/,ac=/[+-]?\d+/,FA=/Z|[+-]\d\d:?\d\d/gi,lc=/Z|[+-]\d\d(?::?\d\d)?/gi,UA=/[+-]?\d+(\.\d{1,3})?/,va=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,mu;mu={};function P(t,e,n){mu[t]=gn(e)?e:function(r,i){return r&&n?n:e}}function WA(t,e){return J(mu,t)?mu[t](e._strict,e._locale):new RegExp($A(t))}function $A(t){return vt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function vt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Hh={};function ie(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Hn(e)&&(r=function(s,o){o[e]=H(s)}),i=t.length,n=0;n<i;n++)Hh[t[n]]=r}function ya(t,e){ie(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function zA(t,e,n){e!=null&&J(Hh,t)&&Hh[t](e,n._a,n,t)}var Qe=0,Rn=1,an=2,De=3,Gt=4,On=5,Xr=6,BA=7,jA=8;function HA(t,e){return(t%e+e)%e}var Te;Array.prototype.indexOf?Te=Array.prototype.indexOf:Te=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function uc(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=HA(e,12);return t+=(e-n)/12,n===1?rc(t)?29:28:31-n%7%2}b("M",["MM",2],"Mo",function(){return this.month()+1});b("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});b("MMMM",0,0,function(t){return this.localeData().months(this,t)});Ze("month","M");et("month",8);P("M",pe);P("MM",pe,kt);P("MMM",function(t,e){return e.monthsShortRegex(t)});P("MMMM",function(t,e){return e.monthsRegex(t)});ie(["M","MM"],function(t,e){e[Rn]=H(t)-1});ie(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Rn]=i:z(n).invalidMonth=t});var YA="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),zE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),BE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,VA=va,GA=va;function KA(t,e){return t?Zt(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||BE).test(e)?"format":"standalone"][t.month()]:Zt(this._months)?this._months:this._months.standalone}function qA(t,e){return t?Zt(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[BE.test(e)?"format":"standalone"][t.month()]:Zt(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function QA(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=mn([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=Te.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Te.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=Te.call(this._shortMonthsParse,o),i!==-1?i:(i=Te.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Te.call(this._longMonthsParse,o),i!==-1?i:(i=Te.call(this._shortMonthsParse,o),i!==-1?i:null))}function XA(t,e,n){var r,i,s;if(this._monthsParseExact)return QA.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=mn([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function jE(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=H(e);else if(e=t.localeData().monthsParse(e),!Hn(e))return t}return n=Math.min(t.date(),uc(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function HE(t){return t!=null?(jE(this,t),D.updateOffset(this,!0),this):pu(this,"Month")}function JA(){return uc(this.year(),this.month())}function ZA(t){return this._monthsParseExact?(J(this,"_monthsRegex")||YE.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(J(this,"_monthsShortRegex")||(this._monthsShortRegex=VA),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function eL(t){return this._monthsParseExact?(J(this,"_monthsRegex")||YE.call(this),t?this._monthsStrictRegex:this._monthsRegex):(J(this,"_monthsRegex")||(this._monthsRegex=GA),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function YE(){function t(o,a){return a.length-o.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=mn([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=vt(e[i]),n[i]=vt(n[i]);for(i=0;i<24;i++)r[i]=vt(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}b("Y",0,0,function(){var t=this.year();return t<=9999?fn(t,4):"+"+t});b(0,["YY",2],0,function(){return this.year()%100});b(0,["YYYY",4],0,"year");b(0,["YYYYY",5],0,"year");b(0,["YYYYYY",6,!0],0,"year");Ze("year","y");et("year",1);P("Y",ac);P("YY",pe,kt);P("YYYY",km,Cm);P("YYYYY",oc,ic);P("YYYYYY",oc,ic);ie(["YYYYY","YYYYYY"],Qe);ie("YYYY",function(t,e){e[Qe]=t.length===2?D.parseTwoDigitYear(t):H(t)});ie("YY",function(t,e){e[Qe]=D.parseTwoDigitYear(t)});ie("Y",function(t,e){e[Qe]=parseInt(t,10)});function mo(t){return rc(t)?366:365}D.parseTwoDigitYear=function(t){return H(t)+(H(t)>68?1900:2e3)};var VE=Ds("FullYear",!0);function tL(){return rc(this.year())}function nL(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function Go(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function gu(t,e,n){var r=7+e-n,i=(7+Go(t,0,r).getUTCDay()-e)%7;return-i+r-1}function GE(t,e,n,r,i){var s=(7+n-r)%7,o=gu(t,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=t-1,u=mo(l)+a):a>mo(t)?(l=t+1,u=a-mo(t)):(l=t,u=a),{year:l,dayOfYear:u}}function Ko(t,e,n){var r=gu(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+An(o,e,n)):i>An(t.year(),e,n)?(s=i-An(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function An(t,e,n){var r=gu(t,e,n),i=gu(t+1,e,n);return(mo(t)-r+i)/7}b("w",["ww",2],"wo","week");b("W",["WW",2],"Wo","isoWeek");Ze("week","w");Ze("isoWeek","W");et("week",5);et("isoWeek",5);P("w",pe);P("ww",pe,kt);P("W",pe);P("WW",pe,kt);ya(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=H(t)});function rL(t){return Ko(t,this._week.dow,this._week.doy).week}var iL={dow:0,doy:6};function sL(){return this._week.dow}function oL(){return this._week.doy}function aL(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function lL(t){var e=Ko(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}b("d",0,"do","day");b("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});b("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});b("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});b("e",0,0,"weekday");b("E",0,0,"isoWeekday");Ze("day","d");Ze("weekday","e");Ze("isoWeekday","E");et("day",11);et("weekday",11);et("isoWeekday",11);P("d",pe);P("e",pe);P("E",pe);P("dd",function(t,e){return e.weekdaysMinRegex(t)});P("ddd",function(t,e){return e.weekdaysShortRegex(t)});P("dddd",function(t,e){return e.weekdaysRegex(t)});ya(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:z(n).invalidWeekday=t});ya(["d","e","E"],function(t,e,n,r){e[r]=H(t)});function uL(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function cL(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Tm(t,e){return t.slice(e,7).concat(t.slice(0,e))}var dL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),KE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),hL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),fL=va,pL=va,mL=va;function gL(t,e){var n=Zt(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Tm(n,this._week.dow):t?n[t.day()]:n}function _L(t){return t===!0?Tm(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function vL(t){return t===!0?Tm(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function yL(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=mn([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=Te.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=Te.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Te.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=Te.call(this._weekdaysParse,o),i!==-1||(i=Te.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Te.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=Te.call(this._shortWeekdaysParse,o),i!==-1||(i=Te.call(this._weekdaysParse,o),i!==-1)?i:(i=Te.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Te.call(this._minWeekdaysParse,o),i!==-1||(i=Te.call(this._weekdaysParse,o),i!==-1)?i:(i=Te.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function wL(t,e,n){var r,i,s;if(this._weekdaysParseExact)return yL.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=mn([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function SL(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=uL(t,this.localeData()),this.add(t-e,"d")):e}function EL(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function CL(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=cL(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function kL(t){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||Im.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(J(this,"_weekdaysRegex")||(this._weekdaysRegex=fL),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function TL(t){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||Im.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(J(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=pL),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function IL(t){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||Im.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(J(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mL),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Im(){function t(c,d){return d.length-c.length}var e=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=mn([2e3,1]).day(s),a=vt(this.weekdaysMin(o,"")),l=vt(this.weekdaysShort(o,"")),u=vt(this.weekdays(o,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Nm(){return this.hours()%12||12}function NL(){return this.hours()||24}b("H",["HH",2],0,"hour");b("h",["hh",2],0,Nm);b("k",["kk",2],0,NL);b("hmm",0,0,function(){return""+Nm.apply(this)+fn(this.minutes(),2)});b("hmmss",0,0,function(){return""+Nm.apply(this)+fn(this.minutes(),2)+fn(this.seconds(),2)});b("Hmm",0,0,function(){return""+this.hours()+fn(this.minutes(),2)});b("Hmmss",0,0,function(){return""+this.hours()+fn(this.minutes(),2)+fn(this.seconds(),2)});function qE(t,e){b(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}qE("a",!0);qE("A",!1);Ze("hour","h");et("hour",13);function QE(t,e){return e._meridiemParse}P("a",QE);P("A",QE);P("H",pe);P("h",pe);P("k",pe);P("HH",pe,kt);P("hh",pe,kt);P("kk",pe,kt);P("hmm",WE);P("hmmss",$E);P("Hmm",WE);P("Hmmss",$E);ie(["H","HH"],De);ie(["k","kk"],function(t,e,n){var r=H(t);e[De]=r===24?0:r});ie(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ie(["h","hh"],function(t,e,n){e[De]=H(t),z(n).bigHour=!0});ie("hmm",function(t,e,n){var r=t.length-2;e[De]=H(t.substr(0,r)),e[Gt]=H(t.substr(r)),z(n).bigHour=!0});ie("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[De]=H(t.substr(0,r)),e[Gt]=H(t.substr(r,2)),e[On]=H(t.substr(i)),z(n).bigHour=!0});ie("Hmm",function(t,e,n){var r=t.length-2;e[De]=H(t.substr(0,r)),e[Gt]=H(t.substr(r))});ie("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[De]=H(t.substr(0,r)),e[Gt]=H(t.substr(r,2)),e[On]=H(t.substr(i))});function xL(t){return(t+"").toLowerCase().charAt(0)==="p"}var RL=/[ap]\.?m?\.?/i,OL=Ds("Hours",!0);function DL(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var XE={calendar:wA,longDateFormat:kA,invalidDate:IA,ordinal:xA,dayOfMonthOrdinalParse:RA,relativeTime:DA,months:YA,monthsShort:zE,week:iL,weekdays:dL,weekdaysMin:hL,weekdaysShort:KE,meridiemParse:RL},ge={},Vs={},qo;function PL(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function Cv(t){return t&&t.toLowerCase().replace("_","-")}function ML(t){for(var e=0,n,r,i,s;e<t.length;){for(s=Cv(t[e]).split("-"),n=s.length,r=Cv(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=cc(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&PL(s,r)>=n-1)break;n--}e++}return qo}function bL(t){return t.match("^[^/\\\\]*$")!=null}function cc(t){var e=null,n;if(ge[t]===void 0&&typeof hl<"u"&&hl&&hl.exports&&bL(t))try{e=qo._abbr,n=require,n("./locale/"+t),Rr(e)}catch{ge[t]=null}return ge[t]}function Rr(t,e){var n;return t&&(lt(e)?n=qn(t):n=xm(t,e),n?qo=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),qo._abbr}function xm(t,e){if(e!==null){var n,r=XE;if(e.abbr=t,ge[t]!=null)ME("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ge[t]._config;else if(e.parentLocale!=null)if(ge[e.parentLocale]!=null)r=ge[e.parentLocale]._config;else if(n=cc(e.parentLocale),n!=null)r=n._config;else return Vs[e.parentLocale]||(Vs[e.parentLocale]=[]),Vs[e.parentLocale].push({name:t,config:e}),null;return ge[t]=new wm(Bh(r,e)),Vs[t]&&Vs[t].forEach(function(i){xm(i.name,i.config)}),Rr(t),ge[t]}else return delete ge[t],null}function AL(t,e){if(e!=null){var n,r,i=XE;ge[t]!=null&&ge[t].parentLocale!=null?ge[t].set(Bh(ge[t]._config,e)):(r=cc(t),r!=null&&(i=r._config),e=Bh(i,e),r==null&&(e.abbr=t),n=new wm(e),n.parentLocale=ge[t],ge[t]=n),Rr(t)}else ge[t]!=null&&(ge[t].parentLocale!=null?(ge[t]=ge[t].parentLocale,t===Rr()&&Rr(t)):ge[t]!=null&&delete ge[t]);return ge[t]}function qn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return qo;if(!Zt(t)){if(e=cc(t),e)return e;t=[t]}return ML(t)}function LL(){return jh(ge)}function Rm(t){var e,n=t._a;return n&&z(t).overflow===-2&&(e=n[Rn]<0||n[Rn]>11?Rn:n[an]<1||n[an]>uc(n[Qe],n[Rn])?an:n[De]<0||n[De]>24||n[De]===24&&(n[Gt]!==0||n[On]!==0||n[Xr]!==0)?De:n[Gt]<0||n[Gt]>59?Gt:n[On]<0||n[On]>59?On:n[Xr]<0||n[Xr]>999?Xr:-1,z(t)._overflowDayOfYear&&(e<Qe||e>an)&&(e=an),z(t)._overflowWeeks&&e===-1&&(e=BA),z(t)._overflowWeekday&&e===-1&&(e=jA),z(t).overflow=e),t}var FL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,UL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,WL=/Z|[+-]\d\d(?::?\d\d)?/,Va=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hd=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$L=/^\/?Date\((-?\d+)/i,zL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,BL={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function JE(t){var e,n,r=t._i,i=FL.exec(r)||UL.exec(r),s,o,a,l,u=Va.length,c=hd.length;if(i){for(z(t).iso=!0,e=0,n=u;e<n;e++)if(Va[e][1].exec(i[1])){o=Va[e][0],s=Va[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=c;e<n;e++)if(hd[e][1].exec(i[3])){a=(i[2]||" ")+hd[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(WL.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),Dm(t)}else t._isValid=!1}function jL(t,e,n,r,i,s){var o=[HL(t),zE.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function HL(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function YL(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function VL(t,e,n){if(t){var r=KE.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return z(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function GL(t,e,n){if(t)return BL[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function ZE(t){var e=zL.exec(YL(t._i)),n;if(e){if(n=jL(e[4],e[3],e[2],e[5],e[6],e[7]),!VL(e[1],n,t))return;t._a=n,t._tzm=GL(e[8],e[9],e[10]),t._d=Go.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),z(t).rfc2822=!0}else t._isValid=!1}function KL(t){var e=$L.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(JE(t),t._isValid===!1)delete t._isValid;else return;if(ZE(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:D.createFromInputFallback(t)}D.createFromInputFallback=Lt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Oi(t,e,n){return t??e??n}function qL(t){var e=new Date(D.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Om(t){var e,n,r=[],i,s,o;if(!t._d){for(i=qL(t),t._w&&t._a[an]==null&&t._a[Rn]==null&&QL(t),t._dayOfYear!=null&&(o=Oi(t._a[Qe],i[Qe]),(t._dayOfYear>mo(o)||t._dayOfYear===0)&&(z(t)._overflowDayOfYear=!0),n=Go(o,0,t._dayOfYear),t._a[Rn]=n.getUTCMonth(),t._a[an]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[De]===24&&t._a[Gt]===0&&t._a[On]===0&&t._a[Xr]===0&&(t._nextDay=!0,t._a[De]=0),t._d=(t._useUTC?Go:nL).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[De]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(z(t).weekdayMismatch=!0)}}function QL(t){var e,n,r,i,s,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=Oi(e.GG,t._a[Qe],Ko(fe(),1,4).year),r=Oi(e.W,1),i=Oi(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=Ko(fe(),s,o),n=Oi(e.gg,t._a[Qe],u.year),r=Oi(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>An(n,s,o)?z(t)._overflowWeeks=!0:l!=null?z(t)._overflowWeekday=!0:(a=GE(n,r,i,s,o),t._a[Qe]=a.year,t._dayOfYear=a.dayOfYear)}D.ISO_8601=function(){};D.RFC_2822=function(){};function Dm(t){if(t._f===D.ISO_8601){JE(t);return}if(t._f===D.RFC_2822){ZE(t);return}t._a=[],z(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,u,c;for(i=bE(t._f,t._locale).match(Sm)||[],c=i.length,n=0;n<c;n++)s=i[n],r=(e.match(WA(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&z(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),is[s]?(r?z(t).empty=!1:z(t).unusedTokens.push(s),zA(s,r,t)):t._strict&&!r&&z(t).unusedTokens.push(s);z(t).charsLeftOver=a-l,e.length>0&&z(t).unusedInput.push(e),t._a[De]<=12&&z(t).bigHour===!0&&t._a[De]>0&&(z(t).bigHour=void 0),z(t).parsedDateParts=t._a.slice(0),z(t).meridiem=t._meridiem,t._a[De]=XL(t._locale,t._a[De],t._meridiem),u=z(t).era,u!==null&&(t._a[Qe]=t._locale.erasConvertYear(u,t._a[Qe])),Om(t),Rm(t)}function XL(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function JL(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){z(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=ym({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Dm(e),vm(e)&&(o=!0),s+=z(e).charsLeftOver,s+=z(e).unusedTokens.length*10,z(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));fr(t,n||e)}function ZL(t){if(!t._d){var e=Em(t._i),n=e.day===void 0?e.date:e.day;t._a=DE([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Om(t)}}function e2(t){var e=new _a(Rm(eC(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function eC(t){var e=t._i,n=t._f;return t._locale=t._locale||qn(t._l),e===null||n===void 0&&e===""?nc({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),en(e)?new _a(Rm(e)):(ga(e)?t._d=e:Zt(n)?JL(t):n?Dm(t):t2(t),vm(t)||(t._d=null),t))}function t2(t){var e=t._i;lt(e)?t._d=new Date(D.now()):ga(e)?t._d=new Date(e.valueOf()):typeof e=="string"?KL(t):Zt(e)?(t._a=DE(e.slice(0),function(n){return parseInt(n,10)}),Om(t)):ri(e)?ZL(t):Hn(e)?t._d=new Date(e):D.createFromInputFallback(t)}function tC(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ri(t)&&_m(t)||Zt(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,e2(s)}function fe(t,e,n,r){return tC(t,e,n,r,!1)}var n2=Lt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=fe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:nc()}),r2=Lt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=fe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:nc()});function nC(t,e){var n,r;if(e.length===1&&Zt(e[0])&&(e=e[0]),!e.length)return fe();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function i2(){var t=[].slice.call(arguments,0);return nC("isBefore",t)}function s2(){var t=[].slice.call(arguments,0);return nC("isAfter",t)}var o2=function(){return Date.now?Date.now():+new Date},Gs=["year","quarter","month","week","day","hour","minute","second","millisecond"];function a2(t){var e,n=!1,r,i=Gs.length;for(e in t)if(J(t,e)&&!(Te.call(Gs,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Gs[r]]){if(n)return!1;parseFloat(t[Gs[r]])!==H(t[Gs[r]])&&(n=!0)}return!0}function l2(){return this._isValid}function u2(){return tn(NaN)}function dc(t){var e=Em(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=a2(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=qn(),this._bubble()}function cl(t){return t instanceof dc}function Yh(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function c2(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&H(t[o])!==H(e[o]))&&s++;return s+i}function rC(t,e){b(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+fn(~~(n/60),2)+e+fn(~~n%60,2)})}rC("Z",":");rC("ZZ","");P("Z",lc);P("ZZ",lc);ie(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Pm(lc,t)});var d2=/([\+\-]|\d\d)/gi;function Pm(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(d2)||["-",0,0],s=+(i[1]*60)+H(i[2]),s===0?0:i[0]==="+"?s:-s)}function Mm(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(en(t)||ga(t)?t.valueOf():fe(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),D.updateOffset(n,!1),n):fe(t).local()}function Vh(t){return-Math.round(t._d.getTimezoneOffset())}D.updateOffset=function(){};function h2(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Pm(lc,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Vh(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?oC(this,tn(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,D.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Vh(this)}function f2(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function p2(t){return this.utcOffset(0,t)}function m2(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Vh(this),"m")),this}function g2(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Pm(FA,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function _2(t){return this.isValid()?(t=t?fe(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function v2(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function y2(){if(!lt(this._isDSTShifted))return this._isDSTShifted;var t={},e;return ym(t,this),t=eC(t),t._a?(e=t._isUTC?mn(t._a):fe(t._a),this._isDSTShifted=this.isValid()&&c2(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function w2(){return this.isValid()?!this._isUTC:!1}function S2(){return this.isValid()?this._isUTC:!1}function iC(){return this.isValid()?this._isUTC&&this._offset===0:!1}var E2=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,C2=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function tn(t,e){var n=t,r=null,i,s,o;return cl(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Hn(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=E2.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:H(r[an])*i,h:H(r[De])*i,m:H(r[Gt])*i,s:H(r[On])*i,ms:H(Yh(r[Xr]*1e3))*i}):(r=C2.exec(t))?(i=r[1]==="-"?-1:1,n={y:Wr(r[2],i),M:Wr(r[3],i),w:Wr(r[4],i),d:Wr(r[5],i),h:Wr(r[6],i),m:Wr(r[7],i),s:Wr(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=k2(fe(n.from),fe(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new dc(n),cl(t)&&J(t,"_locale")&&(s._locale=t._locale),cl(t)&&J(t,"_isValid")&&(s._isValid=t._isValid),s}tn.fn=dc.prototype;tn.invalid=u2;function Wr(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function kv(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function k2(t,e){var n;return t.isValid()&&e.isValid()?(e=Mm(e,t),t.isBefore(e)?n=kv(t,e):(n=kv(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function sC(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(ME(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=tn(n,r),oC(this,i,t),this}}function oC(t,e,n,r){var i=e._milliseconds,s=Yh(e._days),o=Yh(e._months);t.isValid()&&(r=r??!0,o&&jE(t,pu(t,"Month")+o*n),s&&LE(t,"Date",pu(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&D.updateOffset(t,s||o))}var T2=sC(1,"add"),I2=sC(-1,"subtract");function aC(t){return typeof t=="string"||t instanceof String}function N2(t){return en(t)||ga(t)||aC(t)||Hn(t)||R2(t)||x2(t)||t===null||t===void 0}function x2(t){var e=ri(t)&&!_m(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||J(t,s);return e&&n}function R2(t){var e=Zt(t),n=!1;return e&&(n=t.filter(function(r){return!Hn(r)&&aC(t)}).length===0),e&&n}function O2(t){var e=ri(t)&&!_m(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||J(t,s);return e&&n}function D2(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function P2(t,e){arguments.length===1&&(arguments[0]?N2(arguments[0])?(t=arguments[0],e=void 0):O2(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||fe(),r=Mm(n,this).startOf("day"),i=D.calendarFormat(this,r)||"sameElse",s=e&&(gn(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,fe(n)))}function M2(){return new _a(this)}function b2(t,e){var n=en(t)?t:fe(t);return this.isValid()&&n.isValid()?(e=Ft(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function A2(t,e){var n=en(t)?t:fe(t);return this.isValid()&&n.isValid()?(e=Ft(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function L2(t,e,n,r){var i=en(t)?t:fe(t),s=en(e)?e:fe(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function F2(t,e){var n=en(t)?t:fe(t),r;return this.isValid()&&n.isValid()?(e=Ft(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function U2(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function W2(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function $2(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=Mm(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Ft(e),e){case"year":s=dl(this,r)/12;break;case"month":s=dl(this,r);break;case"quarter":s=dl(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:xt(s)}function dl(t,e){if(t.date()<e.date())return-dl(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}D.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";D.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function z2(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function B2(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?ul(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):gn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ul(n,"Z")):ul(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function j2(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function H2(t){t||(t=this.isUtc()?D.defaultFormatUtc:D.defaultFormat);var e=ul(this,t);return this.localeData().postformat(e)}function Y2(t,e){return this.isValid()&&(en(t)&&t.isValid()||fe(t).isValid())?tn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function V2(t){return this.from(fe(),t)}function G2(t,e){return this.isValid()&&(en(t)&&t.isValid()||fe(t).isValid())?tn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function K2(t){return this.to(fe(),t)}function lC(t){var e;return t===void 0?this._locale._abbr:(e=qn(t),e!=null&&(this._locale=e),this)}var uC=Lt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function cC(){return this._locale}var _u=1e3,ss=60*_u,vu=60*ss,dC=(365*400+97)*24*vu;function os(t,e){return(t%e+e)%e}function hC(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-dC:new Date(t,e,n).valueOf()}function fC(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-dC:Date.UTC(t,e,n)}function q2(t){var e,n;if(t=Ft(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?fC:hC,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=os(e+(this._isUTC?0:this.utcOffset()*ss),vu);break;case"minute":e=this._d.valueOf(),e-=os(e,ss);break;case"second":e=this._d.valueOf(),e-=os(e,_u);break}return this._d.setTime(e),D.updateOffset(this,!0),this}function Q2(t){var e,n;if(t=Ft(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?fC:hC,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=vu-os(e+(this._isUTC?0:this.utcOffset()*ss),vu)-1;break;case"minute":e=this._d.valueOf(),e+=ss-os(e,ss)-1;break;case"second":e=this._d.valueOf(),e+=_u-os(e,_u)-1;break}return this._d.setTime(e),D.updateOffset(this,!0),this}function X2(){return this._d.valueOf()-(this._offset||0)*6e4}function J2(){return Math.floor(this.valueOf()/1e3)}function Z2(){return new Date(this.valueOf())}function eF(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function tF(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function nF(){return this.isValid()?this.toISOString():null}function rF(){return vm(this)}function iF(){return fr({},z(this))}function sF(){return z(this).overflow}function oF(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}b("N",0,0,"eraAbbr");b("NN",0,0,"eraAbbr");b("NNN",0,0,"eraAbbr");b("NNNN",0,0,"eraName");b("NNNNN",0,0,"eraNarrow");b("y",["y",1],"yo","eraYear");b("y",["yy",2],0,"eraYear");b("y",["yyy",3],0,"eraYear");b("y",["yyyy",4],0,"eraYear");P("N",bm);P("NN",bm);P("NNN",bm);P("NNNN",_F);P("NNNNN",vF);ie(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?z(n).era=i:z(n).invalidEra=t});P("y",Ps);P("yy",Ps);P("yyy",Ps);P("yyyy",Ps);P("yo",yF);ie(["y","yy","yyy","yyyy"],Qe);ie(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Qe]=n._locale.eraYearOrdinalParse(t,i):e[Qe]=parseInt(t,10)});function aF(t,e){var n,r,i,s=this._eras||qn("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=D(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=D(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function lF(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function uF(t,e){var n=t.since<=t.until?1:-1;return e===void 0?D(t.since).year():D(t.since).year()+(e-t.offset)*n}function cF(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function dF(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function hF(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function fF(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-D(i[t].since).year())*n+i[t].offset;return this.year()}function pF(t){return J(this,"_erasNameRegex")||Am.call(this),t?this._erasNameRegex:this._erasRegex}function mF(t){return J(this,"_erasAbbrRegex")||Am.call(this),t?this._erasAbbrRegex:this._erasRegex}function gF(t){return J(this,"_erasNarrowRegex")||Am.call(this),t?this._erasNarrowRegex:this._erasRegex}function bm(t,e){return e.erasAbbrRegex(t)}function _F(t,e){return e.erasNameRegex(t)}function vF(t,e){return e.erasNarrowRegex(t)}function yF(t,e){return e._eraYearOrdinalRegex||Ps}function Am(){var t=[],e=[],n=[],r=[],i,s,o=this.eras();for(i=0,s=o.length;i<s;++i)e.push(vt(o[i].name)),t.push(vt(o[i].abbr)),n.push(vt(o[i].narrow)),r.push(vt(o[i].name)),r.push(vt(o[i].abbr)),r.push(vt(o[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}b(0,["gg",2],0,function(){return this.weekYear()%100});b(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hc(t,e){b(0,[t,t.length],0,e)}hc("gggg","weekYear");hc("ggggg","weekYear");hc("GGGG","isoWeekYear");hc("GGGGG","isoWeekYear");Ze("weekYear","gg");Ze("isoWeekYear","GG");et("weekYear",1);et("isoWeekYear",1);P("G",ac);P("g",ac);P("GG",pe,kt);P("gg",pe,kt);P("GGGG",km,Cm);P("gggg",km,Cm);P("GGGGG",oc,ic);P("ggggg",oc,ic);ya(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=H(t)});ya(["gg","GG"],function(t,e,n,r){e[r]=D.parseTwoDigitYear(t)});function wF(t){return pC.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function SF(t){return pC.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function EF(){return An(this.year(),1,4)}function CF(){return An(this.isoWeekYear(),1,4)}function kF(){var t=this.localeData()._week;return An(this.year(),t.dow,t.doy)}function TF(){var t=this.localeData()._week;return An(this.weekYear(),t.dow,t.doy)}function pC(t,e,n,r,i){var s;return t==null?Ko(this,r,i).year:(s=An(t,r,i),e>s&&(e=s),IF.call(this,t,e,n,r,i))}function IF(t,e,n,r,i){var s=GE(t,e,n,r,i),o=Go(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}b("Q",0,"Qo","quarter");Ze("quarter","Q");et("quarter",7);P("Q",FE);ie("Q",function(t,e){e[Rn]=(H(t)-1)*3});function NF(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}b("D",["DD",2],"Do","date");Ze("date","D");et("date",9);P("D",pe);P("DD",pe,kt);P("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ie(["D","DD"],an);ie("Do",function(t,e){e[an]=H(t.match(pe)[0])});var mC=Ds("Date",!0);b("DDD",["DDDD",3],"DDDo","dayOfYear");Ze("dayOfYear","DDD");et("dayOfYear",4);P("DDD",sc);P("DDDD",UE);ie(["DDD","DDDD"],function(t,e,n){n._dayOfYear=H(t)});function xF(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}b("m",["mm",2],0,"minute");Ze("minute","m");et("minute",14);P("m",pe);P("mm",pe,kt);ie(["m","mm"],Gt);var RF=Ds("Minutes",!1);b("s",["ss",2],0,"second");Ze("second","s");et("second",15);P("s",pe);P("ss",pe,kt);ie(["s","ss"],On);var OF=Ds("Seconds",!1);b("S",0,0,function(){return~~(this.millisecond()/100)});b(0,["SS",2],0,function(){return~~(this.millisecond()/10)});b(0,["SSS",3],0,"millisecond");b(0,["SSSS",4],0,function(){return this.millisecond()*10});b(0,["SSSSS",5],0,function(){return this.millisecond()*100});b(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});b(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});b(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});b(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ze("millisecond","ms");et("millisecond",16);P("S",sc,FE);P("SS",sc,kt);P("SSS",sc,UE);var pr,gC;for(pr="SSSS";pr.length<=9;pr+="S")P(pr,Ps);function DF(t,e){e[Xr]=H(("0."+t)*1e3)}for(pr="S";pr.length<=9;pr+="S")ie(pr,DF);gC=Ds("Milliseconds",!1);b("z",0,0,"zoneAbbr");b("zz",0,0,"zoneName");function PF(){return this._isUTC?"UTC":""}function MF(){return this._isUTC?"Coordinated Universal Time":""}var T=_a.prototype;T.add=T2;T.calendar=P2;T.clone=M2;T.diff=$2;T.endOf=Q2;T.format=H2;T.from=Y2;T.fromNow=V2;T.to=G2;T.toNow=K2;T.get=AA;T.invalidAt=sF;T.isAfter=b2;T.isBefore=A2;T.isBetween=L2;T.isSame=F2;T.isSameOrAfter=U2;T.isSameOrBefore=W2;T.isValid=rF;T.lang=uC;T.locale=lC;T.localeData=cC;T.max=r2;T.min=n2;T.parsingFlags=iF;T.set=LA;T.startOf=q2;T.subtract=I2;T.toArray=eF;T.toObject=tF;T.toDate=Z2;T.toISOString=B2;T.inspect=j2;typeof Symbol<"u"&&Symbol.for!=null&&(T[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});T.toJSON=nF;T.toString=z2;T.unix=J2;T.valueOf=X2;T.creationData=oF;T.eraName=cF;T.eraNarrow=dF;T.eraAbbr=hF;T.eraYear=fF;T.year=VE;T.isLeapYear=tL;T.weekYear=wF;T.isoWeekYear=SF;T.quarter=T.quarters=NF;T.month=HE;T.daysInMonth=JA;T.week=T.weeks=aL;T.isoWeek=T.isoWeeks=lL;T.weeksInYear=kF;T.weeksInWeekYear=TF;T.isoWeeksInYear=EF;T.isoWeeksInISOWeekYear=CF;T.date=mC;T.day=T.days=SL;T.weekday=EL;T.isoWeekday=CL;T.dayOfYear=xF;T.hour=T.hours=OL;T.minute=T.minutes=RF;T.second=T.seconds=OF;T.millisecond=T.milliseconds=gC;T.utcOffset=h2;T.utc=p2;T.local=m2;T.parseZone=g2;T.hasAlignedHourOffset=_2;T.isDST=v2;T.isLocal=w2;T.isUtcOffset=S2;T.isUtc=iC;T.isUTC=iC;T.zoneAbbr=PF;T.zoneName=MF;T.dates=Lt("dates accessor is deprecated. Use date instead.",mC);T.months=Lt("months accessor is deprecated. Use month instead",HE);T.years=Lt("years accessor is deprecated. Use year instead",VE);T.zone=Lt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",f2);T.isDSTShifted=Lt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",y2);function bF(t){return fe(t*1e3)}function AF(){return fe.apply(null,arguments).parseZone()}function _C(t){return t}var Z=wm.prototype;Z.calendar=SA;Z.longDateFormat=TA;Z.invalidDate=NA;Z.ordinal=OA;Z.preparse=_C;Z.postformat=_C;Z.relativeTime=PA;Z.pastFuture=MA;Z.set=yA;Z.eras=aF;Z.erasParse=lF;Z.erasConvertYear=uF;Z.erasAbbrRegex=mF;Z.erasNameRegex=pF;Z.erasNarrowRegex=gF;Z.months=KA;Z.monthsShort=qA;Z.monthsParse=XA;Z.monthsRegex=eL;Z.monthsShortRegex=ZA;Z.week=rL;Z.firstDayOfYear=oL;Z.firstDayOfWeek=sL;Z.weekdays=gL;Z.weekdaysMin=vL;Z.weekdaysShort=_L;Z.weekdaysParse=wL;Z.weekdaysRegex=kL;Z.weekdaysShortRegex=TL;Z.weekdaysMinRegex=IL;Z.isPM=xL;Z.meridiem=DL;function yu(t,e,n,r){var i=qn(),s=mn().set(r,e);return i[n](s,t)}function vC(t,e,n){if(Hn(t)&&(e=t,t=void 0),t=t||"",e!=null)return yu(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=yu(t,r,n,"month");return i}function Lm(t,e,n,r){typeof t=="boolean"?(Hn(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Hn(e)&&(n=e,e=void 0),e=e||"");var i=qn(),s=t?i._week.dow:0,o,a=[];if(n!=null)return yu(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=yu(e,(o+s)%7,r,"day");return a}function LF(t,e){return vC(t,e,"months")}function FF(t,e){return vC(t,e,"monthsShort")}function UF(t,e,n){return Lm(t,e,n,"weekdays")}function WF(t,e,n){return Lm(t,e,n,"weekdaysShort")}function $F(t,e,n){return Lm(t,e,n,"weekdaysMin")}Rr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=H(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});D.lang=Lt("moment.lang is deprecated. Use moment.locale instead.",Rr);D.langData=Lt("moment.langData is deprecated. Use moment.localeData instead.",qn);var vn=Math.abs;function zF(){var t=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),t.milliseconds=vn(t.milliseconds),t.seconds=vn(t.seconds),t.minutes=vn(t.minutes),t.hours=vn(t.hours),t.months=vn(t.months),t.years=vn(t.years),this}function yC(t,e,n,r){var i=tn(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function BF(t,e){return yC(this,t,e,1)}function jF(t,e){return yC(this,t,e,-1)}function Tv(t){return t<0?Math.floor(t):Math.ceil(t)}function HF(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Tv(Gh(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=xt(t/1e3),r.seconds=i%60,s=xt(i/60),r.minutes=s%60,o=xt(s/60),r.hours=o%24,e+=xt(o/24),l=xt(wC(e)),n+=l,e-=Tv(Gh(l)),a=xt(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function wC(t){return t*4800/146097}function Gh(t){return t*146097/4800}function YF(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Ft(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+wC(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Gh(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function VF(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+H(this._months/12)*31536e6:NaN}function Qn(t){return function(){return this.as(t)}}var GF=Qn("ms"),KF=Qn("s"),qF=Qn("m"),QF=Qn("h"),XF=Qn("d"),JF=Qn("w"),ZF=Qn("M"),eU=Qn("Q"),tU=Qn("y");function nU(){return tn(this)}function rU(t){return t=Ft(t),this.isValid()?this[t+"s"]():NaN}function Ci(t){return function(){return this.isValid()?this._data[t]:NaN}}var iU=Ci("milliseconds"),sU=Ci("seconds"),oU=Ci("minutes"),aU=Ci("hours"),lU=Ci("days"),uU=Ci("months"),cU=Ci("years");function dU(){return xt(this.days()/7)}var wn=Math.round,Yi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function hU(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function fU(t,e,n,r){var i=tn(t).abs(),s=wn(i.as("s")),o=wn(i.as("m")),a=wn(i.as("h")),l=wn(i.as("d")),u=wn(i.as("M")),c=wn(i.as("w")),d=wn(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],h[2]=e,h[3]=+t>0,h[4]=r,hU.apply(null,h)}function pU(t){return t===void 0?wn:typeof t=="function"?(wn=t,!0):!1}function mU(t,e){return Yi[t]===void 0?!1:e===void 0?Yi[t]:(Yi[t]=e,t==="s"&&(Yi.ss=e-1),!0)}function gU(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Yi,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Yi,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=fU(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var fd=Math.abs;function xi(t){return(t>0)-(t<0)||+t}function fc(){if(!this.isValid())return this.localeData().invalidDate();var t=fd(this._milliseconds)/1e3,e=fd(this._days),n=fd(this._months),r,i,s,o,a=this.asSeconds(),l,u,c,d;return a?(r=xt(t/60),i=xt(r/60),t%=60,r%=60,s=xt(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=xi(this._months)!==xi(a)?"-":"",c=xi(this._days)!==xi(a)?"-":"",d=xi(this._milliseconds)!==xi(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?c+e+"D":"")+(i||r||t?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(t?d+o+"S":"")):"P0D"}var q=dc.prototype;q.isValid=l2;q.abs=zF;q.add=BF;q.subtract=jF;q.as=YF;q.asMilliseconds=GF;q.asSeconds=KF;q.asMinutes=qF;q.asHours=QF;q.asDays=XF;q.asWeeks=JF;q.asMonths=ZF;q.asQuarters=eU;q.asYears=tU;q.valueOf=VF;q._bubble=HF;q.clone=nU;q.get=rU;q.milliseconds=iU;q.seconds=sU;q.minutes=oU;q.hours=aU;q.days=lU;q.weeks=dU;q.months=uU;q.years=cU;q.humanize=gU;q.toISOString=fc;q.toString=fc;q.toJSON=fc;q.locale=lC;q.localeData=cC;q.toIsoString=Lt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fc);q.lang=uC;b("X",0,0,"unix");b("x",0,0,"valueOf");P("x",ac);P("X",UA);ie("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ie("x",function(t,e,n){n._d=new Date(H(t))});//! moment.js
D.version="2.29.4";_A(fe);D.fn=T;D.min=i2;D.max=s2;D.now=o2;D.utc=mn;D.unix=bF;D.months=LF;D.isDate=ga;D.locale=Rr;D.invalid=nc;D.duration=tn;D.isMoment=en;D.weekdays=UF;D.parseZone=AF;D.localeData=qn;D.isDuration=cl;D.monthsShort=FF;D.weekdaysMin=$F;D.defineLocale=xm;D.updateLocale=AL;D.locales=LL;D.weekdaysShort=WF;D.normalizeUnits=Ft;D.relativeTimeRounding=pU;D.relativeTimeThreshold=mU;D.calendarFormat=D2;D.prototype=T;D.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function SC(t){return Kn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.1 11.2a.5.5 0 0 1 .4-.2H6a.5.5 0 0 1 0 1H3.75L1.5 15h13l-2.25-3H10a.5.5 0 0 1 0-1h2.5a.5.5 0 0 1 .4.2l3 4a.5.5 0 0 1-.4.8H.5a.5.5 0 0 1-.4-.8l3-4z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999z"}}]})(t)}const _U=({user:t,ride:e,rideId:n,handleLeave:r,handleJoin:i})=>{const s=vi();return f(Rt,{children:t&&A(Rt,{children:[e.passengers&&e.passengers.includes(t.uid)&&f(bn,{className:"ride-button",variant:"info",onClick:()=>s("/ride/"+n,{state:{id:t.uid,ride:e,rideId:n}}),children:A(_e.Text,{className:"ride-details-button",children:[f(Bb,{className:"ride-button-icon",size:28}),"Details"]})}),e.passengers&&e.passengers.includes(t.uid)&&f(bn,{className:"ride-button",variant:"danger",onClick:()=>r(t.uid),children:A(_e.Text,{className:"ride-leave-button",children:[f(Ub,{className:"ride-button-icon",size:28}),"Leave"]})}),e.passengers&&!e.passengers.includes(t.uid)&&e.availableSeats>0&&f(bn,{className:"ride-button",variant:"success",onClick:()=>i(t.uid),children:A(_e.Text,{className:"ride-join-button",children:[f(Wb,{className:"ride-button-icon",size:28}),"Join"]})})]})})},EC=t=>{let e=t.split(":"),n=parseInt(e[0]),r=e[1],i=n>=12?"PM":"AM",s;return n==0?s=n+12:n>12?s=n-12:s=n,s+":"+r+" "+i},vU=({id:t,ride:e})=>{const[n]=Ei(),[r]=pa("/"),[i]=Nr("/users");if(!e)return f("h4",{className:"text-muted",children:"Loading ride..."});if(!n)return f("h4",{className:"text-muted",children:"Loading user profile..."});if(!i)return f("h4",{className:"text-muted",children:"Loading users..."});const s=a=>{const l=e.availableSeats,u=e.passengers;u.push(a);const c={...e,availableSeats:l-1,passengers:u};r({["/rides/"+t]:c})},o=a=>{const l=e.availableSeats,u=e.passengers;for(var c=0;c<u.length;c++)u[c]===a&&u.splice(c,1);const d={...e,availableSeats:l+1,passengers:u};console.log(d),u.length===0?(r({["/chats/"+t]:null}),r({["/rides/"+t]:null})):r({["/rides/"+t]:d})};return A(_e,{bg:"light",children:[f(_e.Header,{children:A(_e.Title,{className:"ride-header text-muted",children:["Destination: ",e.end.address]})}),A(_e.Body,{children:[A(_e.Text,{className:"ride-pickup-title",children:[f(SC,{size:28})," ",f("span",{children:" Pickup Location:"})," ",e.start.address]}),A(_e.Text,{className:"ride-pickup-date text-muted",children:[f(gE,{size:28}),f("span",{children:"Pickup Date:"})," ",f("p",{children:" "}),D(e.date).format("dddd, MMM D YYYY")]}),A(_e.Text,{className:"ride-pickup-time text-muted",children:[f(mE,{size:28}),f("span",{children:"Pickup Time:"})," ",f("p",{children:" "}),EC(e.time)]}),A(_e.Text,{className:"ride-available-seats text-muted",children:[f(dm,{size:28}),f("span",{children:"Seats available:"})," ",f("p",{children:" "}),e.availableSeats," / ",e.totalSeats]}),f("hr",{}),f(_e.Text,{className:"ride-passengers-title text-muted",children:"Ride Passengers"}),f(_e.Text,{className:"ride-passengers-grid",children:e.passengers.map((a,l)=>A("div",{className:"ride-passengers-container",children:[f("div",{className:"ride-passengers-image",children:f("img",{src:i[a].profilePic,referrerPolicy:"no-referrer",alt:"profile"})}),f("div",{className:"ride-passengers-name text-muted",children:i[a].displayName})]},l))})]}),f(_e.Footer,{children:f(_U,{user:n,ride:e,rideId:t,handleLeave:o,handleJoin:s})})]})},yU=(t,e)=>{if(t!==null){const n=Object.entries(t);return n.sort(function(r,i){if(e){if(r[1].passengers.includes(e.uid)&&!i[1].passengers.includes(e.uid))return-1;if(!r[1].passengers.includes(e.uid)&&i[1].passengers.includes(e.uid))return 1}return r[1].date+" "+r[1].time<i[1].date+" "+i[1].time?-1:1}),n}},wU=()=>{vi();const[t]=Ei(),[e]=Nr("/rides"),[n]=pa("/"),[r,i]=g.useState(""),[s,o]=g.useState(""),[a,l]=g.useState("");if(!e)return f("h4",{className:"text-muted",children:"There are currently no rides"});if(!t)return f("h4",{className:"text-muted",children:"Loading user profile..."});const u=()=>{o("Chicago O'Hare International Airport (ORD)"),i("")},c=()=>{i("Chicago O'Hare International Airport (ORD)"),o("")},d=()=>{o("Chicago Midway International Airport (MDW)"),i("")},h=()=>{i("Chicago Midway International Airport (MDW)"),o("")},_=()=>{i(""),o("")},y=E=>{l(E)};let w=Object.entries(e).forEach(([E,m])=>{m.date<fu()&&(n({["/chats/"+E]:null}),n({["/rides/"+E]:null}))});return w=yU(e,t).filter(E=>(!r||E[1].start.address===r)&&(!s||E[1].end.address===s)&&(!a||E[1].date===a)),console.log(w),A("div",{className:"container mb-5",children:[f(Q.Text,{className:"text-muted me-4",children:"Where?"}),f("br",{}),f(Q.Check,{inline:"true",label:"To ORD Airport",name:"group1",type:"radio",onClick:()=>u()}),f(Q.Check,{inline:"true",label:"From ORD Airport",name:"group1",type:"radio",onChange:()=>c()}),f(Q.Check,{inline:"true",label:"To MDW Airport",name:"group1",type:"radio",onClick:()=>d()}),f(Q.Check,{inline:"true",label:"From MDW Airport",name:"group1",type:"radio",onChange:()=>h()}),f(Q.Check,{inline:"true",label:"All Rides",name:"group1",type:"radio",onClick:()=>_()}),f("br",{}),f(Q.Text,{className:"text-muted me-4",children:"When?"}),f("br",{}),f(Q.Control,{inline:"true",name:"group1",type:"date",min:fu(),onChange:E=>y(E.target.value)}),f("hr",{className:"mt-3 mb-3"}),w&&w.length===0&&f("h4",{className:"text-muted text-center",children:"There are currently no rides for the filter selected"}),w&&w.map((E,m)=>f("div",{className:"mb-5",children:f(vU,{ride:E[1],id:E[0]})},m))]})},CC=g.createContext(null);CC.displayName="InputGroupContext";const Fm=at("input-group-text",{Component:"span"}),SU=t=>f(Fm,{children:f(ma,{type:"checkbox",...t})}),EU=t=>f(Fm,{children:f(ma,{type:"radio",...t})}),kC=g.forwardRef(({bsPrefix:t,size:e,hasValidation:n,className:r,as:i="div",...s},o)=>{t=ne(t,"input-group");const a=g.useMemo(()=>({}),[]);return f(CC.Provider,{value:a,children:f(i,{ref:o,...s,className:K(r,t,e&&`${t}-${e}`,n&&"has-validation")})})});kC.displayName="InputGroup";const CU=Object.assign(kC,{Text:Fm,Radio:EU,Checkbox:SU}),kU=()=>{const{id:t}=jT(),[e]=Ei(),[n]=Nr("/chats/"+t),[r]=pa("/"),[i,s]=g.useState(""),[o,a]=g.useState(""),l=()=>{if(i){let c=n.messages;const d={sender:e.uid,name:e.displayName,photo:e.photoURL,message:i,date:fu()};c?c.push(d):c=[d],r({["/chats/"+t]:{...n,messages:c}}),s(""),a("")}else a("Enter a valid message")},u=c=>{c.keyCode===13&&l()};return n?A("div",{className:"chat-container",children:[f("div",{className:"text-muted text-center mb-3",children:f("h3",{children:"Group Chat"})}),A("div",{className:"chat-input mb-4",children:[f(CU,{children:f(Q.Control,{placeholder:"Message",value:i,onChange:c=>s(c.target.value),onKeyDown:c=>u(c)})}),f(bn,{className:"ms-2",variant:"light",onClick:l,children:f($b,{size:28})})]}),f("div",{children:o&&f(vE,{variant:"danger text-center",children:o})}),f("div",{className:"chat-board",children:n.messages?n.messages.map((c,d)=>f("div",{className:"message-container",children:c.sender===e.uid?f(Rt,{children:f("p",{className:"right-message",children:c.message})}):A(Rt,{children:[f("div",{className:"image-container",children:f("img",{className:"left-photo",src:c.photo})}),A("div",{className:"left-info",children:[f("p",{className:"left-name text-muted",children:c.name}),f("p",{className:"left-message",children:c.message})]})]})},d)):f("h4",{className:"text-center text-muted",children:"No Messages"})})]}):f("h4",{className:"text-muted",children:"Loading chat..."})},TU=()=>{const t=Gf(),e=vi(),[n]=Nr("/users"),r=t.state.ride,i=t.state.rideId;t.state.id;const s=()=>{e("/chat/"+i)},o=()=>r.passengers.map((l,u)=>A("div",{className:"passenger-col",children:[f("img",{className:"profile-images",referrerPolicy:"no-referrer",src:n[l].profilePic}),f("div",{className:"profile-info",children:A(_e.Text,{className:"text-muted",children:[f("span",{children:"Name:"})," ",n[l].displayName," ",f("br",{}),f("span",{children:"Email:"})," ",n[l].email," ",f("br",{})]})})]},u));return f("div",{className:"container mb-5",children:typeof n<"u"&&n!=null&&f("div",{className:"col",children:A(_e,{bg:"light",children:[A(_e.Header,{children:[f(bn,{className:"close",variant:"danger",onClick:()=>e("/"),children:"Close"}),A(_e.Title,{className:"ride-header text-muted",children:["Destination: ",r.end.address]})]}),A(_e.Body,{children:[A(_e.Text,{className:"ride-pickup-title",children:[f(SC,{size:28})," ",f("span",{children:" Pickup Location:"})," ",r.start.address]}),A(_e.Text,{className:"ride-pickup-date text-muted",children:[f(gE,{size:28}),f("span",{children:"Pickup Date:"})," ",f("p",{children:" "}),D(r.date).format("dddd, MMM D YYYY")]}),A(_e.Text,{className:"ride-pickup-time text-muted",children:[f(mE,{size:28}),f("span",{children:"Pickup Time:"})," ",f("p",{children:" "}),EC(r.time)]}),A(_e.Text,{className:"ride-available-seats text-muted",children:[f(dm,{size:28}),f("span",{children:"Seats available:"})," ",f("p",{children:" "}),r.availableSeats," / ",r.totalSeats]}),f("hr",{}),A(bn,{size:"md",className:"chat-button",variant:"success",onClick:s,children:[f(zb,{size:28})," Chat Board"]})]}),f(_e.Footer,{children:f("div",{className:"col",children:o()})})]})})})},IU=()=>{const[t]=Ei();return f(tI,{children:A(eI,{children:[f(Ri,{path:"/login",element:f(jb,{})}),f(Ri,{path:"/",element:t?A(Rt,{children:[f(ja,{}),f(wU,{})]}):f(Ua,{replace:!0,to:"/login"})}),f(Ri,{path:"/ride/:id",element:t?A(Rt,{children:[f(ja,{}),f(TU,{})]}):f(Ua,{replace:!0,to:"/login"})}),f(Ri,{path:"/create-ride",element:t?A(Rt,{children:[f(ja,{}),f(aA,{})]}):f(Ua,{replace:!0,to:"/login"})}),f(Ri,{path:"/chat/:id",element:t?A(Rt,{children:[f(ja,{}),f(kU,{})]}):f(Ua,{replace:!0,to:"/login"})})]})})},NU=md.createRoot(document.getElementById("root"));NU.render(f(Fe.StrictMode,{children:f(IU,{})}))});export default xU();
